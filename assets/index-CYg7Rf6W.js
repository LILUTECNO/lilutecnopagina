(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function ly(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var oy={exports:{}},Po={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE=Symbol.for("react.transitional.element"),oE=Symbol.for("react.fragment");function uy(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:lE,type:e,key:i,ref:t!==void 0?t:null,props:n}}Po.Fragment=oE;Po.jsx=uy;Po.jsxs=uy;oy.exports=Po;var v=oy.exports,cy={exports:{}},$={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh=Symbol.for("react.transitional.element"),uE=Symbol.for("react.portal"),cE=Symbol.for("react.fragment"),hE=Symbol.for("react.strict_mode"),fE=Symbol.for("react.profiler"),dE=Symbol.for("react.consumer"),mE=Symbol.for("react.context"),gE=Symbol.for("react.forward_ref"),pE=Symbol.for("react.suspense"),yE=Symbol.for("react.memo"),hy=Symbol.for("react.lazy"),xm=Symbol.iterator;function vE(e){return e===null||typeof e!="object"?null:(e=xm&&e[xm]||e["@@iterator"],typeof e=="function"?e:null)}var fy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dy=Object.assign,my={};function ea(e,t,n){this.props=e,this.context=t,this.refs=my,this.updater=n||fy}ea.prototype.isReactComponent={};ea.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ea.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gy(){}gy.prototype=ea.prototype;function tf(e,t,n){this.props=e,this.context=t,this.refs=my,this.updater=n||fy}var ef=tf.prototype=new gy;ef.constructor=tf;dy(ef,ea.prototype);ef.isPureReactComponent=!0;var Rm=Array.isArray,Tt={H:null,A:null,T:null,S:null,V:null},py=Object.prototype.hasOwnProperty;function nf(e,t,n,i,r,a){return n=a.ref,{$$typeof:Wh,type:e,key:t,ref:n!==void 0?n:null,props:a}}function _E(e,t){return nf(e.type,t,void 0,void 0,void 0,e.props)}function rf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wh}function EE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Cm=/\/+/g;function Bu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?EE(""+e.key):t.toString(36)}function Nm(){}function TE(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Nm,Nm):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function rr(e,t,n,i,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Wh:case uE:l=!0;break;case hy:return l=e._init,rr(l(e._payload),t,n,i,r)}}if(l)return r=r(e),l=i===""?"."+Bu(e,0):i,Rm(r)?(n="",l!=null&&(n=l.replace(Cm,"$&/")+"/"),rr(r,t,n,"",function(f){return f})):r!=null&&(rf(r)&&(r=_E(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(Cm,"$&/")+"/")+l)),t.push(r)),1;l=0;var o=i===""?".":i+":";if(Rm(e))for(var u=0;u<e.length;u++)i=e[u],a=o+Bu(i,u),l+=rr(i,t,n,a,r);else if(u=vE(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,a=o+Bu(i,u++),l+=rr(i,t,n,a,r);else if(a==="object"){if(typeof e.then=="function")return rr(TE(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function dl(e,t,n){if(e==null)return e;var i=[],r=0;return rr(e,i,"","",function(a){return t.call(n,a,r++)}),i}function bE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Dm=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function AE(){}$.Children={map:dl,forEach:function(e,t,n){dl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return dl(e,function(){t++}),t},toArray:function(e){return dl(e,function(t){return t})||[]},only:function(e){if(!rf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$.Component=ea;$.Fragment=cE;$.Profiler=fE;$.PureComponent=tf;$.StrictMode=hE;$.Suspense=pE;$.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt;$.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Tt.H.useMemoCache(e)}};$.cache=function(e){return function(){return e.apply(null,arguments)}};$.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=dy({},e.props),r=e.key,a=void 0;if(t!=null)for(l in t.ref!==void 0&&(a=void 0),t.key!==void 0&&(r=""+t.key),t)!py.call(t,l)||l==="key"||l==="__self"||l==="__source"||l==="ref"&&t.ref===void 0||(i[l]=t[l]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var o=Array(l),u=0;u<l;u++)o[u]=arguments[u+2];i.children=o}return nf(e.type,r,void 0,void 0,a,i)};$.createContext=function(e){return e={$$typeof:mE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:dE,_context:e},e};$.createElement=function(e,t,n){var i,r={},a=null;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)py.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var o=Array(l),u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}if(e&&e.defaultProps)for(i in l=e.defaultProps,l)r[i]===void 0&&(r[i]=l[i]);return nf(e,a,void 0,void 0,null,r)};$.createRef=function(){return{current:null}};$.forwardRef=function(e){return{$$typeof:gE,render:e}};$.isValidElement=rf;$.lazy=function(e){return{$$typeof:hy,_payload:{_status:-1,_result:e},_init:bE}};$.memo=function(e,t){return{$$typeof:yE,type:e,compare:t===void 0?null:t}};$.startTransition=function(e){var t=Tt.T,n={};Tt.T=n;try{var i=e(),r=Tt.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(AE,Dm)}catch(a){Dm(a)}finally{Tt.T=t}};$.unstable_useCacheRefresh=function(){return Tt.H.useCacheRefresh()};$.use=function(e){return Tt.H.use(e)};$.useActionState=function(e,t,n){return Tt.H.useActionState(e,t,n)};$.useCallback=function(e,t){return Tt.H.useCallback(e,t)};$.useContext=function(e){return Tt.H.useContext(e)};$.useDebugValue=function(){};$.useDeferredValue=function(e,t){return Tt.H.useDeferredValue(e,t)};$.useEffect=function(e,t,n){var i=Tt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};$.useId=function(){return Tt.H.useId()};$.useImperativeHandle=function(e,t,n){return Tt.H.useImperativeHandle(e,t,n)};$.useInsertionEffect=function(e,t){return Tt.H.useInsertionEffect(e,t)};$.useLayoutEffect=function(e,t){return Tt.H.useLayoutEffect(e,t)};$.useMemo=function(e,t){return Tt.H.useMemo(e,t)};$.useOptimistic=function(e,t){return Tt.H.useOptimistic(e,t)};$.useReducer=function(e,t,n){return Tt.H.useReducer(e,t,n)};$.useRef=function(e){return Tt.H.useRef(e)};$.useState=function(e){return Tt.H.useState(e)};$.useSyncExternalStore=function(e,t,n){return Tt.H.useSyncExternalStore(e,t,n)};$.useTransition=function(){return Tt.H.useTransition()};$.version="19.1.0";cy.exports=$;var Y=cy.exports;const af=ly(Y);var yy={exports:{}},qo={},vy={exports:{}},_y={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,K){var Q=B.length;B.push(K);t:for(;0<Q;){var yt=Q-1>>>1,Nt=B[yt];if(0<r(Nt,K))B[yt]=K,B[Q]=Nt,Q=yt;else break t}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var K=B[0],Q=B.pop();if(Q!==K){B[0]=Q;t:for(var yt=0,Nt=B.length,$i=Nt>>>1;yt<$i;){var Ae=2*(yt+1)-1,It=B[Ae],fn=Ae+1,Ke=B[fn];if(0>r(It,Q))fn<Nt&&0>r(Ke,It)?(B[yt]=Ke,B[fn]=Q,yt=fn):(B[yt]=It,B[Ae]=Q,yt=Ae);else if(fn<Nt&&0>r(Ke,Q))B[yt]=Ke,B[fn]=Q,yt=fn;else break t}}return K}function r(B,K){var Q=B.sortIndex-K.sortIndex;return Q!==0?Q:B.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var u=[],f=[],d=1,p=null,m=3,_=!1,O=!1,V=!1,I=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function C(B){for(var K=n(f);K!==null;){if(K.callback===null)i(f);else if(K.startTime<=B)i(f),K.sortIndex=K.expirationTime,t(u,K);else break;K=n(f)}}function U(B){if(V=!1,C(B),!O)if(n(u)!==null)O=!0,q||(q=!0,N());else{var K=n(f);K!==null&&hn(U,K.startTime-B)}}var q=!1,b=-1,y=5,A=-1;function w(){return I?!0:!(e.unstable_now()-A<y)}function R(){if(I=!1,q){var B=e.unstable_now();A=B;var K=!0;try{t:{O=!1,V&&(V=!1,E(b),b=-1),_=!0;var Q=m;try{e:{for(C(B),p=n(u);p!==null&&!(p.expirationTime>B&&w());){var yt=p.callback;if(typeof yt=="function"){p.callback=null,m=p.priorityLevel;var Nt=yt(p.expirationTime<=B);if(B=e.unstable_now(),typeof Nt=="function"){p.callback=Nt,C(B),K=!0;break e}p===n(u)&&i(u),C(B)}else i(u);p=n(u)}if(p!==null)K=!0;else{var $i=n(f);$i!==null&&hn(U,$i.startTime-B),K=!1}}break t}finally{p=null,m=Q,_=!1}K=void 0}}finally{K?N():q=!1}}}var N;if(typeof S=="function")N=function(){S(R)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Ge=x.port2;x.port1.onmessage=R,N=function(){Ge.postMessage(null)}}else N=function(){T(R,0)};function hn(B,K){b=T(function(){B(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(B){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var Q=m;m=K;try{return B()}finally{m=Q}},e.unstable_requestPaint=function(){I=!0},e.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Q=m;m=B;try{return K()}finally{m=Q}},e.unstable_scheduleCallback=function(B,K,Q){var yt=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?yt+Q:yt):Q=yt,B){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=Q+Nt,B={id:d++,callback:K,priorityLevel:B,startTime:Q,expirationTime:Nt,sortIndex:-1},Q>yt?(B.sortIndex=Q,t(f,B),n(u)===null&&B===n(f)&&(V?(E(b),b=-1):V=!0,hn(U,Q-yt))):(B.sortIndex=Nt,t(u,B),O||_||(O=!0,q||(q=!0,N()))),B},e.unstable_shouldYield=w,e.unstable_wrapCallback=function(B){var K=m;return function(){var Q=m;m=K;try{return B.apply(this,arguments)}finally{m=Q}}}})(_y);vy.exports=_y;var SE=vy.exports,Ey={exports:{}},pe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE=Y;function Ty(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ln(){}var ge={d:{f:Ln,r:function(){throw Error(Ty(522))},D:Ln,C:Ln,L:Ln,m:Ln,X:Ln,S:Ln,M:Ln},p:0,findDOMNode:null},xE=Symbol.for("react.portal");function RE(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xE,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Ba=wE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ho(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}pe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ge;pe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Ty(299));return RE(e,t,null,n)};pe.flushSync=function(e){var t=Ba.T,n=ge.p;try{if(Ba.T=null,ge.p=2,e)return e()}finally{Ba.T=t,ge.p=n,ge.d.f()}};pe.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ge.d.C(e,t))};pe.prefetchDNS=function(e){typeof e=="string"&&ge.d.D(e)};pe.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Ho(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?ge.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:a}):n==="script"&&ge.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};pe.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Ho(t.as,t.crossOrigin);ge.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ge.d.M(e)};pe.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Ho(n,t.crossOrigin);ge.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};pe.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Ho(t.as,t.crossOrigin);ge.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ge.d.m(e)};pe.requestFormReset=function(e){ge.d.r(e)};pe.unstable_batchedUpdates=function(e,t){return e(t)};pe.useFormState=function(e,t,n){return Ba.H.useFormState(e,t,n)};pe.useFormStatus=function(){return Ba.H.useHostTransitionStatus()};pe.version="19.1.0";function by(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(by)}catch(e){console.error(e)}}by(),Ey.exports=pe;var CE=Ey.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gt=SE,Ay=Y,NE=CE;function L(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Sy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Om(e){if(xs(e)!==e)throw Error(L(188))}function DE(e){var t=e.alternate;if(!t){if(t=xs(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Om(r),e;if(a===i)return Om(r),t;a=a.sibling}throw Error(L(188))}if(n.return!==i.return)n=r,i=a;else{for(var l=!1,o=r.child;o;){if(o===n){l=!0,n=r,i=a;break}if(o===i){l=!0,i=r,n=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===n){l=!0,n=a,i=r;break}if(o===i){l=!0,i=a,n=r;break}o=o.sibling}if(!l)throw Error(L(189))}}if(n.alternate!==i)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function xy(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=xy(e),t!==null)return t;e=e.sibling}return null}var _t=Object.assign,OE=Symbol.for("react.element"),ml=Symbol.for("react.transitional.element"),Ma=Symbol.for("react.portal"),fr=Symbol.for("react.fragment"),Ry=Symbol.for("react.strict_mode"),Vc=Symbol.for("react.profiler"),VE=Symbol.for("react.provider"),Cy=Symbol.for("react.consumer"),_n=Symbol.for("react.context"),sf=Symbol.for("react.forward_ref"),Mc=Symbol.for("react.suspense"),Ic=Symbol.for("react.suspense_list"),lf=Symbol.for("react.memo"),kn=Symbol.for("react.lazy"),jc=Symbol.for("react.activity"),ME=Symbol.for("react.memo_cache_sentinel"),Vm=Symbol.iterator;function wa(e){return e===null||typeof e!="object"?null:(e=Vm&&e[Vm]||e["@@iterator"],typeof e=="function"?e:null)}var IE=Symbol.for("react.client.reference");function Lc(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===IE?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fr:return"Fragment";case Vc:return"Profiler";case Ry:return"StrictMode";case Mc:return"Suspense";case Ic:return"SuspenseList";case jc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ma:return"Portal";case _n:return(e.displayName||"Context")+".Provider";case Cy:return(e._context.displayName||"Context")+".Consumer";case sf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lf:return t=e.displayName||null,t!==null?t:Lc(e.type)||"Memo";case kn:t=e._payload,e=e._init;try{return Lc(e(t))}catch{}}return null}var Ia=Array.isArray,F=Ay.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=NE.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Vi={pending:!1,data:null,method:null,action:null},Uc=[],dr=-1;function un(e){return{current:e}}function Kt(e){0>dr||(e.current=Uc[dr],Uc[dr]=null,dr--)}function bt(e,t){dr++,Uc[dr]=e.current,e.current=t}var nn=un(null),ss=un(null),$n=un(null),Jl=un(null);function Wl(e,t){switch(bt($n,t),bt(ss,e),bt(nn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ug(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ug(t),e=Fv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Kt(nn),bt(nn,e)}function zr(){Kt(nn),Kt(ss),Kt($n)}function zc(e){e.memoizedState!==null&&bt(Jl,e);var t=nn.current,n=Fv(t,e.type);t!==n&&(bt(ss,e),bt(nn,n))}function to(e){ss.current===e&&(Kt(nn),Kt(ss)),Jl.current===e&&(Kt(Jl),ps._currentValue=Vi)}var kc=Object.prototype.hasOwnProperty,of=Gt.unstable_scheduleCallback,Pu=Gt.unstable_cancelCallback,jE=Gt.unstable_shouldYield,LE=Gt.unstable_requestPaint,rn=Gt.unstable_now,UE=Gt.unstable_getCurrentPriorityLevel,Ny=Gt.unstable_ImmediatePriority,Dy=Gt.unstable_UserBlockingPriority,eo=Gt.unstable_NormalPriority,zE=Gt.unstable_LowPriority,Oy=Gt.unstable_IdlePriority,kE=Gt.log,BE=Gt.unstable_setDisableYieldValue,Rs=null,Ne=null;function Fn(e){if(typeof kE=="function"&&BE(e),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(Rs,e)}catch{}}var De=Math.clz32?Math.clz32:HE,PE=Math.log,qE=Math.LN2;function HE(e){return e>>>=0,e===0?32:31-(PE(e)/qE|0)|0}var gl=256,pl=4194304;function Ri(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Go(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,a=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~a,i!==0?r=Ri(i):(l&=o,l!==0?r=Ri(l):n||(n=o&~e,n!==0&&(r=Ri(n))))):(o=i&~a,o!==0?r=Ri(o):l!==0?r=Ri(l):n||(n=i&~e,n!==0&&(r=Ri(n)))),r===0?0:t!==0&&t!==r&&!(t&a)&&(a=r&-r,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:r}function Cs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function GE(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vy(){var e=gl;return gl<<=1,!(gl&4194048)&&(gl=256),e}function My(){var e=pl;return pl<<=1,!(pl&62914560)&&(pl=4194304),e}function qu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ns(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function FE(e,t,n,i,r,a){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,u=e.expirationTimes,f=e.hiddenUpdates;for(n=l&~n;0<n;){var d=31-De(n),p=1<<d;o[d]=0,u[d]=-1;var m=f[d];if(m!==null)for(f[d]=null,d=0;d<m.length;d++){var _=m[d];_!==null&&(_.lane&=-536870913)}n&=~p}i!==0&&Iy(e,i,0),a!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=a&~(l&~t))}function Iy(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-De(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function jy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-De(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function uf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function cf(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Ly(){var e=ut.p;return e!==0?e:(e=window.event,e===void 0?32:e1(e.type))}function QE(e,t){var n=ut.p;try{return ut.p=e,t()}finally{ut.p=n}}var Ei=Math.random().toString(36).slice(2),oe="__reactFiber$"+Ei,Te="__reactProps$"+Ei,na="__reactContainer$"+Ei,Bc="__reactEvents$"+Ei,YE="__reactListeners$"+Ei,XE="__reactHandles$"+Ei,Mm="__reactResources$"+Ei,Ds="__reactMarker$"+Ei;function hf(e){delete e[oe],delete e[Te],delete e[Bc],delete e[YE],delete e[XE]}function mr(e){var t=e[oe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[na]||n[oe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Bg(e);e!==null;){if(n=e[oe])return n;e=Bg(e)}return t}e=n,n=e.parentNode}return null}function ia(e){if(e=e[oe]||e[na]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ja(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(L(33))}function Sr(e){var t=e[Mm];return t||(t=e[Mm]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Yt(e){e[Ds]=!0}var Uy=new Set,zy={};function Qi(e,t){kr(e,t),kr(e+"Capture",t)}function kr(e,t){for(zy[e]=t,e=0;e<t.length;e++)Uy.add(t[e])}var KE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Im={},jm={};function ZE(e){return kc.call(jm,e)?!0:kc.call(Im,e)?!1:KE.test(e)?jm[e]=!0:(Im[e]=!0,!1)}function Il(e,t,n){if(ZE(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function yl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function gn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var Hu,Lm;function ar(e){if(Hu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Hu=t&&t[1]||"",Lm=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hu+e+Lm}var Gu=!1;function Fu(e,t){if(!e||Gu)return"";Gu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(_){var m=_}Reflect.construct(e,[],p)}else{try{p.call()}catch(_){m=_}e.call(p.prototype)}}else{try{throw Error()}catch(_){m=_}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(_){if(_&&m&&typeof _.stack=="string")return[_.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),l=a[0],o=a[1];if(l&&o){var u=l.split(`
`),f=o.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<f.length&&!f[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===f.length)for(i=u.length-1,r=f.length-1;1<=i&&0<=r&&u[i]!==f[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==f[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==f[r]){var d=`
`+u[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=r);break}}}finally{Gu=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ar(n):""}function $E(e){switch(e.tag){case 26:case 27:case 5:return ar(e.type);case 16:return ar("Lazy");case 13:return ar("Suspense");case 19:return ar("SuspenseList");case 0:case 15:return Fu(e.type,!1);case 11:return Fu(e.type.render,!1);case 1:return Fu(e.type,!0);case 31:return ar("Activity");default:return""}}function Um(e){try{var t="";do t+=$E(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ky(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function JE(e){var t=ky(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(l){i=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function no(e){e._valueTracker||(e._valueTracker=JE(e))}function By(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ky(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function io(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var WE=/[\n"\\]/g;function ze(e){return e.replace(WE,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Pc(e,t,n,i,r,a,l,o){e.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.type=l:e.removeAttribute("type"),t!=null?l==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+je(t)):e.value!==""+je(t)&&(e.value=""+je(t)):l!=="submit"&&l!=="reset"||e.removeAttribute("value"),t!=null?qc(e,l,je(t)):n!=null?qc(e,l,je(n)):i!=null&&e.removeAttribute("value"),r==null&&a!=null&&(e.defaultChecked=!!a),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+je(o):e.removeAttribute("name")}function Py(e,t,n,i,r,a,l,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null))return;n=n!=null?""+je(n):"",t=t!=null?""+je(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.name=l)}function qc(e,t,n){t==="number"&&io(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wr(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+je(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function qy(e,t,n){if(t!=null&&(t=""+je(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+je(n):""}function Hy(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(L(92));if(Ia(i)){if(1<i.length)throw Error(L(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=je(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function Br(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var tT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zm(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||tT.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Gy(e,t,n){if(t!=null&&typeof t!="object")throw Error(L(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&zm(e,r,i)}else for(var a in t)t.hasOwnProperty(a)&&zm(e,a,t[a])}function ff(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jl(e){return nT.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Hc=null;function df(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gr=null,xr=null;function km(e){var t=ia(e);if(t&&(e=t.stateNode)){var n=e[Te]||null;t:switch(e=t.stateNode,t.type){case"input":if(Pc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ze(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Te]||null;if(!r)throw Error(L(90));Pc(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&By(i)}break t;case"textarea":qy(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&wr(e,!!n.multiple,t,!1)}}}var Qu=!1;function Fy(e,t,n){if(Qu)return e(t,n);Qu=!0;try{var i=e(t);return i}finally{if(Qu=!1,(gr!==null||xr!==null)&&(tu(),gr&&(t=gr,e=xr,xr=gr=null,km(t),e)))for(t=0;t<e.length;t++)km(e[t])}}function ls(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Te]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gc=!1;if(xn)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){Gc=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{Gc=!1}var Qn=null,mf=null,Ll=null;function Qy(){if(Ll)return Ll;var e,t=mf,n=t.length,i,r="value"in Qn?Qn.value:Qn.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var l=n-e;for(i=1;i<=l&&t[n-i]===r[a-i];i++);return Ll=r.slice(e,1<i?1-i:void 0)}function Ul(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vl(){return!0}function Bm(){return!1}function be(e){function t(n,i,r,a,l){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?vl:Bm,this.isPropagationStopped=Bm,this}return _t(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vl)},persist:function(){},isPersistent:vl}),t}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fo=be(Yi),Os=_t({},Yi,{view:0,detail:0}),iT=be(Os),Yu,Xu,Ra,Qo=_t({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ra&&(Ra&&e.type==="mousemove"?(Yu=e.screenX-Ra.screenX,Xu=e.screenY-Ra.screenY):Xu=Yu=0,Ra=e),Yu)},movementY:function(e){return"movementY"in e?e.movementY:Xu}}),Pm=be(Qo),rT=_t({},Qo,{dataTransfer:0}),aT=be(rT),sT=_t({},Os,{relatedTarget:0}),Ku=be(sT),lT=_t({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),oT=be(lT),uT=_t({},Yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cT=be(uT),hT=_t({},Yi,{data:0}),qm=be(hT),fT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mT[e])?!!t[e]:!1}function gf(){return gT}var pT=_t({},Os,{key:function(e){if(e.key){var t=fT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ul(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gf,charCode:function(e){return e.type==="keypress"?Ul(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ul(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yT=be(pT),vT=_t({},Qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hm=be(vT),_T=_t({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gf}),ET=be(_T),TT=_t({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),bT=be(TT),AT=_t({},Qo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ST=be(AT),wT=_t({},Yi,{newState:0,oldState:0}),xT=be(wT),RT=[9,13,27,32],pf=xn&&"CompositionEvent"in window,Pa=null;xn&&"documentMode"in document&&(Pa=document.documentMode);var CT=xn&&"TextEvent"in window&&!Pa,Yy=xn&&(!pf||Pa&&8<Pa&&11>=Pa),Gm=" ",Fm=!1;function Xy(e,t){switch(e){case"keyup":return RT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ky(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pr=!1;function NT(e,t){switch(e){case"compositionend":return Ky(t);case"keypress":return t.which!==32?null:(Fm=!0,Gm);case"textInput":return e=t.data,e===Gm&&Fm?null:e;default:return null}}function DT(e,t){if(pr)return e==="compositionend"||!pf&&Xy(e,t)?(e=Qy(),Ll=mf=Qn=null,pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yy&&t.locale!=="ko"?null:t.data;default:return null}}var OT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!OT[e.type]:t==="textarea"}function Zy(e,t,n,i){gr?xr?xr.push(i):xr=[i]:gr=i,t=bo(t,"onChange"),0<t.length&&(n=new Fo("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var qa=null,os=null;function VT(e){qv(e,0)}function Yo(e){var t=ja(e);if(By(t))return e}function Ym(e,t){if(e==="change")return t}var $y=!1;if(xn){var Zu;if(xn){var $u="oninput"in document;if(!$u){var Xm=document.createElement("div");Xm.setAttribute("oninput","return;"),$u=typeof Xm.oninput=="function"}Zu=$u}else Zu=!1;$y=Zu&&(!document.documentMode||9<document.documentMode)}function Km(){qa&&(qa.detachEvent("onpropertychange",Jy),os=qa=null)}function Jy(e){if(e.propertyName==="value"&&Yo(os)){var t=[];Zy(t,os,e,df(e)),Fy(VT,t)}}function MT(e,t,n){e==="focusin"?(Km(),qa=t,os=n,qa.attachEvent("onpropertychange",Jy)):e==="focusout"&&Km()}function IT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yo(os)}function jT(e,t){if(e==="click")return Yo(t)}function LT(e,t){if(e==="input"||e==="change")return Yo(t)}function UT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Me=typeof Object.is=="function"?Object.is:UT;function us(e,t){if(Me(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!kc.call(t,r)||!Me(e[r],t[r]))return!1}return!0}function Zm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $m(e,t){var n=Zm(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Zm(n)}}function Wy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function t0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=io(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=io(e.document)}return t}function yf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var zT=xn&&"documentMode"in document&&11>=document.documentMode,yr=null,Fc=null,Ha=null,Qc=!1;function Jm(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qc||yr==null||yr!==io(i)||(i=yr,"selectionStart"in i&&yf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ha&&us(Ha,i)||(Ha=i,i=bo(Fc,"onSelect"),0<i.length&&(t=new Fo("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=yr)))}function xi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vr={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionrun:xi("Transition","TransitionRun"),transitionstart:xi("Transition","TransitionStart"),transitioncancel:xi("Transition","TransitionCancel"),transitionend:xi("Transition","TransitionEnd")},Ju={},e0={};xn&&(e0=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);function Xi(e){if(Ju[e])return Ju[e];if(!vr[e])return e;var t=vr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in e0)return Ju[e]=t[n];return e}var n0=Xi("animationend"),i0=Xi("animationiteration"),r0=Xi("animationstart"),kT=Xi("transitionrun"),BT=Xi("transitionstart"),PT=Xi("transitioncancel"),a0=Xi("transitionend"),s0=new Map,Yc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yc.push("scrollEnd");function Xe(e,t){s0.set(e,t),Qi(t,[e])}var Wm=new WeakMap;function ke(e,t){if(typeof e=="object"&&e!==null){var n=Wm.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Um(t)},Wm.set(e,t),t)}return{value:e,source:t,stack:Um(t)}}var Ie=[],_r=0,vf=0;function Xo(){for(var e=_r,t=vf=_r=0;t<e;){var n=Ie[t];Ie[t++]=null;var i=Ie[t];Ie[t++]=null;var r=Ie[t];Ie[t++]=null;var a=Ie[t];if(Ie[t++]=null,i!==null&&r!==null){var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}a!==0&&l0(n,r,a)}}function Ko(e,t,n,i){Ie[_r++]=e,Ie[_r++]=t,Ie[_r++]=n,Ie[_r++]=i,vf|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function _f(e,t,n,i){return Ko(e,t,n,i),ro(e)}function ra(e,t){return Ko(e,null,null,t),ro(e)}function l0(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,a=e.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(r=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,r&&t!==null&&(r=31-De(n),e=a.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),a):null}function ro(e){if(50<Wa)throw Wa=0,mh=null,Error(L(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Er={};function qT(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ce(e,t,n,i){return new qT(e,t,n,i)}function Ef(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sn(e,t){var n=e.alternate;return n===null?(n=Ce(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function o0(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zl(e,t,n,i,r,a){var l=0;if(i=e,typeof e=="function")Ef(e)&&(l=1);else if(typeof e=="string")l=G2(e,n,nn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case jc:return e=Ce(31,n,t,r),e.elementType=jc,e.lanes=a,e;case fr:return Mi(n.children,r,a,t);case Ry:l=8,r|=24;break;case Vc:return e=Ce(12,n,t,r|2),e.elementType=Vc,e.lanes=a,e;case Mc:return e=Ce(13,n,t,r),e.elementType=Mc,e.lanes=a,e;case Ic:return e=Ce(19,n,t,r),e.elementType=Ic,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case VE:case _n:l=10;break t;case Cy:l=9;break t;case sf:l=11;break t;case lf:l=14;break t;case kn:l=16,i=null;break t}l=29,n=Error(L(130,e===null?"null":typeof e,"")),i=null}return t=Ce(l,n,t,r),t.elementType=e,t.type=i,t.lanes=a,t}function Mi(e,t,n,i){return e=Ce(7,e,i,t),e.lanes=n,e}function Wu(e,t,n){return e=Ce(6,e,null,t),e.lanes=n,e}function tc(e,t,n){return t=Ce(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Tr=[],br=0,ao=null,so=0,Le=[],Ue=0,Ii=null,En=1,Tn="";function Ci(e,t){Tr[br++]=so,Tr[br++]=ao,ao=e,so=t}function u0(e,t,n){Le[Ue++]=En,Le[Ue++]=Tn,Le[Ue++]=Ii,Ii=e;var i=En;e=Tn;var r=32-De(i)-1;i&=~(1<<r),n+=1;var a=32-De(t)+r;if(30<a){var l=r-r%5;a=(i&(1<<l)-1).toString(32),i>>=l,r-=l,En=1<<32-De(t)+r|n<<r|i,Tn=a+e}else En=1<<a|n<<r|i,Tn=e}function Tf(e){e.return!==null&&(Ci(e,1),u0(e,1,0))}function bf(e){for(;e===ao;)ao=Tr[--br],Tr[br]=null,so=Tr[--br],Tr[br]=null;for(;e===Ii;)Ii=Le[--Ue],Le[Ue]=null,Tn=Le[--Ue],Le[Ue]=null,En=Le[--Ue],Le[Ue]=null}var fe=null,Rt=null,ot=!1,ji=null,Je=!1,Xc=Error(L(519));function Pi(e){var t=Error(L(418,""));throw cs(ke(t,e)),Xc}function tg(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[oe]=e,t[Te]=i,n){case"dialog":tt("cancel",t),tt("close",t);break;case"iframe":case"object":case"embed":tt("load",t);break;case"video":case"audio":for(n=0;n<ds.length;n++)tt(ds[n],t);break;case"source":tt("error",t);break;case"img":case"image":case"link":tt("error",t),tt("load",t);break;case"details":tt("toggle",t);break;case"input":tt("invalid",t),Py(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),no(t);break;case"select":tt("invalid",t);break;case"textarea":tt("invalid",t),Hy(t,i.value,i.defaultValue,i.children),no(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Gv(t.textContent,n)?(i.popover!=null&&(tt("beforetoggle",t),tt("toggle",t)),i.onScroll!=null&&tt("scroll",t),i.onScrollEnd!=null&&tt("scrollend",t),i.onClick!=null&&(t.onclick=iu),t=!0):t=!1,t||Pi(e)}function eg(e){for(fe=e.return;fe;)switch(fe.tag){case 5:case 13:Je=!1;return;case 27:case 3:Je=!0;return;default:fe=fe.return}}function Ca(e){if(e!==fe)return!1;if(!ot)return eg(e),ot=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Eh(e.type,e.memoizedProps)),n=!n),n&&Rt&&Pi(e),eg(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Rt=Ye(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Rt=null}}else t===27?(t=Rt,Ti(e.type)?(e=Ah,Ah=null,Rt=e):Rt=t):Rt=fe?Ye(e.stateNode.nextSibling):null;return!0}function Vs(){Rt=fe=null,ot=!1}function ng(){var e=ji;return e!==null&&(_e===null?_e=e:_e.push.apply(_e,e),ji=null),e}function cs(e){ji===null?ji=[e]:ji.push(e)}var Kc=un(null),Ki=null,bn=null;function Pn(e,t,n){bt(Kc,t._currentValue),t._currentValue=n}function wn(e){e._currentValue=Kc.current,Kt(Kc)}function Zc(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function $c(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){var l=r.child;a=a.firstContext;t:for(;a!==null;){var o=a;a=r;for(var u=0;u<t.length;u++)if(o.context===t[u]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Zc(a.return,n,e),i||(l=null);break t}a=o.next}}else if(r.tag===18){if(l=r.return,l===null)throw Error(L(341));l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),Zc(l,n,e),l=null}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===e){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}}function Ms(e,t,n,i){e=null;for(var r=t,a=!1;r!==null;){if(!a){if(r.flags&524288)a=!0;else if(r.flags&262144)break}if(r.tag===10){var l=r.alternate;if(l===null)throw Error(L(387));if(l=l.memoizedProps,l!==null){var o=r.type;Me(r.pendingProps.value,l.value)||(e!==null?e.push(o):e=[o])}}else if(r===Jl.current){if(l=r.alternate,l===null)throw Error(L(387));l.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(ps):e=[ps])}r=r.return}e!==null&&$c(t,e,n,i),t.flags|=262144}function lo(e){for(e=e.firstContext;e!==null;){if(!Me(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qi(e){Ki=e,bn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ue(e){return c0(Ki,e)}function _l(e,t){return Ki===null&&qi(e),c0(e,t)}function c0(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},bn===null){if(e===null)throw Error(L(308));bn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bn=bn.next=t;return n}var HT=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},GT=Gt.unstable_scheduleCallback,FT=Gt.unstable_NormalPriority,Bt={$$typeof:_n,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Af(){return{controller:new HT,data:new Map,refCount:0}}function Is(e){e.refCount--,e.refCount===0&&GT(FT,function(){e.controller.abort()})}var Ga=null,Jc=0,Pr=0,Rr=null;function QT(e,t){if(Ga===null){var n=Ga=[];Jc=0,Pr=Qf(),Rr={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Jc++,t.then(ig,ig),t}function ig(){if(--Jc===0&&Ga!==null){Rr!==null&&(Rr.status="fulfilled");var e=Ga;Ga=null,Pr=0,Rr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function YT(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var rg=F.S;F.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&QT(e,t),rg!==null&&rg(e,t)};var Li=un(null);function Sf(){var e=Li.current;return e!==null?e:pt.pooledCache}function kl(e,t){t===null?bt(Li,Li.current):bt(Li,t.pool)}function h0(){var e=Sf();return e===null?null:{parent:Bt._currentValue,pool:e}}var js=Error(L(460)),f0=Error(L(474)),Zo=Error(L(542)),Wc={then:function(){}};function ag(e){return e=e.status,e==="fulfilled"||e==="rejected"}function El(){}function d0(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(El,El),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lg(e),e;default:if(typeof t.status=="string")t.then(El,El);else{if(e=pt,e!==null&&100<e.shellSuspendCounter)throw Error(L(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lg(e),e}throw Fa=t,js}}var Fa=null;function sg(){if(Fa===null)throw Error(L(459));var e=Fa;return Fa=null,e}function lg(e){if(e===js||e===Zo)throw Error(L(483))}var Bn=!1;function wf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function th(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Jn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ht&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=ro(e),l0(e,null,n),t}return Ko(e,i,t,n),ro(e)}function Qa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,jy(e,n)}}function ec(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?r=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var eh=!1;function Ya(){if(eh){var e=Rr;if(e!==null)throw e}}function Xa(e,t,n,i){eh=!1;var r=e.updateQueue;Bn=!1;var a=r.firstBaseUpdate,l=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var u=o,f=u.next;u.next=null,l===null?a=f:l.next=f,l=u;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=f:o.next=f,d.lastBaseUpdate=u))}if(a!==null){var p=r.baseState;l=0,d=f=u=null,o=a;do{var m=o.lane&-536870913,_=m!==o.lane;if(_?(rt&m)===m:(i&m)===m){m!==0&&m===Pr&&(eh=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var O=e,V=o;m=t;var I=n;switch(V.tag){case 1:if(O=V.payload,typeof O=="function"){p=O.call(I,p,m);break t}p=O;break t;case 3:O.flags=O.flags&-65537|128;case 0:if(O=V.payload,m=typeof O=="function"?O.call(I,p,m):O,m==null)break t;p=_t({},p,m);break t;case 2:Bn=!0}}m=o.callback,m!==null&&(e.flags|=64,_&&(e.flags|=8192),_=r.callbacks,_===null?r.callbacks=[m]:_.push(m))}else _={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(f=d=_,u=p):d=d.next=_,l|=m;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;_=o,o=_.next,_.next=null,r.lastBaseUpdate=_,r.shared.pending=null}}while(!0);d===null&&(u=p),r.baseState=u,r.firstBaseUpdate=f,r.lastBaseUpdate=d,a===null&&(r.shared.lanes=0),fi|=l,e.lanes=l,e.memoizedState=p}}function m0(e,t){if(typeof e!="function")throw Error(L(191,e));e.call(t)}function g0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)m0(n[e],t)}var qr=un(null),oo=un(0);function og(e,t){e=Nn,bt(oo,e),bt(qr,t),Nn=e|t.baseLanes}function nh(){bt(oo,Nn),bt(qr,qr.current)}function xf(){Nn=oo.current,Kt(qr),Kt(oo)}var ci=0,J=null,dt=null,Lt=null,uo=!1,Cr=!1,Hi=!1,co=0,hs=0,Nr=null,XT=0;function Dt(){throw Error(L(321))}function Rf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Me(e[n],t[n]))return!1;return!0}function Cf(e,t,n,i,r,a){return ci=a,J=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,F.H=e===null||e.memoizedState===null?Q0:Y0,Hi=!1,a=n(i,r),Hi=!1,Cr&&(a=y0(t,n,i,r)),p0(e),a}function p0(e){F.H=ho;var t=dt!==null&&dt.next!==null;if(ci=0,Lt=dt=J=null,uo=!1,hs=0,Nr=null,t)throw Error(L(300));e===null||Xt||(e=e.dependencies,e!==null&&lo(e)&&(Xt=!0))}function y0(e,t,n,i){J=e;var r=0;do{if(Cr&&(Nr=null),hs=0,Cr=!1,25<=r)throw Error(L(301));if(r+=1,Lt=dt=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}F.H=e2,a=t(n,i)}while(Cr);return a}function KT(){var e=F.H,t=e.useState()[0];return t=typeof t.then=="function"?Ls(t):t,e=e.useState()[0],(dt!==null?dt.memoizedState:null)!==e&&(J.flags|=1024),t}function Nf(){var e=co!==0;return co=0,e}function Df(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Of(e){if(uo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}uo=!1}ci=0,Lt=dt=J=null,Cr=!1,hs=co=0,Nr=null}function ye(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?J.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function kt(){if(dt===null){var e=J.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=Lt===null?J.memoizedState:Lt.next;if(t!==null)Lt=t,dt=e;else{if(e===null)throw J.alternate===null?Error(L(467)):Error(L(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Lt===null?J.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function Vf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ls(e){var t=hs;return hs+=1,Nr===null&&(Nr=[]),e=d0(Nr,e,t),t=J,(Lt===null?t.memoizedState:Lt.next)===null&&(t=t.alternate,F.H=t===null||t.memoizedState===null?Q0:Y0),e}function $o(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ls(e);if(e.$$typeof===_n)return ue(e)}throw Error(L(438,String(e)))}function Mf(e){var t=null,n=J.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=J.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Vf(),J.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=ME;return t.index++,n}function Rn(e,t){return typeof t=="function"?t(e):t}function Bl(e){var t=kt();return If(t,dt,e)}function If(e,t,n){var i=e.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=n;var r=e.baseQueue,a=i.pending;if(a!==null){if(r!==null){var l=r.next;r.next=a.next,a.next=l}t.baseQueue=r=a,i.pending=null}if(a=e.baseState,r===null)e.memoizedState=a;else{t=r.next;var o=l=null,u=null,f=t,d=!1;do{var p=f.lane&-536870913;if(p!==f.lane?(rt&p)===p:(ci&p)===p){var m=f.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),p===Pr&&(d=!0);else if((ci&m)===m){f=f.next,m===Pr&&(d=!0);continue}else p={lane:0,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},u===null?(o=u=p,l=a):u=u.next=p,J.lanes|=m,fi|=m;p=f.action,Hi&&n(a,p),a=f.hasEagerState?f.eagerState:n(a,p)}else m={lane:p,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},u===null?(o=u=m,l=a):u=u.next=m,J.lanes|=p,fi|=p;f=f.next}while(f!==null&&f!==t);if(u===null?l=a:u.next=o,!Me(a,e.memoizedState)&&(Xt=!0,d&&(n=Rr,n!==null)))throw n;e.memoizedState=a,e.baseState=l,e.baseQueue=u,i.lastRenderedState=a}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function nc(e){var t=kt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do a=e(a,l.action),l=l.next;while(l!==r);Me(a,t.memoizedState)||(Xt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function v0(e,t,n){var i=J,r=kt(),a=ot;if(a){if(n===void 0)throw Error(L(407));n=n()}else n=t();var l=!Me((dt||r).memoizedState,n);l&&(r.memoizedState=n,Xt=!0),r=r.queue;var o=T0.bind(null,i,r,e);if(Us(2048,8,o,[e]),r.getSnapshot!==t||l||Lt!==null&&Lt.memoizedState.tag&1){if(i.flags|=2048,Hr(9,Jo(),E0.bind(null,i,r,n,t),null),pt===null)throw Error(L(349));a||ci&124||_0(i,t,n)}return n}function _0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=J.updateQueue,t===null?(t=Vf(),J.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function E0(e,t,n,i){t.value=n,t.getSnapshot=i,b0(t)&&A0(e)}function T0(e,t,n){return n(function(){b0(t)&&A0(e)})}function b0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Me(e,n)}catch{return!0}}function A0(e){var t=ra(e,2);t!==null&&Ve(t,e,2)}function ih(e){var t=ye();if(typeof e=="function"){var n=e;if(e=n(),Hi){Fn(!0);try{n()}finally{Fn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:e},t}function S0(e,t,n,i){return e.baseState=n,If(e,dt,typeof i=="function"?i:Rn)}function ZT(e,t,n,i,r){if(Wo(e))throw Error(L(485));if(e=t.action,e!==null){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){a.listeners.push(l)}};F.T!==null?n(!0):a.isTransition=!1,i(a),n=t.pending,n===null?(a.next=t.pending=a,w0(t,a)):(a.next=n.next,t.pending=n.next=a)}}function w0(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var a=F.T,l={};F.T=l;try{var o=n(r,i),u=F.S;u!==null&&u(l,o),ug(e,t,o)}catch(f){rh(e,t,f)}finally{F.T=a}}else try{a=n(r,i),ug(e,t,a)}catch(f){rh(e,t,f)}}function ug(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){cg(e,t,i)},function(i){return rh(e,t,i)}):cg(e,t,n)}function cg(e,t,n){t.status="fulfilled",t.value=n,x0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,w0(e,n)))}function rh(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,x0(t),t=t.next;while(t!==i)}e.action=null}function x0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function R0(e,t){return t}function hg(e,t){if(ot){var n=pt.formState;if(n!==null){t:{var i=J;if(ot){if(Rt){e:{for(var r=Rt,a=Je;r.nodeType!==8;){if(!a){r=null;break e}if(r=Ye(r.nextSibling),r===null){r=null;break e}}a=r.data,r=a==="F!"||a==="F"?r:null}if(r){Rt=Ye(r.nextSibling),i=r.data==="F!";break t}}Pi(i)}i=!1}i&&(t=n[0])}}return n=ye(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:R0,lastRenderedState:t},n.queue=i,n=H0.bind(null,J,i),i.dispatch=n,i=ih(!1),a=zf.bind(null,J,!1,i.queue),i=ye(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=ZT.bind(null,J,r,a,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function fg(e){var t=kt();return C0(t,dt,e)}function C0(e,t,n){if(t=If(e,t,R0)[0],e=Bl(Rn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Ls(t)}catch(l){throw l===js?Zo:l}else i=t;t=kt();var r=t.queue,a=r.dispatch;return n!==t.memoizedState&&(J.flags|=2048,Hr(9,Jo(),$T.bind(null,r,n),null)),[i,a,e]}function $T(e,t){e.action=t}function dg(e){var t=kt(),n=dt;if(n!==null)return C0(t,n,e);kt(),t=t.memoizedState,n=kt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Hr(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=J.updateQueue,t===null&&(t=Vf(),J.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Jo(){return{destroy:void 0,resource:void 0}}function N0(){return kt().memoizedState}function Pl(e,t,n,i){var r=ye();i=i===void 0?null:i,J.flags|=e,r.memoizedState=Hr(1|t,Jo(),n,i)}function Us(e,t,n,i){var r=kt();i=i===void 0?null:i;var a=r.memoizedState.inst;dt!==null&&i!==null&&Rf(i,dt.memoizedState.deps)?r.memoizedState=Hr(t,a,n,i):(J.flags|=e,r.memoizedState=Hr(1|t,a,n,i))}function mg(e,t){Pl(8390656,8,e,t)}function D0(e,t){Us(2048,8,e,t)}function O0(e,t){return Us(4,2,e,t)}function V0(e,t){return Us(4,4,e,t)}function M0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function I0(e,t,n){n=n!=null?n.concat([e]):null,Us(4,4,M0.bind(null,t,e),n)}function jf(){}function j0(e,t){var n=kt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Rf(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function L0(e,t){var n=kt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Rf(t,i[1]))return i[0];if(i=e(),Hi){Fn(!0);try{e()}finally{Fn(!1)}}return n.memoizedState=[i,t],i}function Lf(e,t,n){return n===void 0||ci&1073741824?e.memoizedState=t:(e.memoizedState=n,e=xv(),J.lanes|=e,fi|=e,n)}function U0(e,t,n,i){return Me(n,t)?n:qr.current!==null?(e=Lf(e,n,i),Me(e,t)||(Xt=!0),e):ci&42?(e=xv(),J.lanes|=e,fi|=e,t):(Xt=!0,e.memoizedState=n)}function z0(e,t,n,i,r){var a=ut.p;ut.p=a!==0&&8>a?a:8;var l=F.T,o={};F.T=o,zf(e,!1,t,n);try{var u=r(),f=F.S;if(f!==null&&f(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=YT(u,i);Ka(e,t,d,Oe(e))}else Ka(e,t,i,Oe(e))}catch(p){Ka(e,t,{then:function(){},status:"rejected",reason:p},Oe())}finally{ut.p=a,F.T=l}}function JT(){}function ah(e,t,n,i){if(e.tag!==5)throw Error(L(476));var r=k0(e).queue;z0(e,r,t,Vi,n===null?JT:function(){return B0(e),n(i)})}function k0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Vi,baseState:Vi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:Vi},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function B0(e){var t=k0(e).next.queue;Ka(e,t,{},Oe())}function Uf(){return ue(ps)}function P0(){return kt().memoizedState}function q0(){return kt().memoizedState}function WT(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Oe();e=Jn(n);var i=Wn(t,e,n);i!==null&&(Ve(i,t,n),Qa(i,t,n)),t={cache:Af()},e.payload=t;return}t=t.return}}function t2(e,t,n){var i=Oe();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Wo(e)?G0(t,n):(n=_f(e,t,n,i),n!==null&&(Ve(n,e,i),F0(n,t,i)))}function H0(e,t,n){var i=Oe();Ka(e,t,n,i)}function Ka(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wo(e))G0(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,o=a(l,n);if(r.hasEagerState=!0,r.eagerState=o,Me(o,l))return Ko(e,t,r,0),pt===null&&Xo(),!1}catch{}finally{}if(n=_f(e,t,r,i),n!==null)return Ve(n,e,i),F0(n,t,i),!0}return!1}function zf(e,t,n,i){if(i={lane:2,revertLane:Qf(),action:i,hasEagerState:!1,eagerState:null,next:null},Wo(e)){if(t)throw Error(L(479))}else t=_f(e,n,i,2),t!==null&&Ve(t,e,2)}function Wo(e){var t=e.alternate;return e===J||t!==null&&t===J}function G0(e,t){Cr=uo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function F0(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,jy(e,n)}}var ho={readContext:ue,use:$o,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt},Q0={readContext:ue,use:$o,useCallback:function(e,t){return ye().memoizedState=[e,t===void 0?null:t],e},useContext:ue,useEffect:mg,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Pl(4194308,4,M0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pl(4194308,4,e,t)},useInsertionEffect:function(e,t){Pl(4,2,e,t)},useMemo:function(e,t){var n=ye();t=t===void 0?null:t;var i=e();if(Hi){Fn(!0);try{e()}finally{Fn(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=ye();if(n!==void 0){var r=n(t);if(Hi){Fn(!0);try{n(t)}finally{Fn(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=t2.bind(null,J,e),[i.memoizedState,e]},useRef:function(e){var t=ye();return e={current:e},t.memoizedState=e},useState:function(e){e=ih(e);var t=e.queue,n=H0.bind(null,J,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:jf,useDeferredValue:function(e,t){var n=ye();return Lf(n,e,t)},useTransition:function(){var e=ih(!1);return e=z0.bind(null,J,e.queue,!0,!1),ye().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=J,r=ye();if(ot){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),pt===null)throw Error(L(349));rt&124||_0(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,mg(T0.bind(null,i,a,e),[e]),i.flags|=2048,Hr(9,Jo(),E0.bind(null,i,a,n,t),null),n},useId:function(){var e=ye(),t=pt.identifierPrefix;if(ot){var n=Tn,i=En;n=(i&~(1<<32-De(i)-1)).toString(32)+n,t="«"+t+"R"+n,n=co++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=XT++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Uf,useFormState:hg,useActionState:hg,useOptimistic:function(e){var t=ye();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=zf.bind(null,J,!0,n),n.dispatch=t,[e,t]},useMemoCache:Mf,useCacheRefresh:function(){return ye().memoizedState=WT.bind(null,J)}},Y0={readContext:ue,use:$o,useCallback:j0,useContext:ue,useEffect:D0,useImperativeHandle:I0,useInsertionEffect:O0,useLayoutEffect:V0,useMemo:L0,useReducer:Bl,useRef:N0,useState:function(){return Bl(Rn)},useDebugValue:jf,useDeferredValue:function(e,t){var n=kt();return U0(n,dt.memoizedState,e,t)},useTransition:function(){var e=Bl(Rn)[0],t=kt().memoizedState;return[typeof e=="boolean"?e:Ls(e),t]},useSyncExternalStore:v0,useId:P0,useHostTransitionStatus:Uf,useFormState:fg,useActionState:fg,useOptimistic:function(e,t){var n=kt();return S0(n,dt,e,t)},useMemoCache:Mf,useCacheRefresh:q0},e2={readContext:ue,use:$o,useCallback:j0,useContext:ue,useEffect:D0,useImperativeHandle:I0,useInsertionEffect:O0,useLayoutEffect:V0,useMemo:L0,useReducer:nc,useRef:N0,useState:function(){return nc(Rn)},useDebugValue:jf,useDeferredValue:function(e,t){var n=kt();return dt===null?Lf(n,e,t):U0(n,dt.memoizedState,e,t)},useTransition:function(){var e=nc(Rn)[0],t=kt().memoizedState;return[typeof e=="boolean"?e:Ls(e),t]},useSyncExternalStore:v0,useId:P0,useHostTransitionStatus:Uf,useFormState:dg,useActionState:dg,useOptimistic:function(e,t){var n=kt();return dt!==null?S0(n,dt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Mf,useCacheRefresh:q0},Dr=null,fs=0;function Tl(e){var t=fs;return fs+=1,Dr===null&&(Dr=[]),d0(Dr,e,t)}function Na(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function bl(e,t){throw t.$$typeof===OE?Error(L(525)):(e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function gg(e){var t=e._init;return t(e._payload)}function X0(e){function t(T,E){if(e){var S=T.deletions;S===null?(T.deletions=[E],T.flags|=16):S.push(E)}}function n(T,E){if(!e)return null;for(;E!==null;)t(T,E),E=E.sibling;return null}function i(T){for(var E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function r(T,E){return T=Sn(T,E),T.index=0,T.sibling=null,T}function a(T,E,S){return T.index=S,e?(S=T.alternate,S!==null?(S=S.index,S<E?(T.flags|=67108866,E):S):(T.flags|=67108866,E)):(T.flags|=1048576,E)}function l(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function o(T,E,S,C){return E===null||E.tag!==6?(E=Wu(S,T.mode,C),E.return=T,E):(E=r(E,S),E.return=T,E)}function u(T,E,S,C){var U=S.type;return U===fr?d(T,E,S.props.children,C,S.key):E!==null&&(E.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===kn&&gg(U)===E.type)?(E=r(E,S.props),Na(E,S),E.return=T,E):(E=zl(S.type,S.key,S.props,null,T.mode,C),Na(E,S),E.return=T,E)}function f(T,E,S,C){return E===null||E.tag!==4||E.stateNode.containerInfo!==S.containerInfo||E.stateNode.implementation!==S.implementation?(E=tc(S,T.mode,C),E.return=T,E):(E=r(E,S.children||[]),E.return=T,E)}function d(T,E,S,C,U){return E===null||E.tag!==7?(E=Mi(S,T.mode,C,U),E.return=T,E):(E=r(E,S),E.return=T,E)}function p(T,E,S){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Wu(""+E,T.mode,S),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ml:return S=zl(E.type,E.key,E.props,null,T.mode,S),Na(S,E),S.return=T,S;case Ma:return E=tc(E,T.mode,S),E.return=T,E;case kn:var C=E._init;return E=C(E._payload),p(T,E,S)}if(Ia(E)||wa(E))return E=Mi(E,T.mode,S,null),E.return=T,E;if(typeof E.then=="function")return p(T,Tl(E),S);if(E.$$typeof===_n)return p(T,_l(T,E),S);bl(T,E)}return null}function m(T,E,S,C){var U=E!==null?E.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return U!==null?null:o(T,E,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ml:return S.key===U?u(T,E,S,C):null;case Ma:return S.key===U?f(T,E,S,C):null;case kn:return U=S._init,S=U(S._payload),m(T,E,S,C)}if(Ia(S)||wa(S))return U!==null?null:d(T,E,S,C,null);if(typeof S.then=="function")return m(T,E,Tl(S),C);if(S.$$typeof===_n)return m(T,E,_l(T,S),C);bl(T,S)}return null}function _(T,E,S,C,U){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return T=T.get(S)||null,o(E,T,""+C,U);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ml:return T=T.get(C.key===null?S:C.key)||null,u(E,T,C,U);case Ma:return T=T.get(C.key===null?S:C.key)||null,f(E,T,C,U);case kn:var q=C._init;return C=q(C._payload),_(T,E,S,C,U)}if(Ia(C)||wa(C))return T=T.get(S)||null,d(E,T,C,U,null);if(typeof C.then=="function")return _(T,E,S,Tl(C),U);if(C.$$typeof===_n)return _(T,E,S,_l(E,C),U);bl(E,C)}return null}function O(T,E,S,C){for(var U=null,q=null,b=E,y=E=0,A=null;b!==null&&y<S.length;y++){b.index>y?(A=b,b=null):A=b.sibling;var w=m(T,b,S[y],C);if(w===null){b===null&&(b=A);break}e&&b&&w.alternate===null&&t(T,b),E=a(w,E,y),q===null?U=w:q.sibling=w,q=w,b=A}if(y===S.length)return n(T,b),ot&&Ci(T,y),U;if(b===null){for(;y<S.length;y++)b=p(T,S[y],C),b!==null&&(E=a(b,E,y),q===null?U=b:q.sibling=b,q=b);return ot&&Ci(T,y),U}for(b=i(b);y<S.length;y++)A=_(b,T,y,S[y],C),A!==null&&(e&&A.alternate!==null&&b.delete(A.key===null?y:A.key),E=a(A,E,y),q===null?U=A:q.sibling=A,q=A);return e&&b.forEach(function(R){return t(T,R)}),ot&&Ci(T,y),U}function V(T,E,S,C){if(S==null)throw Error(L(151));for(var U=null,q=null,b=E,y=E=0,A=null,w=S.next();b!==null&&!w.done;y++,w=S.next()){b.index>y?(A=b,b=null):A=b.sibling;var R=m(T,b,w.value,C);if(R===null){b===null&&(b=A);break}e&&b&&R.alternate===null&&t(T,b),E=a(R,E,y),q===null?U=R:q.sibling=R,q=R,b=A}if(w.done)return n(T,b),ot&&Ci(T,y),U;if(b===null){for(;!w.done;y++,w=S.next())w=p(T,w.value,C),w!==null&&(E=a(w,E,y),q===null?U=w:q.sibling=w,q=w);return ot&&Ci(T,y),U}for(b=i(b);!w.done;y++,w=S.next())w=_(b,T,y,w.value,C),w!==null&&(e&&w.alternate!==null&&b.delete(w.key===null?y:w.key),E=a(w,E,y),q===null?U=w:q.sibling=w,q=w);return e&&b.forEach(function(N){return t(T,N)}),ot&&Ci(T,y),U}function I(T,E,S,C){if(typeof S=="object"&&S!==null&&S.type===fr&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case ml:t:{for(var U=S.key;E!==null;){if(E.key===U){if(U=S.type,U===fr){if(E.tag===7){n(T,E.sibling),C=r(E,S.props.children),C.return=T,T=C;break t}}else if(E.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===kn&&gg(U)===E.type){n(T,E.sibling),C=r(E,S.props),Na(C,S),C.return=T,T=C;break t}n(T,E);break}else t(T,E);E=E.sibling}S.type===fr?(C=Mi(S.props.children,T.mode,C,S.key),C.return=T,T=C):(C=zl(S.type,S.key,S.props,null,T.mode,C),Na(C,S),C.return=T,T=C)}return l(T);case Ma:t:{for(U=S.key;E!==null;){if(E.key===U)if(E.tag===4&&E.stateNode.containerInfo===S.containerInfo&&E.stateNode.implementation===S.implementation){n(T,E.sibling),C=r(E,S.children||[]),C.return=T,T=C;break t}else{n(T,E);break}else t(T,E);E=E.sibling}C=tc(S,T.mode,C),C.return=T,T=C}return l(T);case kn:return U=S._init,S=U(S._payload),I(T,E,S,C)}if(Ia(S))return O(T,E,S,C);if(wa(S)){if(U=wa(S),typeof U!="function")throw Error(L(150));return S=U.call(S),V(T,E,S,C)}if(typeof S.then=="function")return I(T,E,Tl(S),C);if(S.$$typeof===_n)return I(T,E,_l(T,S),C);bl(T,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,E!==null&&E.tag===6?(n(T,E.sibling),C=r(E,S),C.return=T,T=C):(n(T,E),C=Wu(S,T.mode,C),C.return=T,T=C),l(T)):n(T,E)}return function(T,E,S,C){try{fs=0;var U=I(T,E,S,C);return Dr=null,U}catch(b){if(b===js||b===Zo)throw b;var q=Ce(29,b,null,T.mode);return q.lanes=C,q.return=T,q}finally{}}}var Gr=X0(!0),K0=X0(!1),qe=un(null),an=null;function qn(e){var t=e.alternate;bt(Pt,Pt.current&1),bt(qe,e),an===null&&(t===null||qr.current!==null||t.memoizedState!==null)&&(an=e)}function Z0(e){if(e.tag===22){if(bt(Pt,Pt.current),bt(qe,e),an===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(an=e)}}else Hn()}function Hn(){bt(Pt,Pt.current),bt(qe,qe.current)}function An(e){Kt(qe),an===e&&(an=null),Kt(Pt)}var Pt=un(0);function fo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||bh(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ic(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:_t({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sh={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Oe(),r=Jn(i);r.payload=t,n!=null&&(r.callback=n),t=Wn(e,r,i),t!==null&&(Ve(t,e,i),Qa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Oe(),r=Jn(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Wn(e,r,i),t!==null&&(Ve(t,e,i),Qa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oe(),i=Jn(n);i.tag=2,t!=null&&(i.callback=t),t=Wn(e,i,n),t!==null&&(Ve(t,e,n),Qa(t,e,n))}};function pg(e,t,n,i,r,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,l):t.prototype&&t.prototype.isPureReactComponent?!us(n,i)||!us(r,a):!0}function yg(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&sh.enqueueReplaceState(t,t.state,null)}function Gi(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=_t({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var mo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function $0(e){mo(e)}function J0(e){console.error(e)}function W0(e){mo(e)}function go(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function vg(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function lh(e,t,n){return n=Jn(n),n.tag=3,n.payload={element:null},n.callback=function(){go(e,t)},n}function tv(e){return e=Jn(e),e.tag=3,e}function ev(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var a=i.value;e.payload=function(){return r(a)},e.callback=function(){vg(t,n,i)}}var l=n.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(e.callback=function(){vg(t,n,i),typeof r!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function n2(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Ms(t,n,r,!0),n=qe.current,n!==null){switch(n.tag){case 13:return an===null?gh():n.alternate===null&&Ct===0&&(Ct=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Wc?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),mc(e,i,r)),!1;case 22:return n.flags|=65536,i===Wc?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),mc(e,i,r)),!1}throw Error(L(435,n.tag))}return mc(e,i,r),gh(),!1}if(ot)return t=qe.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==Xc&&(e=Error(L(422),{cause:i}),cs(ke(e,n)))):(i!==Xc&&(t=Error(L(423),{cause:i}),cs(ke(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=ke(i,n),r=lh(e.stateNode,i,r),ec(e,r),Ct!==4&&(Ct=2)),!1;var a=Error(L(520),{cause:i});if(a=ke(a,n),Ja===null?Ja=[a]:Ja.push(a),Ct!==4&&(Ct=2),t===null)return!0;i=ke(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=lh(n.stateNode,i,e),ec(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(ti===null||!ti.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,r=tv(r),ev(r,e,n,i),ec(n,r),!1}n=n.return}while(n!==null);return!1}var nv=Error(L(461)),Xt=!1;function $t(e,t,n,i){t.child=e===null?K0(t,null,n,i):Gr(t,e.child,n,i)}function _g(e,t,n,i,r){n=n.render;var a=t.ref;if("ref"in i){var l={};for(var o in i)o!=="ref"&&(l[o]=i[o])}else l=i;return qi(t),i=Cf(e,t,n,l,a,r),o=Nf(),e!==null&&!Xt?(Df(e,t,r),Cn(e,t,r)):(ot&&o&&Tf(t),t.flags|=1,$t(e,t,i,r),t.child)}function Eg(e,t,n,i,r){if(e===null){var a=n.type;return typeof a=="function"&&!Ef(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,iv(e,t,a,i,r)):(e=zl(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!kf(e,r)){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:us,n(l,i)&&e.ref===t.ref)return Cn(e,t,r)}return t.flags|=1,e=Sn(a,i),e.ref=t.ref,e.return=t,t.child=e}function iv(e,t,n,i,r){if(e!==null){var a=e.memoizedProps;if(us(a,i)&&e.ref===t.ref)if(Xt=!1,t.pendingProps=i=a,kf(e,r))e.flags&131072&&(Xt=!0);else return t.lanes=e.lanes,Cn(e,t,r)}return oh(e,t,n,i,r)}function rv(e,t,n){var i=t.pendingProps,r=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=a!==null?a.baseLanes|n:n,e!==null){for(r=t.child=e.child,a=0;r!==null;)a=a|r.lanes|r.childLanes,r=r.sibling;t.childLanes=a&~i}else t.childLanes=0,t.child=null;return Tg(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&kl(t,a!==null?a.cachePool:null),a!==null?og(t,a):nh(),Z0(t);else return t.lanes=t.childLanes=536870912,Tg(e,t,a!==null?a.baseLanes|n:n,n)}else a!==null?(kl(t,a.cachePool),og(t,a),Hn(),t.memoizedState=null):(e!==null&&kl(t,null),nh(),Hn());return $t(e,t,r,n),t.child}function Tg(e,t,n,i){var r=Sf();return r=r===null?null:{parent:Bt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&kl(t,null),nh(),Z0(t),e!==null&&Ms(e,t,i,!0),null}function ql(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(L(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function oh(e,t,n,i,r){return qi(t),n=Cf(e,t,n,i,void 0,r),i=Nf(),e!==null&&!Xt?(Df(e,t,r),Cn(e,t,r)):(ot&&i&&Tf(t),t.flags|=1,$t(e,t,n,r),t.child)}function bg(e,t,n,i,r,a){return qi(t),t.updateQueue=null,n=y0(t,i,n,r),p0(e),i=Nf(),e!==null&&!Xt?(Df(e,t,a),Cn(e,t,a)):(ot&&i&&Tf(t),t.flags|=1,$t(e,t,n,a),t.child)}function Ag(e,t,n,i,r){if(qi(t),t.stateNode===null){var a=Er,l=n.contextType;typeof l=="object"&&l!==null&&(a=ue(l)),a=new n(i,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=sh,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=i,a.state=t.memoizedState,a.refs={},wf(t),l=n.contextType,a.context=typeof l=="object"&&l!==null?ue(l):Er,a.state=t.memoizedState,l=n.getDerivedStateFromProps,typeof l=="function"&&(ic(t,n,l,i),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(l=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),l!==a.state&&sh.enqueueReplaceState(a,a.state,null),Xa(t,i,a,r),Ya(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){a=t.stateNode;var o=t.memoizedProps,u=Gi(n,o);a.props=u;var f=a.context,d=n.contextType;l=Er,typeof d=="object"&&d!==null&&(l=ue(d));var p=n.getDerivedStateFromProps;d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||f!==l)&&yg(t,a,i,l),Bn=!1;var m=t.memoizedState;a.state=m,Xa(t,i,a,r),Ya(),f=t.memoizedState,o||m!==f||Bn?(typeof p=="function"&&(ic(t,n,p,i),f=t.memoizedState),(u=Bn||pg(t,n,u,i,m,f,l))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=f),a.props=i,a.state=f,a.context=l,i=u):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,th(e,t),l=t.memoizedProps,d=Gi(n,l),a.props=d,p=t.pendingProps,m=a.context,f=n.contextType,u=Er,typeof f=="object"&&f!==null&&(u=ue(f)),o=n.getDerivedStateFromProps,(f=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==p||m!==u)&&yg(t,a,i,u),Bn=!1,m=t.memoizedState,a.state=m,Xa(t,i,a,r),Ya();var _=t.memoizedState;l!==p||m!==_||Bn||e!==null&&e.dependencies!==null&&lo(e.dependencies)?(typeof o=="function"&&(ic(t,n,o,i),_=t.memoizedState),(d=Bn||pg(t,n,d,i,m,_,u)||e!==null&&e.dependencies!==null&&lo(e.dependencies))?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,_,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,_,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=_),a.props=i,a.state=_,a.context=u,i=d):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,ql(e,t),i=(t.flags&128)!==0,a||i?(a=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&i?(t.child=Gr(t,e.child,null,r),t.child=Gr(t,null,n,r)):$t(e,t,n,r),t.memoizedState=a.state,e=t.child):e=Cn(e,t,r),e}function Sg(e,t,n,i){return Vs(),t.flags|=256,$t(e,t,n,i),t.child}var rc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ac(e){return{baseLanes:e,cachePool:h0()}}function sc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Be),e}function av(e,t,n){var i=t.pendingProps,r=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(Pt.current&2)!==0),l&&(r=!0,t.flags&=-129),l=(t.flags&32)!==0,t.flags&=-33,e===null){if(ot){if(r?qn(t):Hn(),ot){var o=Rt,u;if(u=o){t:{for(u=o,o=Je;u.nodeType!==8;){if(!o){o=null;break t}if(u=Ye(u.nextSibling),u===null){o=null;break t}}o=u}o!==null?(t.memoizedState={dehydrated:o,treeContext:Ii!==null?{id:En,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},u=Ce(18,null,null,0),u.stateNode=o,u.return=t,t.child=u,fe=t,Rt=null,u=!0):u=!1}u||Pi(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return bh(o)?t.lanes=32:t.lanes=536870912,null;An(t)}return o=i.children,i=i.fallback,r?(Hn(),r=t.mode,o=po({mode:"hidden",children:o},r),i=Mi(i,r,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,r=t.child,r.memoizedState=ac(n),r.childLanes=sc(e,l,n),t.memoizedState=rc,i):(qn(t),uh(t,o))}if(u=e.memoizedState,u!==null&&(o=u.dehydrated,o!==null)){if(a)t.flags&256?(qn(t),t.flags&=-257,t=lc(e,t,n)):t.memoizedState!==null?(Hn(),t.child=e.child,t.flags|=128,t=null):(Hn(),r=i.fallback,o=t.mode,i=po({mode:"visible",children:i.children},o),r=Mi(r,o,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,Gr(t,e.child,null,n),i=t.child,i.memoizedState=ac(n),i.childLanes=sc(e,l,n),t.memoizedState=rc,t=r);else if(qn(t),bh(o)){if(l=o.nextSibling&&o.nextSibling.dataset,l)var f=l.dgst;l=f,i=Error(L(419)),i.stack="",i.digest=l,cs({value:i,source:null,stack:null}),t=lc(e,t,n)}else if(Xt||Ms(e,t,n,!1),l=(n&e.childLanes)!==0,Xt||l){if(l=pt,l!==null&&(i=n&-n,i=i&42?1:uf(i),i=i&(l.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,ra(e,i),Ve(l,e,i),nv;o.data==="$?"||gh(),t=lc(e,t,n)}else o.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Rt=Ye(o.nextSibling),fe=t,ot=!0,ji=null,Je=!1,e!==null&&(Le[Ue++]=En,Le[Ue++]=Tn,Le[Ue++]=Ii,En=e.id,Tn=e.overflow,Ii=t),t=uh(t,i.children),t.flags|=4096);return t}return r?(Hn(),r=i.fallback,o=t.mode,u=e.child,f=u.sibling,i=Sn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,f!==null?r=Sn(f,r):(r=Mi(r,o,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,o=e.child.memoizedState,o===null?o=ac(n):(u=o.cachePool,u!==null?(f=Bt._currentValue,u=u.parent!==f?{parent:f,pool:f}:u):u=h0(),o={baseLanes:o.baseLanes|n,cachePool:u}),r.memoizedState=o,r.childLanes=sc(e,l,n),t.memoizedState=rc,i):(qn(t),n=e.child,e=n.sibling,n=Sn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=n,t.memoizedState=null,n)}function uh(e,t){return t=po({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function po(e,t){return e=Ce(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function lc(e,t,n){return Gr(t,e.child,null,n),e=uh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wg(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Zc(e.return,t,n)}function oc(e,t,n,i,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function sv(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if($t(e,t,i.children,n),i=Pt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wg(e,n,t);else if(e.tag===19)wg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(bt(Pt,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&fo(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),oc(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&fo(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}oc(t,!0,n,null,a);break;case"together":oc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fi|=t.lanes,!(n&t.childLanes))if(e!==null){if(Ms(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Sn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Sn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kf(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&lo(e)))}function i2(e,t,n){switch(t.tag){case 3:Wl(t,t.stateNode.containerInfo),Pn(t,Bt,e.memoizedState.cache),Vs();break;case 27:case 5:zc(t);break;case 4:Wl(t,t.stateNode.containerInfo);break;case 10:Pn(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(qn(t),t.flags|=128,null):n&t.child.childLanes?av(e,t,n):(qn(t),e=Cn(e,t,n),e!==null?e.sibling:null);qn(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Ms(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return sv(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),bt(Pt,Pt.current),i)break;return null;case 22:case 23:return t.lanes=0,rv(e,t,n);case 24:Pn(t,Bt,e.memoizedState.cache)}return Cn(e,t,n)}function lv(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Xt=!0;else{if(!kf(e,n)&&!(t.flags&128))return Xt=!1,i2(e,t,n);Xt=!!(e.flags&131072)}else Xt=!1,ot&&t.flags&1048576&&u0(t,so,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")Ef(i)?(e=Gi(i,e),t.tag=1,t=Ag(null,t,i,e,n)):(t.tag=0,t=oh(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===sf){t.tag=11,t=_g(null,t,i,e,n);break t}else if(r===lf){t.tag=14,t=Eg(null,t,i,e,n);break t}}throw t=Lc(i)||i,Error(L(306,t,""))}}return t;case 0:return oh(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=Gi(i,t.pendingProps),Ag(e,t,i,r,n);case 3:t:{if(Wl(t,t.stateNode.containerInfo),e===null)throw Error(L(387));i=t.pendingProps;var a=t.memoizedState;r=a.element,th(e,t),Xa(t,i,null,n);var l=t.memoizedState;if(i=l.cache,Pn(t,Bt,i),i!==a.cache&&$c(t,[Bt],n,!0),Ya(),i=l.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=Sg(e,t,i,n);break t}else if(i!==r){r=ke(Error(L(424)),t),cs(r),t=Sg(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Rt=Ye(e.firstChild),fe=t,ot=!0,ji=null,Je=!0,n=K0(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Vs(),i===r){t=Cn(e,t,n);break t}$t(e,t,i,n)}t=t.child}return t;case 26:return ql(e,t),e===null?(n=qg(t.type,null,t.pendingProps,null))?t.memoizedState=n:ot||(n=t.type,e=t.pendingProps,i=Ao($n.current).createElement(n),i[oe]=t,i[Te]=e,te(i,n,e),Yt(i),t.stateNode=i):t.memoizedState=qg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return zc(t),e===null&&ot&&(i=t.stateNode=Yv(t.type,t.pendingProps,$n.current),fe=t,Je=!0,r=Rt,Ti(t.type)?(Ah=r,Rt=Ye(i.firstChild)):Rt=r),$t(e,t,t.pendingProps.children,n),ql(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ot&&((r=i=Rt)&&(i=O2(i,t.type,t.pendingProps,Je),i!==null?(t.stateNode=i,fe=t,Rt=Ye(i.firstChild),Je=!1,r=!0):r=!1),r||Pi(t)),zc(t),r=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,Eh(r,a)?i=null:l!==null&&Eh(r,l)&&(t.flags|=32),t.memoizedState!==null&&(r=Cf(e,t,KT,null,null,n),ps._currentValue=r),ql(e,t),$t(e,t,i,n),t.child;case 6:return e===null&&ot&&((e=n=Rt)&&(n=V2(n,t.pendingProps,Je),n!==null?(t.stateNode=n,fe=t,Rt=null,e=!0):e=!1),e||Pi(t)),null;case 13:return av(e,t,n);case 4:return Wl(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Gr(t,null,i,n):$t(e,t,i,n),t.child;case 11:return _g(e,t,t.type,t.pendingProps,n);case 7:return $t(e,t,t.pendingProps,n),t.child;case 8:return $t(e,t,t.pendingProps.children,n),t.child;case 12:return $t(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Pn(t,t.type,i.value),$t(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,qi(t),r=ue(r),i=i(r),t.flags|=1,$t(e,t,i,n),t.child;case 14:return Eg(e,t,t.type,t.pendingProps,n);case 15:return iv(e,t,t.type,t.pendingProps,n);case 19:return sv(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=po(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Sn(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return rv(e,t,n);case 24:return qi(t),i=ue(Bt),e===null?(r=Sf(),r===null&&(r=pt,a=Af(),r.pooledCache=a,a.refCount++,a!==null&&(r.pooledCacheLanes|=n),r=a),t.memoizedState={parent:i,cache:r},wf(t),Pn(t,Bt,r)):(e.lanes&n&&(th(e,t),Xa(t,null,null,n),Ya()),r=e.memoizedState,a=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Pn(t,Bt,i)):(i=a.cache,Pn(t,Bt,i),i!==r.cache&&$c(t,[Bt],n,!0))),$t(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(L(156,t.tag))}function pn(e){e.flags|=4}function xg(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Zv(t)){if(t=qe.current,t!==null&&((rt&4194048)===rt?an!==null:(rt&62914560)!==rt&&!(rt&536870912)||t!==an))throw Fa=Wc,f0;e.flags|=8192}}function Al(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?My():536870912,e.lanes|=t,Fr|=t)}function Da(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function At(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function r2(e,t,n){var i=t.pendingProps;switch(bf(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(t),null;case 1:return At(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),wn(Bt),zr(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ca(t)?pn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ng())),At(t),null;case 26:return n=t.memoizedState,e===null?(pn(t),n!==null?(At(t),xg(t,n)):(At(t),t.flags&=-16777217)):n?n!==e.memoizedState?(pn(t),At(t),xg(t,n)):(At(t),t.flags&=-16777217):(e.memoizedProps!==i&&pn(t),At(t),t.flags&=-16777217),null;case 27:to(t),n=$n.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&pn(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return At(t),null}e=nn.current,Ca(t)?tg(t):(e=Yv(r,i,n),t.stateNode=e,pn(t))}return At(t),null;case 5:if(to(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&pn(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return At(t),null}if(e=nn.current,Ca(t))tg(t);else{switch(r=Ao($n.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[oe]=t,e[Te]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;t:switch(te(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&pn(t)}}return At(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&pn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(L(166));if(e=$n.current,Ca(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=fe,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[oe]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Gv(e.nodeValue,n)),e||Pi(t)}else e=Ao(e).createTextNode(i),e[oe]=t,t.stateNode=e}return At(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Ca(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(L(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(L(317));r[oe]=t}else Vs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;At(t),r=!1}else r=ng(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(An(t),t):(An(t),null)}if(An(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var a=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Al(t,t.updateQueue),At(t),null;case 4:return zr(),e===null&&Yf(t.stateNode.containerInfo),At(t),null;case 10:return wn(t.type),At(t),null;case 19:if(Kt(Pt),r=t.memoizedState,r===null)return At(t),null;if(i=(t.flags&128)!==0,a=r.rendering,a===null)if(i)Da(r,!1);else{if(Ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=fo(e),a!==null){for(t.flags|=128,Da(r,!1),e=a.updateQueue,t.updateQueue=e,Al(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)o0(n,e),n=n.sibling;return bt(Pt,Pt.current&1|2),t.child}e=e.sibling}r.tail!==null&&rn()>vo&&(t.flags|=128,i=!0,Da(r,!1),t.lanes=4194304)}else{if(!i)if(e=fo(a),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Al(t,e),Da(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!ot)return At(t),null}else 2*rn()-r.renderingStartTime>vo&&n!==536870912&&(t.flags|=128,i=!0,Da(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(e=r.last,e!==null?e.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=rn(),t.sibling=null,e=Pt.current,bt(Pt,i?e&1|2:e&1),t):(At(t),null);case 22:case 23:return An(t),xf(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(At(t),t.subtreeFlags&6&&(t.flags|=8192)):At(t),n=t.updateQueue,n!==null&&Al(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Kt(Li),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wn(Bt),At(t),null;case 25:return null;case 30:return null}throw Error(L(156,t.tag))}function a2(e,t){switch(bf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wn(Bt),zr(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return to(t),null;case 13:if(An(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Vs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kt(Pt),null;case 4:return zr(),null;case 10:return wn(t.type),null;case 22:case 23:return An(t),xf(),e!==null&&Kt(Li),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return wn(Bt),null;case 25:return null;default:return null}}function ov(e,t){switch(bf(t),t.tag){case 3:wn(Bt),zr();break;case 26:case 27:case 5:to(t);break;case 4:zr();break;case 13:An(t);break;case 19:Kt(Pt);break;case 10:wn(t.type);break;case 22:case 23:An(t),xf(),e!==null&&Kt(Li);break;case 24:wn(Bt)}}function zs(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var a=n.create,l=n.inst;i=a(),l.destroy=i}n=n.next}while(n!==r)}}catch(o){gt(t,t.return,o)}}function hi(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var a=r.next;i=a;do{if((i.tag&e)===e){var l=i.inst,o=l.destroy;if(o!==void 0){l.destroy=void 0,r=t;var u=n,f=o;try{f()}catch(d){gt(r,u,d)}}}i=i.next}while(i!==a)}}catch(d){gt(t,t.return,d)}}function uv(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{g0(t,n)}catch(i){gt(e,e.return,i)}}}function cv(e,t,n){n.props=Gi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){gt(e,t,i)}}function Za(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){gt(e,t,r)}}function en(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){gt(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){gt(e,t,r)}else n.current=null}function hv(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){gt(e,e.return,r)}}function uc(e,t,n){try{var i=e.stateNode;x2(i,e.type,n,t),i[Te]=t}catch(r){gt(e,e.return,r)}}function fv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ti(e.type)||e.tag===4}function cc(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||fv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ti(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ch(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=iu));else if(i!==4&&(i===27&&Ti(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(ch(e,t,n),e=e.sibling;e!==null;)ch(e,t,n),e=e.sibling}function yo(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Ti(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(yo(e,t,n),e=e.sibling;e!==null;)yo(e,t,n),e=e.sibling}function dv(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);te(t,i,n),t[oe]=e,t[Te]=n}catch(a){gt(e,e.return,a)}}var vn=!1,Ot=!1,hc=!1,Rg=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function s2(e,t){if(e=e.containerInfo,vh=Ro,e=t0(e),yf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break t}var l=0,o=-1,u=-1,f=0,d=0,p=e,m=null;e:for(;;){for(var _;p!==n||r!==0&&p.nodeType!==3||(o=l+r),p!==a||i!==0&&p.nodeType!==3||(u=l+i),p.nodeType===3&&(l+=p.nodeValue.length),(_=p.firstChild)!==null;)m=p,p=_;for(;;){if(p===e)break e;if(m===n&&++f===r&&(o=l),m===a&&++d===i&&(u=l),(_=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=_}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(_h={focusedElem:e,selectionRange:n},Ro=!1,Qt=t;Qt!==null;)if(t=Qt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Qt=e;else for(;Qt!==null;){switch(t=Qt,a=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,r=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var O=Gi(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(O,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(V){gt(n,n.return,V)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Th(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Th(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(L(163))}if(e=t.sibling,e!==null){e.return=t.return,Qt=e;break}Qt=t.return}}function mv(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Un(e,n),i&4&&zs(5,n);break;case 1:if(Un(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(l){gt(n,n.return,l)}else{var r=Gi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){gt(n,n.return,l)}}i&64&&uv(n),i&512&&Za(n,n.return);break;case 3:if(Un(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{g0(e,t)}catch(l){gt(n,n.return,l)}}break;case 27:t===null&&i&4&&dv(n);case 26:case 5:Un(e,n),t===null&&i&4&&hv(n),i&512&&Za(n,n.return);break;case 12:Un(e,n);break;case 13:Un(e,n),i&4&&yv(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=g2.bind(null,n),M2(e,n))));break;case 22:if(i=n.memoizedState!==null||vn,!i){t=t!==null&&t.memoizedState!==null||Ot,r=vn;var a=Ot;vn=i,(Ot=t)&&!a?zn(e,n,(n.subtreeFlags&8772)!==0):Un(e,n),vn=r,Ot=a}break;case 30:break;default:Un(e,n)}}function gv(e){var t=e.alternate;t!==null&&(e.alternate=null,gv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&hf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Et=null,ve=!1;function yn(e,t,n){for(n=n.child;n!==null;)pv(e,t,n),n=n.sibling}function pv(e,t,n){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(Rs,n)}catch{}switch(n.tag){case 26:Ot||en(n,t),yn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ot||en(n,t);var i=Et,r=ve;Ti(n.type)&&(Et=n.stateNode,ve=!1),yn(e,t,n),ts(n.stateNode),Et=i,ve=r;break;case 5:Ot||en(n,t);case 6:if(i=Et,r=ve,Et=null,yn(e,t,n),Et=i,ve=r,Et!==null)if(ve)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(n.stateNode)}catch(a){gt(n,t,a)}else try{Et.removeChild(n.stateNode)}catch(a){gt(n,t,a)}break;case 18:Et!==null&&(ve?(e=Et,kg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),_s(e)):kg(Et,n.stateNode));break;case 4:i=Et,r=ve,Et=n.stateNode.containerInfo,ve=!0,yn(e,t,n),Et=i,ve=r;break;case 0:case 11:case 14:case 15:Ot||hi(2,n,t),Ot||hi(4,n,t),yn(e,t,n);break;case 1:Ot||(en(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&cv(n,t,i)),yn(e,t,n);break;case 21:yn(e,t,n);break;case 22:Ot=(i=Ot)||n.memoizedState!==null,yn(e,t,n),Ot=i;break;default:yn(e,t,n)}}function yv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_s(e)}catch(n){gt(t,t.return,n)}}function l2(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Rg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Rg),t;default:throw Error(L(435,e.tag))}}function fc(e,t){var n=l2(e);t.forEach(function(i){var r=p2.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function we(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],a=e,l=t,o=l;t:for(;o!==null;){switch(o.tag){case 27:if(Ti(o.type)){Et=o.stateNode,ve=!1;break t}break;case 5:Et=o.stateNode,ve=!1;break t;case 3:case 4:Et=o.stateNode.containerInfo,ve=!0;break t}o=o.return}if(Et===null)throw Error(L(160));pv(a,l,r),Et=null,ve=!1,a=r.alternate,a!==null&&(a.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)vv(t,e),t=t.sibling}var Qe=null;function vv(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:we(t,e),xe(e),i&4&&(hi(3,e,e.return),zs(3,e),hi(5,e,e.return));break;case 1:we(t,e),xe(e),i&512&&(Ot||n===null||en(n,n.return)),i&64&&vn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=Qe;if(we(t,e),xe(e),i&512&&(Ot||n===null||en(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":a=r.getElementsByTagName("title")[0],(!a||a[Ds]||a[oe]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),te(a,i,n),a[oe]=e,Yt(a),i=a;break t;case"link":var l=Gg("link","href",r).get(i+(n.href||""));if(l){for(var o=0;o<l.length;o++)if(a=l[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){l.splice(o,1);break e}}a=r.createElement(i),te(a,i,n),r.head.appendChild(a);break;case"meta":if(l=Gg("meta","content",r).get(i+(n.content||""))){for(o=0;o<l.length;o++)if(a=l[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){l.splice(o,1);break e}}a=r.createElement(i),te(a,i,n),r.head.appendChild(a);break;default:throw Error(L(468,i))}a[oe]=e,Yt(a),i=a}e.stateNode=i}else Fg(r,e.type,e.stateNode);else e.stateNode=Hg(r,i,e.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?Fg(r,e.type,e.stateNode):Hg(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&uc(e,e.memoizedProps,n.memoizedProps)}break;case 27:we(t,e),xe(e),i&512&&(Ot||n===null||en(n,n.return)),n!==null&&i&4&&uc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(we(t,e),xe(e),i&512&&(Ot||n===null||en(n,n.return)),e.flags&32){r=e.stateNode;try{Br(r,"")}catch(_){gt(e,e.return,_)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,uc(e,r,n!==null?n.memoizedProps:r)),i&1024&&(hc=!0);break;case 6:if(we(t,e),xe(e),i&4){if(e.stateNode===null)throw Error(L(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(_){gt(e,e.return,_)}}break;case 3:if(Fl=null,r=Qe,Qe=So(t.containerInfo),we(t,e),Qe=r,xe(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{_s(t.containerInfo)}catch(_){gt(e,e.return,_)}hc&&(hc=!1,_v(e));break;case 4:i=Qe,Qe=So(e.stateNode.containerInfo),we(t,e),xe(e),Qe=i;break;case 12:we(t,e),xe(e);break;case 13:we(t,e),xe(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Gf=rn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,fc(e,i)));break;case 22:r=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,f=vn,d=Ot;if(vn=f||r,Ot=d||u,we(t,e),Ot=d,vn=f,xe(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||u||vn||Ot||Ni(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(a=u.stateNode,r)l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{o=u.stateNode;var p=u.memoizedProps.style,m=p!=null&&p.hasOwnProperty("display")?p.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(_){gt(u,u.return,_)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(_){gt(u,u.return,_)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,fc(e,n))));break;case 19:we(t,e),xe(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,fc(e,i)));break;case 30:break;case 21:break;default:we(t,e),xe(e)}}function xe(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(fv(i)){n=i;break}i=i.return}if(n==null)throw Error(L(160));switch(n.tag){case 27:var r=n.stateNode,a=cc(e);yo(e,a,r);break;case 5:var l=n.stateNode;n.flags&32&&(Br(l,""),n.flags&=-33);var o=cc(e);yo(e,o,l);break;case 3:case 4:var u=n.stateNode.containerInfo,f=cc(e);ch(e,f,u);break;default:throw Error(L(161))}}catch(d){gt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _v(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;_v(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Un(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)mv(e,t.alternate,t),t=t.sibling}function Ni(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:hi(4,t,t.return),Ni(t);break;case 1:en(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&cv(t,t.return,n),Ni(t);break;case 27:ts(t.stateNode);case 26:case 5:en(t,t.return),Ni(t);break;case 22:t.memoizedState===null&&Ni(t);break;case 30:Ni(t);break;default:Ni(t)}e=e.sibling}}function zn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,a=t,l=a.flags;switch(a.tag){case 0:case 11:case 15:zn(r,a,n),zs(4,a);break;case 1:if(zn(r,a,n),i=a,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(f){gt(i,i.return,f)}if(i=a,r=i.updateQueue,r!==null){var o=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)m0(u[r],o)}catch(f){gt(i,i.return,f)}}n&&l&64&&uv(a),Za(a,a.return);break;case 27:dv(a);case 26:case 5:zn(r,a,n),n&&i===null&&l&4&&hv(a),Za(a,a.return);break;case 12:zn(r,a,n);break;case 13:zn(r,a,n),n&&l&4&&yv(r,a);break;case 22:a.memoizedState===null&&zn(r,a,n),Za(a,a.return);break;case 30:break;default:zn(r,a,n)}t=t.sibling}}function Bf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Is(n))}function Pf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Is(e))}function Ze(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ev(e,t,n,i),t=t.sibling}function Ev(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Ze(e,t,n,i),r&2048&&zs(9,t);break;case 1:Ze(e,t,n,i);break;case 3:Ze(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Is(e)));break;case 12:if(r&2048){Ze(e,t,n,i),e=t.stateNode;try{var a=t.memoizedProps,l=a.id,o=a.onPostCommit;typeof o=="function"&&o(l,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){gt(t,t.return,u)}}else Ze(e,t,n,i);break;case 13:Ze(e,t,n,i);break;case 23:break;case 22:a=t.stateNode,l=t.alternate,t.memoizedState!==null?a._visibility&2?Ze(e,t,n,i):$a(e,t):a._visibility&2?Ze(e,t,n,i):(a._visibility|=2,sr(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&Bf(l,t);break;case 24:Ze(e,t,n,i),r&2048&&Pf(t.alternate,t);break;default:Ze(e,t,n,i)}}function sr(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var a=e,l=t,o=n,u=i,f=l.flags;switch(l.tag){case 0:case 11:case 15:sr(a,l,o,u,r),zs(8,l);break;case 23:break;case 22:var d=l.stateNode;l.memoizedState!==null?d._visibility&2?sr(a,l,o,u,r):$a(a,l):(d._visibility|=2,sr(a,l,o,u,r)),r&&f&2048&&Bf(l.alternate,l);break;case 24:sr(a,l,o,u,r),r&&f&2048&&Pf(l.alternate,l);break;default:sr(a,l,o,u,r)}t=t.sibling}}function $a(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:$a(n,i),r&2048&&Bf(i.alternate,i);break;case 24:$a(n,i),r&2048&&Pf(i.alternate,i);break;default:$a(n,i)}t=t.sibling}}var La=8192;function nr(e){if(e.subtreeFlags&La)for(e=e.child;e!==null;)Tv(e),e=e.sibling}function Tv(e){switch(e.tag){case 26:nr(e),e.flags&La&&e.memoizedState!==null&&Q2(Qe,e.memoizedState,e.memoizedProps);break;case 5:nr(e);break;case 3:case 4:var t=Qe;Qe=So(e.stateNode.containerInfo),nr(e),Qe=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=La,La=16777216,nr(e),La=t):nr(e));break;default:nr(e)}}function bv(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Oa(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Qt=i,Sv(i,e)}bv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Av(e),e=e.sibling}function Av(e){switch(e.tag){case 0:case 11:case 15:Oa(e),e.flags&2048&&hi(9,e,e.return);break;case 3:Oa(e);break;case 12:Oa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Hl(e)):Oa(e);break;default:Oa(e)}}function Hl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Qt=i,Sv(i,e)}bv(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:hi(8,t,t.return),Hl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Hl(t));break;default:Hl(t)}e=e.sibling}}function Sv(e,t){for(;Qt!==null;){var n=Qt;switch(n.tag){case 0:case 11:case 15:hi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Is(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Qt=i;else t:for(n=e;Qt!==null;){i=Qt;var r=i.sibling,a=i.return;if(gv(i),i===n){Qt=null;break t}if(r!==null){r.return=a,Qt=r;break t}Qt=a}}}var o2={getCacheForType:function(e){var t=ue(Bt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},u2=typeof WeakMap=="function"?WeakMap:Map,ht=0,pt=null,et=null,rt=0,ct=0,Re=null,Yn=!1,aa=!1,qf=!1,Nn=0,Ct=0,fi=0,Ui=0,Hf=0,Be=0,Fr=0,Ja=null,_e=null,hh=!1,Gf=0,vo=1/0,_o=null,ti=null,Wt=0,ei=null,Qr=null,Or=0,fh=0,dh=null,wv=null,Wa=0,mh=null;function Oe(){if(ht&2&&rt!==0)return rt&-rt;if(F.T!==null){var e=Pr;return e!==0?e:Qf()}return Ly()}function xv(){Be===0&&(Be=!(rt&536870912)||ot?Vy():536870912);var e=qe.current;return e!==null&&(e.flags|=32),Be}function Ve(e,t,n){(e===pt&&(ct===2||ct===9)||e.cancelPendingCommit!==null)&&(Yr(e,0),Xn(e,rt,Be,!1)),Ns(e,n),(!(ht&2)||e!==pt)&&(e===pt&&(!(ht&2)&&(Ui|=n),Ct===4&&Xn(e,rt,Be,!1)),cn(e))}function Rv(e,t,n){if(ht&6)throw Error(L(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Cs(e,t),r=i?f2(e,t):dc(e,t,!0),a=i;do{if(r===0){aa&&!i&&Xn(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!c2(n)){r=dc(e,t,!1),a=!1;continue}if(r===2){if(a=t,e.errorRecoveryDisabledLanes&a)var l=0;else l=e.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){t=l;t:{var o=e;r=Ja;var u=o.current.memoizedState.isDehydrated;if(u&&(Yr(o,l).flags|=256),l=dc(o,l,!1),l!==2){if(qf&&!u){o.errorRecoveryDisabledLanes|=a,Ui|=a,r=4;break t}a=_e,_e=r,a!==null&&(_e===null?_e=a:_e.push.apply(_e,a))}r=l}if(a=!1,r!==2)continue}}if(r===1){Yr(e,0),Xn(e,t,0,!0);break}t:{switch(i=e,a=r,a){case 0:case 1:throw Error(L(345));case 4:if((t&4194048)!==t)break;case 6:Xn(i,t,Be,!Yn);break t;case 2:_e=null;break;case 3:case 5:break;default:throw Error(L(329))}if((t&62914560)===t&&(r=Gf+300-rn(),10<r)){if(Xn(i,t,Be,!Yn),Go(i,0,!0)!==0)break t;i.timeoutHandle=Qv(Cg.bind(null,i,n,_e,_o,hh,t,Be,Ui,Fr,Yn,a,2,-0,0),r);break t}Cg(i,n,_e,_o,hh,t,Be,Ui,Fr,Yn,a,0,-0,0)}}break}while(!0);cn(e)}function Cg(e,t,n,i,r,a,l,o,u,f,d,p,m,_){if(e.timeoutHandle=-1,p=t.subtreeFlags,(p&8192||(p&16785408)===16785408)&&(gs={stylesheets:null,count:0,unsuspend:F2},Tv(t),p=Y2(),p!==null)){e.cancelPendingCommit=p(Dg.bind(null,e,t,a,n,i,r,l,o,u,d,1,m,_)),Xn(e,a,l,!f);return}Dg(e,t,a,n,i,r,l,o,u)}function c2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!Me(a(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xn(e,t,n,i){t&=~Hf,t&=~Ui,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var a=31-De(r),l=1<<a;i[a]=-1,r&=~l}n!==0&&Iy(e,n,t)}function tu(){return ht&6?!0:(ks(0),!1)}function Ff(){if(et!==null){if(ct===0)var e=et.return;else e=et,bn=Ki=null,Of(e),Dr=null,fs=0,e=et;for(;e!==null;)ov(e.alternate,e),e=e.return;et=null}}function Yr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,C2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Ff(),pt=e,et=n=Sn(e.current,null),rt=t,ct=0,Re=null,Yn=!1,aa=Cs(e,t),qf=!1,Fr=Be=Hf=Ui=fi=Ct=0,_e=Ja=null,hh=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-De(i),a=1<<r;t|=e[r],i&=~a}return Nn=t,Xo(),n}function Cv(e,t){J=null,F.H=ho,t===js||t===Zo?(t=sg(),ct=3):t===f0?(t=sg(),ct=4):ct=t===nv?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Re=t,et===null&&(Ct=1,go(e,ke(t,e.current)))}function Nv(){var e=F.H;return F.H=ho,e===null?ho:e}function Dv(){var e=F.A;return F.A=o2,e}function gh(){Ct=4,Yn||(rt&4194048)!==rt&&qe.current!==null||(aa=!0),!(fi&134217727)&&!(Ui&134217727)||pt===null||Xn(pt,rt,Be,!1)}function dc(e,t,n){var i=ht;ht|=2;var r=Nv(),a=Dv();(pt!==e||rt!==t)&&(_o=null,Yr(e,t)),t=!1;var l=Ct;t:do try{if(ct!==0&&et!==null){var o=et,u=Re;switch(ct){case 8:Ff(),l=6;break t;case 3:case 2:case 9:case 6:qe.current===null&&(t=!0);var f=ct;if(ct=0,Re=null,Ar(e,o,u,f),n&&aa){l=0;break t}break;default:f=ct,ct=0,Re=null,Ar(e,o,u,f)}}h2(),l=Ct;break}catch(d){Cv(e,d)}while(!0);return t&&e.shellSuspendCounter++,bn=Ki=null,ht=i,F.H=r,F.A=a,et===null&&(pt=null,rt=0,Xo()),l}function h2(){for(;et!==null;)Ov(et)}function f2(e,t){var n=ht;ht|=2;var i=Nv(),r=Dv();pt!==e||rt!==t?(_o=null,vo=rn()+500,Yr(e,t)):aa=Cs(e,t);t:do try{if(ct!==0&&et!==null){t=et;var a=Re;e:switch(ct){case 1:ct=0,Re=null,Ar(e,t,a,1);break;case 2:case 9:if(ag(a)){ct=0,Re=null,Ng(t);break}t=function(){ct!==2&&ct!==9||pt!==e||(ct=7),cn(e)},a.then(t,t);break t;case 3:ct=7;break t;case 4:ct=5;break t;case 7:ag(a)?(ct=0,Re=null,Ng(t)):(ct=0,Re=null,Ar(e,t,a,7));break;case 5:var l=null;switch(et.tag){case 26:l=et.memoizedState;case 5:case 27:var o=et;if(!l||Zv(l)){ct=0,Re=null;var u=o.sibling;if(u!==null)et=u;else{var f=o.return;f!==null?(et=f,eu(f)):et=null}break e}}ct=0,Re=null,Ar(e,t,a,5);break;case 6:ct=0,Re=null,Ar(e,t,a,6);break;case 8:Ff(),Ct=6;break t;default:throw Error(L(462))}}d2();break}catch(d){Cv(e,d)}while(!0);return bn=Ki=null,F.H=i,F.A=r,ht=n,et!==null?0:(pt=null,rt=0,Xo(),Ct)}function d2(){for(;et!==null&&!jE();)Ov(et)}function Ov(e){var t=lv(e.alternate,e,Nn);e.memoizedProps=e.pendingProps,t===null?eu(e):et=t}function Ng(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=bg(n,t,t.pendingProps,t.type,void 0,rt);break;case 11:t=bg(n,t,t.pendingProps,t.type.render,t.ref,rt);break;case 5:Of(t);default:ov(n,t),t=et=o0(t,Nn),t=lv(n,t,Nn)}e.memoizedProps=e.pendingProps,t===null?eu(e):et=t}function Ar(e,t,n,i){bn=Ki=null,Of(t),Dr=null,fs=0;var r=t.return;try{if(n2(e,r,t,n,rt)){Ct=1,go(e,ke(n,e.current)),et=null;return}}catch(a){if(r!==null)throw et=r,a;Ct=1,go(e,ke(n,e.current)),et=null;return}t.flags&32768?(ot||i===1?e=!0:aa||rt&536870912?e=!1:(Yn=e=!0,(i===2||i===9||i===3||i===6)&&(i=qe.current,i!==null&&i.tag===13&&(i.flags|=16384))),Vv(t,e)):eu(t)}function eu(e){var t=e;do{if(t.flags&32768){Vv(t,Yn);return}e=t.return;var n=r2(t.alternate,t,Nn);if(n!==null){et=n;return}if(t=t.sibling,t!==null){et=t;return}et=t=e}while(t!==null);Ct===0&&(Ct=5)}function Vv(e,t){do{var n=a2(e.alternate,e);if(n!==null){n.flags&=32767,et=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){et=e;return}et=e=n}while(e!==null);Ct=6,et=null}function Dg(e,t,n,i,r,a,l,o,u){e.cancelPendingCommit=null;do nu();while(Wt!==0);if(ht&6)throw Error(L(327));if(t!==null){if(t===e.current)throw Error(L(177));if(a=t.lanes|t.childLanes,a|=vf,FE(e,n,a,l,o,u),e===pt&&(et=pt=null,rt=0),Qr=t,ei=e,Or=n,fh=a,dh=r,wv=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,y2(eo,function(){return Uv(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=F.T,F.T=null,r=ut.p,ut.p=2,l=ht,ht|=4;try{s2(e,t,n)}finally{ht=l,ut.p=r,F.T=i}}Wt=1,Mv(),Iv(),jv()}}function Mv(){if(Wt===1){Wt=0;var e=ei,t=Qr,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=F.T,F.T=null;var i=ut.p;ut.p=2;var r=ht;ht|=4;try{vv(t,e);var a=_h,l=t0(e.containerInfo),o=a.focusedElem,u=a.selectionRange;if(l!==o&&o&&o.ownerDocument&&Wy(o.ownerDocument.documentElement,o)){if(u!==null&&yf(o)){var f=u.start,d=u.end;if(d===void 0&&(d=f),"selectionStart"in o)o.selectionStart=f,o.selectionEnd=Math.min(d,o.value.length);else{var p=o.ownerDocument||document,m=p&&p.defaultView||window;if(m.getSelection){var _=m.getSelection(),O=o.textContent.length,V=Math.min(u.start,O),I=u.end===void 0?V:Math.min(u.end,O);!_.extend&&V>I&&(l=I,I=V,V=l);var T=$m(o,V),E=$m(o,I);if(T&&E&&(_.rangeCount!==1||_.anchorNode!==T.node||_.anchorOffset!==T.offset||_.focusNode!==E.node||_.focusOffset!==E.offset)){var S=p.createRange();S.setStart(T.node,T.offset),_.removeAllRanges(),V>I?(_.addRange(S),_.extend(E.node,E.offset)):(S.setEnd(E.node,E.offset),_.addRange(S))}}}}for(p=[],_=o;_=_.parentNode;)_.nodeType===1&&p.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<p.length;o++){var C=p[o];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}Ro=!!vh,_h=vh=null}finally{ht=r,ut.p=i,F.T=n}}e.current=t,Wt=2}}function Iv(){if(Wt===2){Wt=0;var e=ei,t=Qr,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=F.T,F.T=null;var i=ut.p;ut.p=2;var r=ht;ht|=4;try{mv(e,t.alternate,t)}finally{ht=r,ut.p=i,F.T=n}}Wt=3}}function jv(){if(Wt===4||Wt===3){Wt=0,LE();var e=ei,t=Qr,n=Or,i=wv;t.subtreeFlags&10256||t.flags&10256?Wt=5:(Wt=0,Qr=ei=null,Lv(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(ti=null),cf(n),t=t.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(Rs,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=F.T,r=ut.p,ut.p=2,F.T=null;try{for(var a=e.onRecoverableError,l=0;l<i.length;l++){var o=i[l];a(o.value,{componentStack:o.stack})}}finally{F.T=t,ut.p=r}}Or&3&&nu(),cn(e),r=e.pendingLanes,n&4194090&&r&42?e===mh?Wa++:(Wa=0,mh=e):Wa=0,ks(0)}}function Lv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Is(t)))}function nu(e){return Mv(),Iv(),jv(),Uv()}function Uv(){if(Wt!==5)return!1;var e=ei,t=fh;fh=0;var n=cf(Or),i=F.T,r=ut.p;try{ut.p=32>n?32:n,F.T=null,n=dh,dh=null;var a=ei,l=Or;if(Wt=0,Qr=ei=null,Or=0,ht&6)throw Error(L(331));var o=ht;if(ht|=4,Av(a.current),Ev(a,a.current,l,n),ht=o,ks(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(Rs,a)}catch{}return!0}finally{ut.p=r,F.T=i,Lv(e,t)}}function Og(e,t,n){t=ke(n,t),t=lh(e.stateNode,t,2),e=Wn(e,t,2),e!==null&&(Ns(e,2),cn(e))}function gt(e,t,n){if(e.tag===3)Og(e,e,n);else for(;t!==null;){if(t.tag===3){Og(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ti===null||!ti.has(i))){e=ke(n,e),n=tv(2),i=Wn(t,n,2),i!==null&&(ev(n,i,t,e),Ns(i,2),cn(i));break}}t=t.return}}function mc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new u2;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(qf=!0,r.add(n),e=m2.bind(null,e,t,n),t.then(e,e))}function m2(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pt===e&&(rt&n)===n&&(Ct===4||Ct===3&&(rt&62914560)===rt&&300>rn()-Gf?!(ht&2)&&Yr(e,0):Hf|=n,Fr===rt&&(Fr=0)),cn(e)}function zv(e,t){t===0&&(t=My()),e=ra(e,t),e!==null&&(Ns(e,t),cn(e))}function g2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zv(e,n)}function p2(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(L(314))}i!==null&&i.delete(t),zv(e,n)}function y2(e,t){return of(e,t)}var Eo=null,lr=null,ph=!1,To=!1,gc=!1,zi=0;function cn(e){e!==lr&&e.next===null&&(lr===null?Eo=lr=e:lr=lr.next=e),To=!0,ph||(ph=!0,_2())}function ks(e,t){if(!gc&&To){gc=!0;do for(var n=!1,i=Eo;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var a=0;else{var l=i.suspendedLanes,o=i.pingedLanes;a=(1<<31-De(42|e)+1)-1,a&=r&~(l&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,Vg(i,a))}else a=rt,a=Go(i,i===pt?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||Cs(i,a)||(n=!0,Vg(i,a));i=i.next}while(n);gc=!1}}function v2(){kv()}function kv(){To=ph=!1;var e=0;zi!==0&&(R2()&&(e=zi),zi=0);for(var t=rn(),n=null,i=Eo;i!==null;){var r=i.next,a=Bv(i,t);a===0?(i.next=null,n===null?Eo=r:n.next=r,r===null&&(lr=n)):(n=i,(e!==0||a&3)&&(To=!0)),i=r}ks(e)}function Bv(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var l=31-De(a),o=1<<l,u=r[l];u===-1?(!(o&n)||o&i)&&(r[l]=GE(o,t)):u<=t&&(e.expiredLanes|=o),a&=~o}if(t=pt,n=rt,n=Go(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(ct===2||ct===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Pu(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Cs(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Pu(i),cf(n)){case 2:case 8:n=Dy;break;case 32:n=eo;break;case 268435456:n=Oy;break;default:n=eo}return i=Pv.bind(null,e),n=of(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Pu(i),e.callbackPriority=2,e.callbackNode=null,2}function Pv(e,t){if(Wt!==0&&Wt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(nu()&&e.callbackNode!==n)return null;var i=rt;return i=Go(e,e===pt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Rv(e,i,t),Bv(e,rn()),e.callbackNode!=null&&e.callbackNode===n?Pv.bind(null,e):null)}function Vg(e,t){if(nu())return null;Rv(e,t,!0)}function _2(){N2(function(){ht&6?of(Ny,v2):kv()})}function Qf(){return zi===0&&(zi=Vy()),zi}function Mg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:jl(""+e)}function Ig(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function E2(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var a=Mg((r[Te]||null).action),l=i.submitter;l&&(t=(t=l[Te]||null)?Mg(t.formAction):l.getAttribute("formAction"),t!==null&&(a=t,l=null));var o=new Fo("action","action",null,i,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(zi!==0){var u=l?Ig(r,l):new FormData(r);ah(n,{pending:!0,data:u,method:r.method,action:a},null,u)}}else typeof a=="function"&&(o.preventDefault(),u=l?Ig(r,l):new FormData(r),ah(n,{pending:!0,data:u,method:r.method,action:a},a,u))},currentTarget:r}]})}}for(var pc=0;pc<Yc.length;pc++){var yc=Yc[pc],T2=yc.toLowerCase(),b2=yc[0].toUpperCase()+yc.slice(1);Xe(T2,"on"+b2)}Xe(n0,"onAnimationEnd");Xe(i0,"onAnimationIteration");Xe(r0,"onAnimationStart");Xe("dblclick","onDoubleClick");Xe("focusin","onFocus");Xe("focusout","onBlur");Xe(kT,"onTransitionRun");Xe(BT,"onTransitionStart");Xe(PT,"onTransitionCancel");Xe(a0,"onTransitionEnd");kr("onMouseEnter",["mouseout","mouseover"]);kr("onMouseLeave",["mouseout","mouseover"]);kr("onPointerEnter",["pointerout","pointerover"]);kr("onPointerLeave",["pointerout","pointerover"]);Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ds));function qv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var a=void 0;if(t)for(var l=i.length-1;0<=l;l--){var o=i[l],u=o.instance,f=o.currentTarget;if(o=o.listener,u!==a&&r.isPropagationStopped())break t;a=o,r.currentTarget=f;try{a(r)}catch(d){mo(d)}r.currentTarget=null,a=u}else for(l=0;l<i.length;l++){if(o=i[l],u=o.instance,f=o.currentTarget,o=o.listener,u!==a&&r.isPropagationStopped())break t;a=o,r.currentTarget=f;try{a(r)}catch(d){mo(d)}r.currentTarget=null,a=u}}}}function tt(e,t){var n=t[Bc];n===void 0&&(n=t[Bc]=new Set);var i=e+"__bubble";n.has(i)||(Hv(t,e,2,!1),n.add(i))}function vc(e,t,n){var i=0;t&&(i|=4),Hv(n,e,i,t)}var Sl="_reactListening"+Math.random().toString(36).slice(2);function Yf(e){if(!e[Sl]){e[Sl]=!0,Uy.forEach(function(n){n!=="selectionchange"&&(A2.has(n)||vc(n,!1,e),vc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sl]||(t[Sl]=!0,vc("selectionchange",!1,t))}}function Hv(e,t,n,i){switch(e1(t)){case 2:var r=Z2;break;case 8:r=$2;break;default:r=$f}n=r.bind(null,t,n,e),r=void 0,!Gc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function _c(e,t,n,i,r){var a=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var o=i.stateNode.containerInfo;if(o===r)break;if(l===4)for(l=i.return;l!==null;){var u=l.tag;if((u===3||u===4)&&l.stateNode.containerInfo===r)return;l=l.return}for(;o!==null;){if(l=mr(o),l===null)return;if(u=l.tag,u===5||u===6||u===26||u===27){i=a=l;continue t}o=o.parentNode}}i=i.return}Fy(function(){var f=a,d=df(n),p=[];t:{var m=s0.get(e);if(m!==void 0){var _=Fo,O=e;switch(e){case"keypress":if(Ul(n)===0)break t;case"keydown":case"keyup":_=yT;break;case"focusin":O="focus",_=Ku;break;case"focusout":O="blur",_=Ku;break;case"beforeblur":case"afterblur":_=Ku;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Pm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=aT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=ET;break;case n0:case i0:case r0:_=oT;break;case a0:_=bT;break;case"scroll":case"scrollend":_=iT;break;case"wheel":_=ST;break;case"copy":case"cut":case"paste":_=cT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Hm;break;case"toggle":case"beforetoggle":_=xT}var V=(t&4)!==0,I=!V&&(e==="scroll"||e==="scrollend"),T=V?m!==null?m+"Capture":null:m;V=[];for(var E=f,S;E!==null;){var C=E;if(S=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||S===null||T===null||(C=ls(E,T),C!=null&&V.push(ms(E,C,S))),I)break;E=E.return}0<V.length&&(m=new _(m,O,null,n,d),p.push({event:m,listeners:V}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",m&&n!==Hc&&(O=n.relatedTarget||n.fromElement)&&(mr(O)||O[na]))break t;if((_||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,_?(O=n.relatedTarget||n.toElement,_=f,O=O?mr(O):null,O!==null&&(I=xs(O),V=O.tag,O!==I||V!==5&&V!==27&&V!==6)&&(O=null)):(_=null,O=f),_!==O)){if(V=Pm,C="onMouseLeave",T="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(V=Hm,C="onPointerLeave",T="onPointerEnter",E="pointer"),I=_==null?m:ja(_),S=O==null?m:ja(O),m=new V(C,E+"leave",_,n,d),m.target=I,m.relatedTarget=S,C=null,mr(d)===f&&(V=new V(T,E+"enter",O,n,d),V.target=S,V.relatedTarget=I,C=V),I=C,_&&O)e:{for(V=_,T=O,E=0,S=V;S;S=ir(S))E++;for(S=0,C=T;C;C=ir(C))S++;for(;0<E-S;)V=ir(V),E--;for(;0<S-E;)T=ir(T),S--;for(;E--;){if(V===T||T!==null&&V===T.alternate)break e;V=ir(V),T=ir(T)}V=null}else V=null;_!==null&&jg(p,m,_,V,!1),O!==null&&I!==null&&jg(p,I,O,V,!0)}}t:{if(m=f?ja(f):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var U=Ym;else if(Qm(m))if($y)U=LT;else{U=IT;var q=MT}else _=m.nodeName,!_||_.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?f&&ff(f.elementType)&&(U=Ym):U=jT;if(U&&(U=U(e,f))){Zy(p,U,n,d);break t}q&&q(e,m,f),e==="focusout"&&f&&m.type==="number"&&f.memoizedProps.value!=null&&qc(m,"number",m.value)}switch(q=f?ja(f):window,e){case"focusin":(Qm(q)||q.contentEditable==="true")&&(yr=q,Fc=f,Ha=null);break;case"focusout":Ha=Fc=yr=null;break;case"mousedown":Qc=!0;break;case"contextmenu":case"mouseup":case"dragend":Qc=!1,Jm(p,n,d);break;case"selectionchange":if(zT)break;case"keydown":case"keyup":Jm(p,n,d)}var b;if(pf)t:{switch(e){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else pr?Xy(e,n)&&(y="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Yy&&n.locale!=="ko"&&(pr||y!=="onCompositionStart"?y==="onCompositionEnd"&&pr&&(b=Qy()):(Qn=d,mf="value"in Qn?Qn.value:Qn.textContent,pr=!0)),q=bo(f,y),0<q.length&&(y=new qm(y,e,null,n,d),p.push({event:y,listeners:q}),b?y.data=b:(b=Ky(n),b!==null&&(y.data=b)))),(b=CT?NT(e,n):DT(e,n))&&(y=bo(f,"onBeforeInput"),0<y.length&&(q=new qm("onBeforeInput","beforeinput",null,n,d),p.push({event:q,listeners:y}),q.data=b)),E2(p,e,f,n,d)}qv(p,t)})}function ms(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bo(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,a=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||a===null||(r=ls(e,n),r!=null&&i.unshift(ms(e,r,a)),r=ls(e,t),r!=null&&i.push(ms(e,r,a))),e.tag===3)return i;e=e.return}return[]}function ir(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jg(e,t,n,i,r){for(var a=t._reactName,l=[];n!==null&&n!==i;){var o=n,u=o.alternate,f=o.stateNode;if(o=o.tag,u!==null&&u===i)break;o!==5&&o!==26&&o!==27||f===null||(u=f,r?(f=ls(n,a),f!=null&&l.unshift(ms(n,f,u))):r||(f=ls(n,a),f!=null&&l.push(ms(n,f,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var S2=/\r\n?/g,w2=/\u0000|\uFFFD/g;function Lg(e){return(typeof e=="string"?e:""+e).replace(S2,`
`).replace(w2,"")}function Gv(e,t){return t=Lg(t),Lg(e)===t}function iu(){}function ft(e,t,n,i,r,a){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Br(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Br(e,""+i);break;case"className":yl(e,"class",i);break;case"tabIndex":yl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":yl(e,n,i);break;case"style":Gy(e,i,a);break;case"data":if(t!=="object"){yl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=jl(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&ft(e,t,"name",r.name,r,null),ft(e,t,"formEncType",r.formEncType,r,null),ft(e,t,"formMethod",r.formMethod,r,null),ft(e,t,"formTarget",r.formTarget,r,null)):(ft(e,t,"encType",r.encType,r,null),ft(e,t,"method",r.method,r,null),ft(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=jl(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=iu);break;case"onScroll":i!=null&&tt("scroll",e);break;case"onScrollEnd":i!=null&&tt("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=jl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":tt("beforetoggle",e),tt("toggle",e),Il(e,"popover",i);break;case"xlinkActuate":gn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":gn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":gn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":gn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":gn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":gn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":gn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":gn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":gn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Il(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=eT.get(n)||n,Il(e,n,i))}}function yh(e,t,n,i,r,a){switch(n){case"style":Gy(e,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Br(e,i):(typeof i=="number"||typeof i=="bigint")&&Br(e,""+i);break;case"onScroll":i!=null&&tt("scroll",e);break;case"onScrollEnd":i!=null&&tt("scrollend",e);break;case"onClick":i!=null&&(e.onclick=iu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zy.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),a=e[Te]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,r),typeof i=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Il(e,n,i)}}}function te(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",e),tt("load",e);var i=!1,r=!1,a;for(a in n)if(n.hasOwnProperty(a)){var l=n[a];if(l!=null)switch(a){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:ft(e,t,a,l,n,null)}}r&&ft(e,t,"srcSet",n.srcSet,n,null),i&&ft(e,t,"src",n.src,n,null);return;case"input":tt("invalid",e);var o=a=l=r=null,u=null,f=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":r=d;break;case"type":l=d;break;case"checked":u=d;break;case"defaultChecked":f=d;break;case"value":a=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(L(137,t));break;default:ft(e,t,i,d,n,null)}}Py(e,a,o,u,f,l,r,!1),no(e);return;case"select":tt("invalid",e),i=l=a=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":a=o;break;case"defaultValue":l=o;break;case"multiple":i=o;default:ft(e,t,r,o,n,null)}t=a,n=l,e.multiple=!!i,t!=null?wr(e,!!i,t,!1):n!=null&&wr(e,!!i,n,!0);return;case"textarea":tt("invalid",e),a=r=i=null;for(l in n)if(n.hasOwnProperty(l)&&(o=n[l],o!=null))switch(l){case"value":i=o;break;case"defaultValue":r=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(L(91));break;default:ft(e,t,l,o,n,null)}Hy(e,i,r,a),no(e);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ft(e,t,u,i,n,null)}return;case"dialog":tt("beforetoggle",e),tt("toggle",e),tt("cancel",e),tt("close",e);break;case"iframe":case"object":tt("load",e);break;case"video":case"audio":for(i=0;i<ds.length;i++)tt(ds[i],e);break;case"image":tt("error",e),tt("load",e);break;case"details":tt("toggle",e);break;case"embed":case"source":case"link":tt("error",e),tt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in n)if(n.hasOwnProperty(f)&&(i=n[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:ft(e,t,f,i,n,null)}return;default:if(ff(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&yh(e,t,d,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&ft(e,t,o,i,n,null))}function x2(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,l=null,o=null,u=null,f=null,d=null;for(_ in n){var p=n[_];if(n.hasOwnProperty(_)&&p!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(_)||ft(e,t,_,null,i,p)}}for(var m in i){var _=i[m];if(p=n[m],i.hasOwnProperty(m)&&(_!=null||p!=null))switch(m){case"type":a=_;break;case"name":r=_;break;case"checked":f=_;break;case"defaultChecked":d=_;break;case"value":l=_;break;case"defaultValue":o=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(L(137,t));break;default:_!==p&&ft(e,t,m,_,i,p)}}Pc(e,l,o,u,f,d,a,r);return;case"select":_=l=o=m=null;for(a in n)if(u=n[a],n.hasOwnProperty(a)&&u!=null)switch(a){case"value":break;case"multiple":_=u;default:i.hasOwnProperty(a)||ft(e,t,a,null,i,u)}for(r in i)if(a=i[r],u=n[r],i.hasOwnProperty(r)&&(a!=null||u!=null))switch(r){case"value":m=a;break;case"defaultValue":o=a;break;case"multiple":l=a;default:a!==u&&ft(e,t,r,a,i,u)}t=o,n=l,i=_,m!=null?wr(e,!!n,m,!1):!!i!=!!n&&(t!=null?wr(e,!!n,t,!0):wr(e,!!n,n?[]:"",!1));return;case"textarea":_=m=null;for(o in n)if(r=n[o],n.hasOwnProperty(o)&&r!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:ft(e,t,o,null,i,r)}for(l in i)if(r=i[l],a=n[l],i.hasOwnProperty(l)&&(r!=null||a!=null))switch(l){case"value":m=r;break;case"defaultValue":_=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(L(91));break;default:r!==a&&ft(e,t,l,r,i,a)}qy(e,m,_);return;case"option":for(var O in n)if(m=n[O],n.hasOwnProperty(O)&&m!=null&&!i.hasOwnProperty(O))switch(O){case"selected":e.selected=!1;break;default:ft(e,t,O,null,i,m)}for(u in i)if(m=i[u],_=n[u],i.hasOwnProperty(u)&&m!==_&&(m!=null||_!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ft(e,t,u,m,i,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var V in n)m=n[V],n.hasOwnProperty(V)&&m!=null&&!i.hasOwnProperty(V)&&ft(e,t,V,null,i,m);for(f in i)if(m=i[f],_=n[f],i.hasOwnProperty(f)&&m!==_&&(m!=null||_!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(L(137,t));break;default:ft(e,t,f,m,i,_)}return;default:if(ff(t)){for(var I in n)m=n[I],n.hasOwnProperty(I)&&m!==void 0&&!i.hasOwnProperty(I)&&yh(e,t,I,void 0,i,m);for(d in i)m=i[d],_=n[d],!i.hasOwnProperty(d)||m===_||m===void 0&&_===void 0||yh(e,t,d,m,i,_);return}}for(var T in n)m=n[T],n.hasOwnProperty(T)&&m!=null&&!i.hasOwnProperty(T)&&ft(e,t,T,null,i,m);for(p in i)m=i[p],_=n[p],!i.hasOwnProperty(p)||m===_||m==null&&_==null||ft(e,t,p,m,i,_)}var vh=null,_h=null;function Ao(e){return e.nodeType===9?e:e.ownerDocument}function Ug(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Eh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ec=null;function R2(){var e=window.event;return e&&e.type==="popstate"?e===Ec?!1:(Ec=e,!0):(Ec=null,!1)}var Qv=typeof setTimeout=="function"?setTimeout:void 0,C2=typeof clearTimeout=="function"?clearTimeout:void 0,zg=typeof Promise=="function"?Promise:void 0,N2=typeof queueMicrotask=="function"?queueMicrotask:typeof zg<"u"?function(e){return zg.resolve(null).then(e).catch(D2)}:Qv;function D2(e){setTimeout(function(){throw e})}function Ti(e){return e==="head"}function kg(e,t){var n=t,i=0,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<i&&8>i){n=i;var l=e.ownerDocument;if(n&1&&ts(l.documentElement),n&2&&ts(l.body),n&4)for(n=l.head,ts(n),l=n.firstChild;l;){var o=l.nextSibling,u=l.nodeName;l[Ds]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&l.rel.toLowerCase()==="stylesheet"||n.removeChild(l),l=o}}if(r===0){e.removeChild(a),_s(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=a}while(n);_s(t)}function Th(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Th(n),hf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function O2(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Ds])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=Ye(e.nextSibling),e===null)break}return null}function V2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ye(e.nextSibling),e===null))return null;return e}function bh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function M2(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Ye(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Ah=null;function Bg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function Yv(e,t,n){switch(t=Ao(n),e){case"html":if(e=t.documentElement,!e)throw Error(L(452));return e;case"head":if(e=t.head,!e)throw Error(L(453));return e;case"body":if(e=t.body,!e)throw Error(L(454));return e;default:throw Error(L(451))}}function ts(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);hf(e)}var He=new Map,Pg=new Set;function So(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Vn=ut.d;ut.d={f:I2,r:j2,D:L2,C:U2,L:z2,m:k2,X:P2,S:B2,M:q2};function I2(){var e=Vn.f(),t=tu();return e||t}function j2(e){var t=ia(e);t!==null&&t.tag===5&&t.type==="form"?B0(t):Vn.r(e)}var sa=typeof document>"u"?null:document;function Xv(e,t,n){var i=sa;if(i&&typeof t=="string"&&t){var r=ze(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Pg.has(r)||(Pg.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),te(t,"link",e),Yt(t),i.head.appendChild(t)))}}function L2(e){Vn.D(e),Xv("dns-prefetch",e,null)}function U2(e,t){Vn.C(e,t),Xv("preconnect",e,t)}function z2(e,t,n){Vn.L(e,t,n);var i=sa;if(i&&e&&t){var r='link[rel="preload"][as="'+ze(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+ze(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+ze(n.imageSizes)+'"]')):r+='[href="'+ze(e)+'"]';var a=r;switch(t){case"style":a=Xr(e);break;case"script":a=la(e)}He.has(a)||(e=_t({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),He.set(a,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(Bs(a))||t==="script"&&i.querySelector(Ps(a))||(t=i.createElement("link"),te(t,"link",e),Yt(t),i.head.appendChild(t)))}}function k2(e,t){Vn.m(e,t);var n=sa;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+ze(i)+'"][href="'+ze(e)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=la(e)}if(!He.has(a)&&(e=_t({rel:"modulepreload",href:e},t),He.set(a,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ps(a)))return}i=n.createElement("link"),te(i,"link",e),Yt(i),n.head.appendChild(i)}}}function B2(e,t,n){Vn.S(e,t,n);var i=sa;if(i&&e){var r=Sr(i).hoistableStyles,a=Xr(e);t=t||"default";var l=r.get(a);if(!l){var o={loading:0,preload:null};if(l=i.querySelector(Bs(a)))o.loading=5;else{e=_t({rel:"stylesheet",href:e,"data-precedence":t},n),(n=He.get(a))&&Xf(e,n);var u=l=i.createElement("link");Yt(u),te(u,"link",e),u._p=new Promise(function(f,d){u.onload=f,u.onerror=d}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Gl(l,t,i)}l={type:"stylesheet",instance:l,count:1,state:o},r.set(a,l)}}}function P2(e,t){Vn.X(e,t);var n=sa;if(n&&e){var i=Sr(n).hoistableScripts,r=la(e),a=i.get(r);a||(a=n.querySelector(Ps(r)),a||(e=_t({src:e,async:!0},t),(t=He.get(r))&&Kf(e,t),a=n.createElement("script"),Yt(a),te(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function q2(e,t){Vn.M(e,t);var n=sa;if(n&&e){var i=Sr(n).hoistableScripts,r=la(e),a=i.get(r);a||(a=n.querySelector(Ps(r)),a||(e=_t({src:e,async:!0,type:"module"},t),(t=He.get(r))&&Kf(e,t),a=n.createElement("script"),Yt(a),te(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function qg(e,t,n,i){var r=(r=$n.current)?So(r):null;if(!r)throw Error(L(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Xr(n.href),n=Sr(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Xr(n.href);var a=Sr(r).hoistableStyles,l=a.get(e);if(l||(r=r.ownerDocument||r,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,l),(a=r.querySelector(Bs(e)))&&!a._p&&(l.instance=a,l.state.loading=5),He.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},He.set(e,n),a||H2(r,e,n,l.state))),t&&i===null)throw Error(L(528,""));return l}if(t&&i!==null)throw Error(L(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=la(n),n=Sr(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(L(444,e))}}function Xr(e){return'href="'+ze(e)+'"'}function Bs(e){return'link[rel="stylesheet"]['+e+"]"}function Kv(e){return _t({},e,{"data-precedence":e.precedence,precedence:null})}function H2(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),te(t,"link",n),Yt(t),e.head.appendChild(t))}function la(e){return'[src="'+ze(e)+'"]'}function Ps(e){return"script[async]"+e}function Hg(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+ze(n.href)+'"]');if(i)return t.instance=i,Yt(i),i;var r=_t({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Yt(i),te(i,"style",r),Gl(i,n.precedence,e),t.instance=i;case"stylesheet":r=Xr(n.href);var a=e.querySelector(Bs(r));if(a)return t.state.loading|=4,t.instance=a,Yt(a),a;i=Kv(n),(r=He.get(r))&&Xf(i,r),a=(e.ownerDocument||e).createElement("link"),Yt(a);var l=a;return l._p=new Promise(function(o,u){l.onload=o,l.onerror=u}),te(a,"link",i),t.state.loading|=4,Gl(a,n.precedence,e),t.instance=a;case"script":return a=la(n.src),(r=e.querySelector(Ps(a)))?(t.instance=r,Yt(r),r):(i=n,(r=He.get(a))&&(i=_t({},n),Kf(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),Yt(r),te(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(L(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Gl(i,n.precedence,e));return t.instance}function Gl(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,l=0;l<i.length;l++){var o=i[l];if(o.dataset.precedence===t)a=o;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Xf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Kf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Fl=null;function Gg(e,t,n){if(Fl===null){var i=new Map,r=Fl=new Map;r.set(n,i)}else r=Fl,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var a=n[r];if(!(a[Ds]||a[oe]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var l=a.getAttribute(t)||"";l=e+l;var o=i.get(l);o?o.push(a):i.set(l,[a])}}return i}function Fg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function G2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Zv(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var gs=null;function F2(){}function Q2(e,t,n){if(gs===null)throw Error(L(475));var i=gs;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=Xr(n.href),a=e.querySelector(Bs(r));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=wo.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=a,Yt(a);return}a=e.ownerDocument||e,n=Kv(n),(r=He.get(r))&&Xf(n,r),a=a.createElement("link"),Yt(a);var l=a;l._p=new Promise(function(o,u){l.onload=o,l.onerror=u}),te(a,"link",n),t.instance=a}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=wo.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function Y2(){if(gs===null)throw Error(L(475));var e=gs;return e.stylesheets&&e.count===0&&Sh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Sh(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function wo(){if(this.count--,this.count===0){if(this.stylesheets)Sh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xo=null;function Sh(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xo=new Map,t.forEach(X2,e),xo=null,wo.call(e))}function X2(e,t){if(!(t.state.loading&4)){var n=xo.get(e);if(n)var i=n.get(null);else{n=new Map,xo.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var l=r[a];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(n.set(l.dataset.precedence,l),i=l)}i&&n.set(null,i)}r=t.instance,l=r.getAttribute("data-precedence"),a=n.get(l)||i,a===i&&n.set(null,r),n.set(l,r),this.count++,i=wo.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var ps={$$typeof:_n,Provider:null,Consumer:null,_currentValue:Vi,_currentValue2:Vi,_threadCount:0};function K2(e,t,n,i,r,a,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qu(0),this.hiddenUpdates=qu(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function $v(e,t,n,i,r,a,l,o,u,f,d,p){return e=new K2(e,t,n,l,o,u,f,p),t=1,a===!0&&(t|=24),a=Ce(3,null,null,t),e.current=a,a.stateNode=e,t=Af(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:t},wf(a),e}function Jv(e){return e?(e=Er,e):Er}function Wv(e,t,n,i,r,a){r=Jv(r),i.context===null?i.context=r:i.pendingContext=r,i=Jn(t),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=Wn(e,i,t),n!==null&&(Ve(n,e,t),Qa(n,e,t))}function Qg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zf(e,t){Qg(e,t),(e=e.alternate)&&Qg(e,t)}function t1(e){if(e.tag===13){var t=ra(e,67108864);t!==null&&Ve(t,e,67108864),Zf(e,67108864)}}var Ro=!0;function Z2(e,t,n,i){var r=F.T;F.T=null;var a=ut.p;try{ut.p=2,$f(e,t,n,i)}finally{ut.p=a,F.T=r}}function $2(e,t,n,i){var r=F.T;F.T=null;var a=ut.p;try{ut.p=8,$f(e,t,n,i)}finally{ut.p=a,F.T=r}}function $f(e,t,n,i){if(Ro){var r=wh(i);if(r===null)_c(e,t,i,Co,n),Yg(e,i);else if(W2(r,e,t,n,i))i.stopPropagation();else if(Yg(e,i),t&4&&-1<J2.indexOf(e)){for(;r!==null;){var a=ia(r);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var l=Ri(a.pendingLanes);if(l!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;l;){var u=1<<31-De(l);o.entanglements[1]|=u,l&=~u}cn(a),!(ht&6)&&(vo=rn()+500,ks(0))}}break;case 13:o=ra(a,2),o!==null&&Ve(o,a,2),tu(),Zf(a,2)}if(a=wh(i),a===null&&_c(e,t,i,Co,n),a===r)break;r=a}r!==null&&i.stopPropagation()}else _c(e,t,i,null,n)}}function wh(e){return e=df(e),Jf(e)}var Co=null;function Jf(e){if(Co=null,e=mr(e),e!==null){var t=xs(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=wy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Co=e,null}function e1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(UE()){case Ny:return 2;case Dy:return 8;case eo:case zE:return 32;case Oy:return 268435456;default:return 32}default:return 32}}var xh=!1,ni=null,ii=null,ri=null,ys=new Map,vs=new Map,Gn=[],J2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yg(e,t){switch(e){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":ys.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(t.pointerId)}}function Va(e,t,n,i,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},t!==null&&(t=ia(t),t!==null&&t1(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function W2(e,t,n,i,r){switch(t){case"focusin":return ni=Va(ni,e,t,n,i,r),!0;case"dragenter":return ii=Va(ii,e,t,n,i,r),!0;case"mouseover":return ri=Va(ri,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return ys.set(a,Va(ys.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,vs.set(a,Va(vs.get(a)||null,e,t,n,i,r)),!0}return!1}function n1(e){var t=mr(e.target);if(t!==null){var n=xs(t);if(n!==null){if(t=n.tag,t===13){if(t=wy(n),t!==null){e.blockedOn=t,QE(e.priority,function(){if(n.tag===13){var i=Oe();i=uf(i);var r=ra(n,i);r!==null&&Ve(r,n,i),Zf(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ql(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wh(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Hc=i,n.target.dispatchEvent(i),Hc=null}else return t=ia(n),t!==null&&t1(t),e.blockedOn=n,!1;t.shift()}return!0}function Xg(e,t,n){Ql(e)&&n.delete(t)}function tb(){xh=!1,ni!==null&&Ql(ni)&&(ni=null),ii!==null&&Ql(ii)&&(ii=null),ri!==null&&Ql(ri)&&(ri=null),ys.forEach(Xg),vs.forEach(Xg)}function wl(e,t){e.blockedOn===t&&(e.blockedOn=null,xh||(xh=!0,Gt.unstable_scheduleCallback(Gt.unstable_NormalPriority,tb)))}var xl=null;function Kg(e){xl!==e&&(xl=e,Gt.unstable_scheduleCallback(Gt.unstable_NormalPriority,function(){xl===e&&(xl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(Jf(i||n)===null)continue;break}var a=ia(n);a!==null&&(e.splice(t,3),t-=3,ah(a,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function _s(e){function t(u){return wl(u,e)}ni!==null&&wl(ni,e),ii!==null&&wl(ii,e),ri!==null&&wl(ri,e),ys.forEach(t),vs.forEach(t);for(var n=0;n<Gn.length;n++){var i=Gn[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Gn.length&&(n=Gn[0],n.blockedOn===null);)n1(n),n.blockedOn===null&&Gn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],a=n[i+1],l=r[Te]||null;if(typeof a=="function")l||Kg(n);else if(l){var o=null;if(a&&a.hasAttribute("formAction")){if(r=a,l=a[Te]||null)o=l.formAction;else if(Jf(r)!==null)continue}else o=l.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),Kg(n)}}}function Wf(e){this._internalRoot=e}ru.prototype.render=Wf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));var n=t.current,i=Oe();Wv(n,i,e,t,null,null)};ru.prototype.unmount=Wf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wv(e.current,2,null,e,null,null),tu(),t[na]=null}};function ru(e){this._internalRoot=e}ru.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ly();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gn.length&&t!==0&&t<Gn[n].priority;n++);Gn.splice(n,0,e),n===0&&n1(e)}};var Zg=Ay.version;if(Zg!=="19.1.0")throw Error(L(527,Zg,"19.1.0"));ut.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=DE(t),e=e!==null?xy(e):null,e=e===null?null:e.stateNode,e};var eb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rl.isDisabled&&Rl.supportsFiber)try{Rs=Rl.inject(eb),Ne=Rl}catch{}}qo.createRoot=function(e,t){if(!Sy(e))throw Error(L(299));var n=!1,i="",r=$0,a=J0,l=W0,o=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(l=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=$v(e,1,!1,null,null,n,i,r,a,l,o,null),e[na]=t.current,Yf(e),new Wf(t)};qo.hydrateRoot=function(e,t,n){if(!Sy(e))throw Error(L(299));var i=!1,r="",a=$0,l=J0,o=W0,u=null,f=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(l=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(f=n.formState)),t=$v(e,1,!0,t,n??null,i,r,a,l,o,u,f),t.context=Jv(null),n=t.current,i=Oe(),i=uf(i),r=Jn(i),r.callback=null,Wn(n,r,i),n=i,t.current.lanes=n,Ns(t,n),cn(t),e[na]=t.current,Yf(e),new ru(t)};qo.version="19.1.0";function i1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i1)}catch(e){console.error(e)}}i1(),yy.exports=qo;var nb=yy.exports;const ib=ly(nb),r1="https://checkout.wompi.co/l/VPOS_sUdpQY",qs="https://wa.link/4fo4p4",Rh=5e6,Ch={searchTerm:"",category:"",priceRange:{min:0,max:Rh},stockOnly:!1},No={TELEVISOR:"📺",ENTRETENIMIENTO:"🎬","AUDIO Y SONIDO":"🎧","CUIDADO PERSONAL":"💇‍♀️","SALUD Y BELLEZA":"💅",COCINA:"🍳",HOGAR:"🏠",DEFAULT:"🛍️"},a1=e=>v.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",...e,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s1=e=>v.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",...e,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"})}),td=e=>v.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",...e,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m0 0H17M9 18h8"})}),ed=e=>v.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",...e,children:v.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),rb=e=>v.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",...e,children:v.jsx("path",{d:"M12.04 2C6.58 2 2.13 6.45 2.13 11.91C2.13 13.98 2.7 15.95 3.71 17.61L2.05 22L6.59 20.33C8.16 21.23 10.05 21.78 12.04 21.78H12.05C17.5 21.78 21.95 17.33 21.95 11.87C21.95 6.41 17.5 2 12.04 2M17 14.28C16.73 14.15 15.42 13.5 15.18 13.41C14.94 13.32 14.76 13.28 14.58 13.55C14.4 13.82 13.91 14.41 13.77 14.59C13.63 14.77 13.49 14.79 13.22 14.66C12.95 14.53 11.81 14.12 10.42 12.89C9.32 11.91 8.65 10.74 8.47 10.47C8.29 10.2 8.41 10.08 8.54 9.95C8.66 9.84 8.81 9.66 8.95 9.5C9.09 9.34 9.14 9.22 9.23 9.04C9.32 8.86 9.28 8.7 9.21 8.57C9.14 8.44 8.55 6.95 8.31 6.39C8.07 5.83 7.84 5.7 7.62 5.7C7.42 5.7 7.21 5.7 7.01 5.7C6.81 5.7 6.5 5.8 6.27 6.07C6.04 6.34 5.38 6.94 5.38 8.24C5.38 9.54 6.29 10.74 6.43 10.92C6.57 11.1 7.92 13.23 10.05 14.17C11.39 14.81 11.98 15.04 12.42 15.18C12.93 15.34 13.62 15.29 14.05 15.03C14.53 14.73 15.3 14.07 15.52 13.56C15.74 13.05 15.74 12.61 15.65 12.48C15.56 12.35 15.34 12.26 15.07 12.13C14.8 12 17.25 14.41 17 14.28Z"})}),nd=e=>v.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",...e,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),$g=e=>v.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",...e,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),ab=e=>v.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",...e,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),sb=e=>v.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",...e,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 12H6"})}),l1=e=>v.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",...e,children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),o1=e=>v.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",...e,children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),lb=e=>v.jsx("svg",{fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",...e,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),Tc=e=>v.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",...e,children:v.jsx("path",{fillRule:"evenodd",d:"M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm0 9a1 1 0 011 1v1h1a1 1 0 110 2H6v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zM9 2a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0V6H6a1 1 0 010-2h1V3a1 1 0 011-1zm0 9a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0v-1H6a1 1 0 110-2h1v-1a1 1 0 011-1zm6-9a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0V6h-1a1 1 0 110-2h1V3a1 1 0 011-1zm0 9a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0v-1h-1a1 1 0 110-2h1v-1a1 1 0 011-1z",clipRule:"evenodd"})}),ob=e=>v.jsxs("svg",{fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",...e,children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"})]}),ub=e=>v.jsx("svg",{fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",...e,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),cb=e=>v.jsx("svg",{fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",...e,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.623 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})}),hb=e=>v.jsxs("svg",{fill:"currentColor",stroke:"currentColor",strokeWidth:"0.5",viewBox:"0 0 24 24",...e,children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1.001A3.75 3.75 0 0012 18z"})]}),fb=e=>v.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[v.jsx("path",{d:"M18 7V4a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v3"}),v.jsx("path",{d:"M15 17v2a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1v-2"}),v.jsx("path",{d:"M6 7h12v10H6z"})]}),db=e=>v.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:v.jsx("path",{d:"m7 7 10 10-5 5V2l5 5L7 17"})}),mb=({className:e,...t})=>v.jsx("span",{className:`font-black text-3xl ${e||""}`,...t,children:"L"}),gb=({searchTerm:e,onSearchChange:t,totalCartItems:n,onCartClick:i,onMobileFiltersClick:r,filteredCount:a,totalAvailableCount:l,isHeaderVisible:o})=>{const u=Y.useRef(null),f=Y.useRef(null),d=Y.useRef(null),p=[{icon:ob,value:a,label:"En oferta"},{icon:Tc,value:l,label:"Disponibles"},{icon:ub,value:"24h",label:"Envío Rápido"},{icon:cb,value:"100%",label:"Garantía"}],m=()=>{f.current&&clearInterval(f.current),f.current=window.setInterval(()=>{if(u.current){const{scrollLeft:V,scrollWidth:I,clientWidth:T}=u.current;V+T>=I-1?u.current.scrollTo({left:0,behavior:"smooth"}):u.current.scrollBy({left:T/4,behavior:"smooth"})}},3e3)},_=()=>{f.current&&clearInterval(f.current),d.current&&clearTimeout(d.current)},O=()=>{_(),d.current=window.setTimeout(m,5e3)};return Y.useEffect(()=>{const V=u.current,I=window.matchMedia("(max-width: 767px)"),T=E=>{E.matches?m():_()};return I.matches&&m(),I.addEventListener("change",T),V&&(V.addEventListener("pointerdown",O),V.addEventListener("wheel",O,{passive:!0})),()=>{_(),I.removeEventListener("change",T),V&&(V.removeEventListener("pointerdown",O),V.removeEventListener("wheel",O))}},[a,l]),v.jsxs("header",{className:`bg-gradient-to-r from-orange-500 via-red-500 to-purple-600 shadow-2xl sticky top-0 z-50 text-white transition-transform duration-300 ease-in-out ${o?"translate-y-0":"-translate-y-full"}`,children:[v.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-black text-center py-2 px-4",children:v.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm sm:text-base font-black tracking-wide",children:[v.jsx(Tc,{className:"w-5 h-5 text-red-600 animate-pulse"}),v.jsx("span",{className:"truncate",children:"¡OFERTAS MUNDIALES! Hasta 70% OFF"}),v.jsx(Tc,{className:"w-5 h-5 text-red-600 animate-pulse"})]})}),v.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4",children:v.jsxs("div",{className:"flex flex-col gap-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center shadow-lg",children:v.jsx(mb,{className:"text-orange-500 w-8 h-8"})}),v.jsx("div",{className:"flex flex-col",children:v.jsx("h1",{className:"text-2xl md:text-3xl font-black text-white drop-shadow-lg",children:"LiluTecno"})})]}),v.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[v.jsx("button",{onClick:r,className:"lg:hidden p-2 bg-white/20 border border-white/25 rounded-xl text-white backdrop-blur-sm hover:bg-white/30 transition-colors","aria-label":"Abrir filtros",children:v.jsx(s1,{className:"h-6 w-6"})}),v.jsxs("button",{onClick:i,className:"relative p-3 bg-white/20 border border-white/25 rounded-xl text-white backdrop-blur-sm hover:bg-white/30 transition-colors","aria-label":"Ver carrito de compras",children:[v.jsx(td,{className:"h-6 w-6"}),n>0&&v.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs font-bold ring-2 ring-white",children:n})]}),v.jsx("a",{href:qs,target:"_blank",rel:"noopener noreferrer",className:"p-3 bg-green-500 rounded-xl text-white shadow-lg hover:bg-green-600 transition-colors","aria-label":"Contactar por WhatsApp",children:v.jsx(ed,{className:"h-6 w-6"})})]})]}),v.jsxs("div",{className:"relative",children:[v.jsx(a1,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-300 pointer-events-none"}),v.jsx("input",{type:"text",placeholder:"Busca tu producto favorito...",value:e,onChange:V=>t(V.target.value),className:"w-full bg-gray-600/50 backdrop-blur-sm text-white placeholder-gray-300 border border-white/25 rounded-xl py-3 pl-12 pr-4 focus:outline-none focus:ring-2 focus:ring-orange-300 transition-all"})]}),v.jsx("div",{ref:u,className:"md:grid md:grid-cols-4 flex overflow-x-auto gap-3 pb-2 -mx-4 px-4 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:'none'] [scrollbar-width:'none']",children:p.map((V,I)=>v.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 text-white bg-white/10 p-3 rounded-lg backdrop-blur-sm w-40 md:w-auto",children:[v.jsx(V.icon,{className:"w-6 h-6"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-bold text-lg",children:V.value}),v.jsx("p",{className:"text-xs opacity-80",children:V.label})]})]},I))})]})})]})},de=e=>{const t=typeof e=="string"?parseFloat(e):e;return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)},pb=({categories:e,filters:t,onFilterChange:n,onPriceChange:i,onClearFilters:r,maxPrice:a})=>{const l=d=>{n({category:d.target.value})},o=d=>{n({stockOnly:d.target.checked})},u=d=>{const p=Math.min(Number(d.target.value),t.priceRange.max-5e4);i({min:p,max:t.priceRange.max})},f=d=>{const p=Math.max(Number(d.target.value),t.priceRange.min+5e4);i({min:t.priceRange.min,max:p})};return v.jsx("aside",{className:"hidden lg:block lg:w-80 flex-shrink-0",children:v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg sticky top-28",children:[" ",v.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"🔍 Filtros"}),v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{htmlFor:"category-filter",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Categoría"}),v.jsxs("select",{id:"category-filter",value:t.category,onChange:l,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-orange-400 transition-colors",children:[v.jsx("option",{value:"",children:"Todas las categorías"}),e.map(d=>v.jsxs("option",{value:d,children:[No[d]||No.DEFAULT," ",d]},d))]})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Rango de precio"}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("input",{type:"range",id:"price-min",min:"0",max:a,value:t.priceRange.min,step:"50000",onChange:u,className:"w-full appearance-none h-2 bg-gray-200 rounded-lg cursor-pointer accent-orange-500"}),v.jsx("input",{type:"range",id:"price-max",min:"0",max:a,value:t.priceRange.max,step:"50000",onChange:f,className:"w-full appearance-none h-2 bg-gray-200 rounded-lg cursor-pointer accent-orange-500"}),v.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[v.jsx("span",{children:de(t.priceRange.min)}),v.jsx("span",{children:de(t.priceRange.max)})]})]})]}),v.jsx("div",{className:"mb-6",children:v.jsxs("label",{className:"flex items-center cursor-pointer",children:[v.jsx("input",{type:"checkbox",id:"stock-filter",checked:t.stockOnly,onChange:o,className:"rounded text-orange-500 focus:ring-orange-400 h-4 w-4 border-gray-300"}),v.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Solo productos en stock"})]})}),v.jsx("button",{onClick:r,className:"w-full py-2 px-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-400",children:"Limpiar filtros"})]})})},yb=({product:e,onProductClick:t,onAddToCart:n})=>{const[i,r]=Y.useState(!1);Y.useEffect(()=>{const S=setTimeout(()=>r(!0),50);return()=>clearTimeout(S)},[]);const{name:a,price:l,old_price:o,category:u,stock:f,images:d}=e,p=o&&o>l,m=f>0;let _=null;if(p){const S=Math.round((o-l)/o*100);_=v.jsxs("div",{className:"absolute top-3 right-3 bg-red-600 text-white px-2 py-1 rounded-full text-xs font-bold shadow-lg z-10",children:["-",S,"%"]})}const O=S=>{const C=`🛍️ *¡Hola LiluTecno!* 🛍️

Estoy interesado en el siguiente producto:

*Producto:* ${S.name}
*Código:* ${S.id}

Quisiera confirmar disponibilidad y métodos de pago. ¡Gracias! 🚀`;return`${qs}?text=${encodeURIComponent(C)}`},V=()=>{t(e)},I=S=>{S.stopPropagation(),n(e)},T=S=>{S.stopPropagation(),window.open(O(e),"_blank","noopener,noreferrer")},E="https://picsum.photos/300/300?random="+e.id;return v.jsxs("div",{onClick:V,className:`bg-white rounded-2xl shadow-lg flex flex-col group cursor-pointer transition-all duration-300 ease-out hover:shadow-xl hover:-translate-y-2 
                  ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"block h-36 sm:h-44 bg-gray-100 rounded-t-2xl overflow-hidden",children:v.jsx("img",{src:d[0]||E,alt:a,loading:"lazy",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:S=>S.currentTarget.src=E})}),!m&&v.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center rounded-t-2xl",children:v.jsx("span",{className:"font-bold text-gray-600 border border-gray-400 px-3 py-1 rounded-full bg-gray-50",children:"AGOTADO"})}),_]}),v.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[v.jsxs("div",{className:"flex-grow",children:[v.jsx("span",{className:"text-xs font-semibold uppercase text-orange-600 tracking-wider",children:u}),v.jsx("h3",{className:"mt-1 text-sm font-bold text-gray-800 leading-snug group-hover:text-orange-700 transition-colors h-10 line-clamp-2",title:a,children:a})]}),v.jsx("div",{className:"mt-2",children:p?v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-gray-500 line-through",children:de(o)}),v.jsx("p",{className:"text-lg font-extrabold text-red-600",children:de(l)})]}):v.jsx("p",{className:"text-lg font-extrabold text-gray-900 h-[38px] flex items-end",children:de(l)})}),v.jsx("div",{className:"mt-3",children:m?v.jsxs("div",{className:"flex",children:[v.jsxs("button",{onClick:I,className:"flex-grow bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-bold text-sm py-2 px-1 rounded-l-lg transition-all duration-300 ease-in-out hover:shadow-md focus:outline-none focus:ring-2 focus:ring-orange-400 focus:ring-opacity-75 flex items-center justify-center","aria-label":`Agregar ${a} al carrito`,children:[v.jsx(td,{className:"h-4 w-4 sm:h-5 sm:w-5"}),v.jsx("span",{className:"hidden sm:inline-block ml-1",children:"Agregar"})]}),v.jsx("button",{onClick:T,className:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-3 rounded-r-lg transition-all duration-300 ease-in-out hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-opacity-75 -ml-px","aria-label":`Consultar ${a} por WhatsApp`,children:v.jsx(rb,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}):v.jsx("button",{disabled:!0,className:"w-full bg-gray-300 text-gray-500 font-bold py-2 px-4 rounded-lg cursor-not-allowed text-sm",children:"Agotado"})})]})]})},vb=af.memo(yb),_b=({products:e,onProductClick:t,onAddToCart:n})=>e.length===0?v.jsxs("div",{className:"flex-1 text-center py-12",children:[v.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-md",children:v.jsx(a1,{className:"h-10 w-10 text-gray-400"})}),v.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"No se encontraron productos que coincidan con tu búsqueda."}),v.jsx("p",{className:"text-sm text-gray-500",children:"Intenta ajustar los filtros o ampliar tu búsqueda."})]}):v.jsx("div",{className:"flex-1",children:v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6",children:e.map(i=>v.jsx(vb,{product:i,onProductClick:t,onAddToCart:n},i.id))})}),Eb=af.memo(_b),Tb=()=>v.jsxs("a",{href:qs,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 z-50 bg-gradient-to-br from-green-500 to-teal-600 text-white p-4 rounded-full shadow-2xl hover:scale-110 hover:shadow-green-500/50 transition-all duration-300 ease-in-out animate-pulse-whatsapp","aria-label":"Contactar por WhatsApp",title:"Contactar por WhatsApp",children:[v.jsx("style",{children:`
        @keyframes pulseWhatsapp {
          0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.4); }
          50% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(37, 211, 102, 0); }
        }
        .animate-pulse-whatsapp {
          animation: pulseWhatsapp 2s infinite;
        }
      `}),v.jsx(ed,{className:"h-8 w-8"})]}),bb=({message:e,type:t,onClose:n})=>{const[i,r]=Y.useState(!1);Y.useEffect(()=>{r(!0);const o=setTimeout(()=>{r(!1),setTimeout(n,300)},2700);return()=>clearTimeout(o)},[n]);const a=t==="success"?"bg-green-500":"bg-red-500",l=t==="success"?l1:o1;return v.jsxs("div",{className:`
        ${a} text-white px-4 py-3 rounded-lg shadow-xl flex items-center gap-3
        transition-all duration-300 ease-in-out
        ${i?"opacity-100 translate-x-0":"opacity-0 translate-x-full"}
      `,children:[v.jsx(l,{className:"w-6 h-6 flex-shrink-0"}),v.jsx("span",{className:"text-sm font-medium",children:e}),v.jsx("button",{onClick:n,className:"ml-auto -mr-1 p-1 hover:bg-white/20 rounded-full transition-colors",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})},Ab=({product:e,onClose:t,onAddToCart:n})=>{const[i,r]=Y.useState(e.images[0]||"https://picsum.photos/600/600?random="+e.id),a=Y.useMemo(()=>{const m=[],_=e.features.join(" ").toLowerCase();return _.includes("hdmi")&&m.push({name:"HDMI",icon:fb}),(_.includes("bluetooth")||_.includes("bt"))&&m.push({name:"Bluetooth",icon:db}),m},[e.features]),l=e.stock>0,o=e.old_price&&e.old_price>e.price,u=`${r1}?reference=${e.id}&amount-in-cents=${e.price*100}`,f=m=>{const _=`🛍️ *¡Hola LiluTecno!* 🛍️

Estoy interesado en el siguiente producto:

*Producto:* ${m.name}
*Código:* ${m.id}
*Precio:* ${de(m.price)}

Quisiera confirmar disponibilidad y métodos de pago. ¡Gracias! 🚀`;return`${qs}?text=${encodeURIComponent(_)}`},d=()=>{n(e),t()},p="https://picsum.photos/600/600?random="+e.id;return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 transition-opacity duration-300 ease-in-out",onClick:t,children:v.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto transform transition-all duration-300 ease-in-out scale-95 opacity-0 animate-modal-appear [&::-webkit-scrollbar]:hidden [-ms-overflow-style:'none'] [scrollbar-width:'none']",onClick:m=>m.stopPropagation(),children:v.jsx("div",{className:"p-4 sm:p-6",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-10",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsx("div",{className:"relative w-full aspect-square bg-gray-100 rounded-lg shadow-lg border border-gray-200 overflow-hidden",children:v.jsx("img",{id:"main-modal-image",src:i,alt:e.name,className:"w-full h-full object-contain",onError:m=>m.currentTarget.src=p})}),e.images.length>1&&v.jsx("div",{className:"thumbnail-gallery flex items-center gap-2 mt-4 overflow-x-auto pb-2",children:e.images.map((m,_)=>v.jsx("img",{src:m,loading:"lazy",alt:`Miniatura ${_+1} de ${e.name}`,className:`w-16 h-16 object-cover rounded-md cursor-pointer border-2 transition-all duration-200
                        ${i===m?"border-orange-500 shadow-md scale-105":"border-transparent hover:border-orange-300"}`,onClick:()=>r(m),onError:O=>O.currentTarget.src="https://picsum.photos/100/100?random="+e.id+_},_))}),a.length>0&&v.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 flex items-center justify-center gap-x-6 gap-y-2 text-gray-500 flex-wrap",children:a.map(m=>v.jsxs("div",{className:"flex flex-col items-center gap-1",title:m.name,children:[v.jsx(m.icon,{className:"h-8 w-8 text-gray-700"}),v.jsx("span",{className:"text-xs font-semibold",children:m.name})]},m.name))})]}),v.jsxs("div",{className:"space-y-4 md:space-y-6 flex flex-col",children:[v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold text-gray-900 tracking-tight pr-4",children:e.name}),v.jsx("button",{onClick:t,className:"p-2 -mt-2 -mr-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors flex-shrink-0","aria-label":"Cerrar modal",children:v.jsx(nd,{className:"h-6 w-6"})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Precio"}),v.jsxs("div",{className:"flex items-end gap-3 flex-wrap",children:[v.jsx("p",{className:"text-4xl font-extrabold text-red-600 tracking-tight",children:de(e.price)}),o&&v.jsx("p",{className:"text-xl font-medium text-gray-400 line-through",children:de(e.old_price)}),o&&v.jsxs("div",{className:"ml-auto flex items-center gap-1 rounded-full bg-red-100 px-3 py-1 text-sm font-bold text-red-700",children:[v.jsx(hb,{className:"h-4 w-4"}),v.jsx("span",{children:"OFERTA"})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Disponibilidad"}),v.jsxs("div",{className:`inline-flex items-center gap-1.5 rounded-full px-3 py-1 text-sm font-bold ${l?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[l?v.jsx(l1,{className:"w-4 h-4"}):v.jsx(o1,{className:"w-4 h-4"}),l?`${e.stock} disponibles`:"Agotado"]})]}),e.summary&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Resumen"}),v.jsx("p",{className:"text-gray-700 text-base",children:e.summary})]}),e.features&&e.features.length>0&&v.jsxs("div",{className:"space-y-2 border-t border-gray-200 pt-4",children:[v.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Características Principales:"}),v.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-600 marker:text-orange-500",children:e.features.map((m,_)=>v.jsx("li",{children:m},_))})]}),v.jsxs("div",{className:"mt-auto pt-6 space-y-3",children:[l&&v.jsxs("button",{onClick:d,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-bold py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-orange-400 focus:ring-opacity-75",children:[v.jsx(td,{className:"w-5 h-5"}),"Agregar al Carrito"]}),v.jsx("a",{href:l?u:f(e),target:"_blank",rel:"noopener noreferrer",className:`w-full flex items-center justify-center gap-2 font-bold py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-opacity-75
                        ${l?"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400":"bg-green-500 hover:bg-green-600 text-white focus:ring-green-400"}`,children:l?"💳 PAGAR AHORA (WOMPI)":v.jsxs(v.Fragment,{children:[v.jsx(ed,{className:"w-5 h-5"})," CONSULTAR POR WHATSAPP"]})})]})]})]})})})})},Sb=({cart:e,onClose:t,onUpdateQuantity:n,onRemoveFromCart:i,onClearCart:r,addNotification:a})=>{const[l,o]=Y.useState(!1),[u,f]=Y.useState({name:"",phone:"",address:"",comments:""}),d=e.reduce((T,E)=>T+E.price*E.quantity,0),p=e.reduce((T,E)=>T+E.quantity,0),m=`LTCart-${Date.now()}`,_=`${r1}?reference=${m}&amount-in-cents=${d*100}`,O=T=>{const{name:E,value:S}=T.target;f(C=>({...C,[E]:S}))},V=T=>{if(T.preventDefault(),!u.name||!u.phone){a("Por favor ingresa tu nombre y teléfono.","error");return}let E=`📄 *NUEVO PEDIDO LILUTECNO (#LT${Math.floor(1e5+Math.random()*9e5)})*

`;E+=`*CLIENTE:*
👤 Nombre: ${u.name}
📞 Teléfono: ${u.phone}
`,u.address&&(E+=`📍 Dirección: ${u.address}
`),E+=`
*PRODUCTOS:*
`,e.forEach(C=>{E+=`
• ${C.name} (x${C.quantity}) - ${de(C.price*C.quantity)}`}),E+=`

*TOTAL DEL PEDIDO: ${de(d)}*
`,u.comments&&(E+=`
*Comentarios:*
_${u.comments}_
`),E+=`
Un asesor confirmará el pedido y el pago. ¡Gracias por tu compra! 🚀`;const S=`${qs}?text=${encodeURIComponent(E)}`;window.open(S,"_blank","noopener,noreferrer"),a("¡Pedido enviado por WhatsApp! Te contactaremos pronto."),r(),t()},I=T=>`https://picsum.photos/100/100?random=${T}`;return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 transition-opacity duration-300 ease-in-out",onClick:t,children:v.jsxs("div",{className:"bg-gray-50 rounded-2xl shadow-2xl w-full max-w-2xl flex flex-col max-h-[90vh] transform transition-all duration-300 ease-in-out scale-95 opacity-0 animate-modal-appear",onClick:T=>T.stopPropagation(),children:[v.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-teal-500 p-4 sm:p-6 text-white flex items-center justify-between rounded-t-2xl",children:[v.jsxs("h2",{className:"text-xl sm:text-2xl font-bold",children:["Mi Carrito (",p,")"]}),v.jsxs("div",{className:"flex items-center gap-3",children:[e.length>0&&!l&&v.jsx("button",{onClick:r,"aria-label":"Vaciar carrito",className:"hover:text-red-200 transition-colors",children:v.jsx($g,{className:"h-5 w-5"})}),v.jsx("button",{onClick:t,"aria-label":"Cerrar modal",className:"hover:text-red-200 transition-colors",children:v.jsx(nd,{className:"h-6 w-6"})})]})]}),l?v.jsxs("form",{onSubmit:V,className:"p-4 sm:p-6 space-y-4 overflow-y-auto [&::-webkit-scrollbar]:hidden [-ms-overflow-style:'none'] [scrollbar-width:'none']",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Finalizar Compra por WhatsApp"}),v.jsx("input",{type:"text",name:"name",value:u.name,onChange:O,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-400 focus:border-green-400",placeholder:"Nombre completo *"}),v.jsx("input",{type:"tel",name:"phone",value:u.phone,onChange:O,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-400 focus:border-green-400",placeholder:"Teléfono *"}),v.jsx("input",{type:"text",name:"address",value:u.address,onChange:O,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-400 focus:border-green-400",placeholder:"Dirección de entrega (opcional)"}),v.jsx("textarea",{name:"comments",value:u.comments,onChange:O,rows:2,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-400 focus:border-green-400",placeholder:"Comentarios (opcional)"}),v.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:v.jsxs("div",{className:"flex justify-between font-bold text-gray-700",children:[v.jsx("span",{children:"Total del Pedido:"}),v.jsx("span",{className:"text-green-600 text-xl",children:de(d)})]})}),v.jsxs("div",{className:"space-y-3 pt-2",children:[v.jsx("button",{type:"submit",className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-0.5",children:"🚀 ENVIAR PEDIDO POR WHATSAPP"}),v.jsx("button",{type:"button",onClick:()=>o(!1),className:"w-full py-3 px-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:"← Volver al carrito"})]})]}):e.length===0?v.jsxs("div",{className:"p-6 text-center flex flex-col items-center justify-center flex-grow",children:[v.jsx(lb,{className:"w-16 h-16 text-gray-300 mb-4"}),v.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-2",children:"Tu carrito está vacío"}),v.jsx("p",{className:"text-gray-500 mb-6",children:"Añade productos para verlos aquí."}),v.jsx("button",{onClick:t,className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-6 rounded-lg shadow hover:shadow-md transition-all",children:"Continuar Comprando"})]}):v.jsxs("div",{className:"p-4 sm:p-6 flex-grow flex flex-col",children:[v.jsx("div",{className:"space-y-4 flex-grow overflow-y-auto max-h-96 pr-2 [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 [&::-webkit-scrollbar-thumb]:rounded-full",children:e.map(T=>v.jsxs("div",{className:"flex items-center gap-4 p-3 border border-gray-200 rounded-lg bg-white shadow-sm",children:[v.jsx("img",{src:T.image||I(T.id),alt:T.name,className:"w-16 h-16 object-cover rounded-md border border-gray-100",onError:E=>E.currentTarget.src=I(T.id)}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"font-semibold text-gray-800 text-sm truncate",title:T.name,children:T.name}),v.jsxs("div",{className:"flex items-center justify-between mt-1",children:[v.jsx("span",{className:"font-bold text-green-600 text-sm",children:de(T.price)}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("button",{onClick:()=>n(T.id,T.quantity-1),className:"w-7 h-7 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-600 transition-colors","aria-label":"Disminuir cantidad",children:v.jsx(sb,{className:"w-4 h-4"})}),v.jsx("span",{className:"w-8 text-center font-semibold text-sm text-gray-700",children:T.quantity}),v.jsx("button",{onClick:()=>n(T.id,T.quantity+1),className:"w-7 h-7 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-600 transition-colors","aria-label":"Aumentar cantidad",children:v.jsx(ab,{className:"w-4 h-4"})}),v.jsx("button",{onClick:()=>i(T.id),className:"w-7 h-7 rounded-full bg-red-100 hover:bg-red-200 flex items-center justify-center ml-2 text-red-600 transition-colors","aria-label":"Eliminar producto",children:v.jsx($g,{className:"w-4 h-4"})})]})]})]})]},T.id))}),v.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("span",{className:"text-xl font-semibold text-gray-700",children:"Total:"}),v.jsx("span",{className:"text-2xl font-bold text-green-600",children:de(d)})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx("a",{href:_,target:"_blank",rel:"noopener noreferrer",onClick:()=>a("Redirigiendo a la pasarela de pago..."),className:"w-full flex items-center justify-center gap-2 bg-blue-500 hover:bg-blue-600 text-white text-lg font-bold py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-0.5",children:"💳 PAGAR CON WOMPI"}),v.jsx("button",{onClick:()=>o(!0),className:"w-full bg-green-500 hover:bg-green-600 text-white text-lg font-bold py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-0.5",children:"🛒 FINALIZAR POR WHATSAPP"}),v.jsx("button",{onClick:t,className:"w-full py-3 px-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:"Continuar Comprando"})]})]})]})]})})},wb=({isOpen:e,onClose:t,categories:n,currentFilters:i,onApplyFilters:r,maxPrice:a})=>{const[l,o]=Y.useState(i);if(Y.useEffect(()=>{o(i)},[i,e]),!e)return null;const u=O=>{o(V=>({...V,category:O.target.value}))},f=O=>{o(V=>({...V,stockOnly:O.target.checked}))},d=O=>{const V=Math.min(Number(O.target.value),l.priceRange.max-5e4);o(I=>({...I,priceRange:{...I.priceRange,min:V}}))},p=O=>{const V=Math.max(Number(O.target.value),l.priceRange.min+5e4);o(I=>({...I,priceRange:{...I.priceRange,max:V}}))},m=()=>{r(l),t()},_=()=>{o(Ch)};return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm z-[100] flex justify-end transition-opacity duration-300 ease-in-out",onClick:t,children:v.jsxs("div",{className:"bg-white w-full max-w-md h-full shadow-2xl flex flex-col transform transition-transform duration-300 ease-in-out translate-x-full animate-slide-in-right",onClick:O=>O.stopPropagation(),children:[v.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[v.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center",children:[v.jsx(s1,{className:"w-5 h-5 mr-2 text-orange-500"})," Filtros"]}),v.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Cerrar filtros",children:v.jsx(nd,{className:"h-5 w-5"})})]}),v.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto flex-grow [&::-webkit-scrollbar]:hidden [-ms-overflow-style:'none'] [scrollbar-width:'none']",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"mobile-category-filter",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Categoría"}),v.jsxs("select",{id:"mobile-category-filter",value:l.category,onChange:u,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-orange-400 transition-colors",children:[v.jsx("option",{value:"",children:"Todas las categorías"}),n.map(O=>v.jsxs("option",{value:O,children:[No[O]||No.DEFAULT," ",O]},O))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Rango de precio"}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("input",{type:"range",id:"mobile-price-min",min:"0",max:a,value:l.priceRange.min,step:"50000",onChange:d,className:"w-full appearance-none h-2 bg-gray-200 rounded-lg cursor-pointer accent-orange-500"}),v.jsx("input",{type:"range",id:"mobile-price-max",min:"0",max:a,value:l.priceRange.max,step:"50000",onChange:p,className:"w-full appearance-none h-2 bg-gray-200 rounded-lg cursor-pointer accent-orange-500"}),v.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[v.jsx("span",{children:de(l.priceRange.min)}),v.jsx("span",{children:de(l.priceRange.max)})]})]})]}),v.jsx("div",{children:v.jsxs("label",{className:"flex items-center cursor-pointer",children:[v.jsx("input",{type:"checkbox",id:"mobile-stock-filter",checked:l.stockOnly,onChange:f,className:"rounded text-orange-500 focus:ring-orange-400 h-4 w-4 border-gray-300"}),v.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Solo productos en stock"})]})})]}),v.jsxs("div",{className:"p-6 border-t border-gray-200 space-y-3",children:[v.jsx("button",{onClick:m,className:"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-bold py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-300",children:"Aplicar filtros"}),v.jsx("button",{onClick:_,className:"w-full py-3 px-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:"Limpiar filtros"})]})]})})},xb=()=>{const[e,t]=Y.useState([]),n=Y.useCallback((r,a="success")=>{const l=Date.now();t(o=>[...o,{id:l,message:r,type:a}]),setTimeout(()=>{t(o=>o.filter(u=>u.id!==l))},3e3)},[]);return{notifications:e,addNotification:n,removeNotification:r=>{t(a=>a.filter(l=>l.id!==r))}}},bc="lilutecno_cart_v2",Rb=e=>{const[t,n]=Y.useState([]);Y.useEffect(()=>{const u=localStorage.getItem(bc);if(u)try{n(JSON.parse(u))}catch(f){console.error("Failed to parse cart from localStorage",f),localStorage.removeItem(bc)}},[]),Y.useEffect(()=>{localStorage.setItem(bc,JSON.stringify(t))},[t]);const i=Y.useCallback(u=>{n(f=>f.filter(d=>d.id!==u)),e("Producto eliminado del carrito","error")},[e]),r=Y.useCallback((u,f)=>{if(f<=0){i(u);return}n(d=>d.map(p=>p.id===u?{...p,quantity:f}:p))},[i]),a=Y.useCallback(u=>{n(f=>f.find(p=>p.id===u.id)?f.map(p=>p.id===u.id?{...p,quantity:p.quantity+1}:p):[...f,{...u,quantity:1,image:u.images[0]}]),e(`${u.name} agregado al carrito`)},[e]),l=Y.useCallback(()=>{n([]),e("Carrito vaciado","success")},[e]),o=t.reduce((u,f)=>u+f.quantity,0);return{cart:t,addToCart:a,removeFromCart:i,updateCartQuantity:r,clearCart:l,totalCartItems:o}},Cb=()=>{};var Jg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},Nb=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=e[n++];t[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=e[n++],l=e[n++],o=e[n++],u=((r&7)<<18|(a&63)<<12|(l&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const a=e[n++],l=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|l&63)}}return t.join("")},c1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const a=e[r],l=r+1<e.length,o=l?e[r+1]:0,u=r+2<e.length,f=u?e[r+2]:0,d=a>>2,p=(a&3)<<4|o>>4;let m=(o&15)<<2|f>>6,_=f&63;u||(_=64,l||(m=64)),i.push(n[d],n[p],n[m],n[_])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(u1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Nb(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const a=n[e.charAt(r++)],o=r<e.length?n[e.charAt(r)]:0;++r;const f=r<e.length?n[e.charAt(r)]:64;++r;const p=r<e.length?n[e.charAt(r)]:64;if(++r,a==null||o==null||f==null||p==null)throw new Db;const m=a<<2|o>>4;if(i.push(m),f!==64){const _=o<<4&240|f>>2;if(i.push(_),p!==64){const O=f<<6&192|p;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Db extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ob=function(e){const t=u1(e);return c1.encodeByteArray(t,!0)},Do=function(e){return Ob(e).replace(/\./g,"")},Vb=function(e){try{return c1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=()=>Mb().__FIREBASE_DEFAULTS__,jb=()=>{if(typeof process>"u"||typeof Jg>"u")return;const e=Jg.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Lb=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Vb(e[1]);return t&&JSON.parse(t)},id=()=>{try{return Cb()||Ib()||jb()||Lb()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Ub=e=>{var t,n;return(n=(t=id())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},zb=e=>{const t=Ub(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},h1=()=>{var e;return(e=id())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bb(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Do(JSON.stringify(n)),Do(JSON.stringify(l)),""].join(".")}const es={};function qb(){const e={prod:[],emulator:[]};for(const t of Object.keys(es))es[t]?e.emulator.push(t):e.prod.push(t);return e}function Hb(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Wg=!1;function Gb(e,t){if(typeof window>"u"||typeof document>"u"||!rd(window.location.host)||es[e]===t||es[e]||Wg)return;es[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",a=qb().prod.length>0;function l(){const m=document.getElementById(i);m&&m.remove()}function o(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,_){m.setAttribute("width","24"),m.setAttribute("id",_),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function f(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Wg=!0,l()},m}function d(m,_){m.setAttribute("id",_),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=Hb(i),_=n("text"),O=document.getElementById(_)||document.createElement("span"),V=n("learnmore"),I=document.getElementById(V)||document.createElement("a"),T=n("preprendIcon"),E=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const S=m.element;o(S),d(I,V);const C=f();u(E,T),S.append(E,O,I,C),document.body.appendChild(S)}a?(O.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qb(){var e;const t=(e=id())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yb(){return!Qb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xb(){try{return typeof indexedDB=="object"}catch{return!1}}function Kb(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var a;t(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="FirebaseError";class oa extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=Zb,Object.setPrototypeOf(this,oa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,f1.prototype.create)}}class f1{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,a=this.errors[t],l=a?$b(a,i):"Error",o=`${this.serviceName}: ${l} (${r}).`;return new oa(r,o,i)}}function $b(e,t){return e.replace(Jb,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const Jb=/\{\$([^}]+)}/g;function Oo(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const a=e[r],l=t[r];if(tp(a)&&tp(l)){if(!Oo(a,l))return!1}else if(a!==l)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function tp(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(e){return e&&e._delegate?e._delegate:e}class Es{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new kb;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nA(t))try{this.getOrInitializeService({instanceIdentifier:Di})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(t=Di){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Di){return this.instances.has(t)}getOptions(t=Di){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);i===o&&l.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;a.add(t),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&t(l,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:eA(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Di){return this.component?this.component.multipleInstances?t:Di:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eA(e){return e===Di?void 0:e}function nA(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new tA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(it||(it={}));const rA={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},aA=it.INFO,sA={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},lA=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=sA[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class d1{constructor(t){this.name=t,this._logLevel=aA,this._logHandler=lA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in it))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?rA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...t),this._logHandler(this,it.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...t),this._logHandler(this,it.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,it.INFO,...t),this._logHandler(this,it.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,it.WARN,...t),this._logHandler(this,it.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...t),this._logHandler(this,it.ERROR,...t)}}const oA=(e,t)=>t.some(n=>e instanceof n);let ep,np;function uA(){return ep||(ep=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cA(){return np||(np=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m1=new WeakMap,Nh=new WeakMap,g1=new WeakMap,Ac=new WeakMap,ad=new WeakMap;function hA(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",l)},a=()=>{n(ai(e.result)),r()},l=()=>{i(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&m1.set(n,e)}).catch(()=>{}),ad.set(t,e),t}function fA(e){if(Nh.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",l),e.removeEventListener("abort",l)},a=()=>{n(),r()},l=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",l),e.addEventListener("abort",l)});Nh.set(e,t)}let Dh={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Nh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||g1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ai(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function dA(e){Dh=e(Dh)}function mA(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Sc(this),t,...n);return g1.set(i,t.sort?t.sort():[t]),ai(i)}:cA().includes(e)?function(...t){return e.apply(Sc(this),t),ai(m1.get(this))}:function(...t){return ai(e.apply(Sc(this),t))}}function gA(e){return typeof e=="function"?mA(e):(e instanceof IDBTransaction&&fA(e),oA(e,uA())?new Proxy(e,Dh):e)}function ai(e){if(e instanceof IDBRequest)return hA(e);if(Ac.has(e))return Ac.get(e);const t=gA(e);return t!==e&&(Ac.set(e,t),ad.set(t,e)),t}const Sc=e=>ad.get(e);function pA(e,t,{blocked:n,upgrade:i,blocking:r,terminated:a}={}){const l=indexedDB.open(e,t),o=ai(l);return i&&l.addEventListener("upgradeneeded",u=>{i(ai(l.result),u.oldVersion,u.newVersion,ai(l.transaction),u)}),n&&l.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{a&&u.addEventListener("close",()=>a()),r&&u.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),o}const yA=["get","getKey","getAll","getAllKeys","count"],vA=["put","add","delete","clear"],wc=new Map;function ip(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(wc.get(t))return wc.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=vA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||yA.includes(n)))return;const a=async function(l,...o){const u=this.transaction(l,r?"readwrite":"readonly");let f=u.store;return i&&(f=f.index(o.shift())),(await Promise.all([f[n](...o),r&&u.done]))[0]};return wc.set(t,a),a}dA(e=>({...e,get:(t,n,i)=>ip(t,n)||e.get(t,n,i),has:(t,n)=>!!ip(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function EA(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Oh="@firebase/app",rp="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn=new d1("@firebase/app"),TA="@firebase/app-compat",bA="@firebase/analytics-compat",AA="@firebase/analytics",SA="@firebase/app-check-compat",wA="@firebase/app-check",xA="@firebase/auth",RA="@firebase/auth-compat",CA="@firebase/database",NA="@firebase/data-connect",DA="@firebase/database-compat",OA="@firebase/functions",VA="@firebase/functions-compat",MA="@firebase/installations",IA="@firebase/installations-compat",jA="@firebase/messaging",LA="@firebase/messaging-compat",UA="@firebase/performance",zA="@firebase/performance-compat",kA="@firebase/remote-config",BA="@firebase/remote-config-compat",PA="@firebase/storage",qA="@firebase/storage-compat",HA="@firebase/firestore",GA="@firebase/ai",FA="@firebase/firestore-compat",QA="firebase",YA="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh="[DEFAULT]",XA={[Oh]:"fire-core",[TA]:"fire-core-compat",[AA]:"fire-analytics",[bA]:"fire-analytics-compat",[wA]:"fire-app-check",[SA]:"fire-app-check-compat",[xA]:"fire-auth",[RA]:"fire-auth-compat",[CA]:"fire-rtdb",[NA]:"fire-data-connect",[DA]:"fire-rtdb-compat",[OA]:"fire-fn",[VA]:"fire-fn-compat",[MA]:"fire-iid",[IA]:"fire-iid-compat",[jA]:"fire-fcm",[LA]:"fire-fcm-compat",[UA]:"fire-perf",[zA]:"fire-perf-compat",[kA]:"fire-rc",[BA]:"fire-rc-compat",[PA]:"fire-gcs",[qA]:"fire-gcs-compat",[HA]:"fire-fst",[FA]:"fire-fst-compat",[GA]:"fire-vertex","fire-js":"fire-js",[QA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=new Map,KA=new Map,Mh=new Map;function ap(e,t){try{e.container.addComponent(t)}catch(n){Dn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Mo(e){const t=e.name;if(Mh.has(t))return Dn.debug(`There were multiple attempts to register component ${t}.`),!1;Mh.set(t,e);for(const n of Vo.values())ap(n,e);for(const n of KA.values())ap(n,e);return!0}function ZA(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function $A(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new f1("app","Firebase",JA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=YA;function p1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Vh,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw si.create("bad-app-name",{appName:String(r)});if(n||(n=h1()),!n)throw si.create("no-options");const a=Vo.get(r);if(a){if(Oo(n,a.options)&&Oo(i,a.config))return a;throw si.create("duplicate-app",{appName:r})}const l=new iA(r);for(const u of Mh.values())l.addComponent(u);const o=new WA(n,i,l);return Vo.set(r,o),o}function eS(e=Vh){const t=Vo.get(e);if(!t&&e===Vh&&h1())return p1();if(!t)throw si.create("no-app",{appName:e});return t}function Vr(e,t,n){var i;let r=(i=XA[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const o=[`Unable to register library "${r}" with version "${t}":`];a&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&o.push("and"),l&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Dn.warn(o.join(" "));return}Mo(new Es(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="firebase-heartbeat-database",iS=1,Ts="firebase-heartbeat-store";let xc=null;function y1(){return xc||(xc=pA(nS,iS,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ts)}catch(n){console.warn(n)}}}}).catch(e=>{throw si.create("idb-open",{originalErrorMessage:e.message})})),xc}async function rS(e){try{const n=(await y1()).transaction(Ts),i=await n.objectStore(Ts).get(v1(e));return await n.done,i}catch(t){if(t instanceof oa)Dn.warn(t.message);else{const n=si.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Dn.warn(n.message)}}}async function sp(e,t){try{const i=(await y1()).transaction(Ts,"readwrite");await i.objectStore(Ts).put(t,v1(e)),await i.done}catch(n){if(n instanceof oa)Dn.warn(n.message);else{const i=si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dn.warn(i.message)}}}function v1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=1024,sS=30;class lS{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uS(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=lp();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>sS){const l=cS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Dn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=lp(),{heartbeatsToSend:i,unsentEntries:r}=oS(this._heartbeatsCache.heartbeats),a=Do(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Dn.warn(n),""}}}function lp(){return new Date().toISOString().substring(0,10)}function oS(e,t=aS){const n=[];let i=e.slice();for(const r of e){const a=n.find(l=>l.agent===r.agent);if(a){if(a.dates.push(r.date),op(n)>t){a.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),op(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class uS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xb()?Kb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return sp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return sp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function op(e){return Do(JSON.stringify({version:2,heartbeats:e})).length}function cS(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(e){Mo(new Es("platform-logger",t=>new _A(t),"PRIVATE")),Mo(new Es("heartbeat",t=>new lS(t),"PRIVATE")),Vr(Oh,rp,e),Vr(Oh,rp,"esm2017"),Vr("fire-js","")}hS("");var fS="firebase",dS="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(fS,dS,"app");var up=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var li,_1;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(b,y){function A(){}A.prototype=y.prototype,b.D=y.prototype,b.prototype=new A,b.prototype.constructor=b,b.C=function(w,R,N){for(var x=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)x[Ge-2]=arguments[Ge];return y.prototype[R].apply(w,x)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(b,y,A){A||(A=0);var w=Array(16);if(typeof y=="string")for(var R=0;16>R;++R)w[R]=y.charCodeAt(A++)|y.charCodeAt(A++)<<8|y.charCodeAt(A++)<<16|y.charCodeAt(A++)<<24;else for(R=0;16>R;++R)w[R]=y[A++]|y[A++]<<8|y[A++]<<16|y[A++]<<24;y=b.g[0],A=b.g[1],R=b.g[2];var N=b.g[3],x=y+(N^A&(R^N))+w[0]+3614090360&4294967295;y=A+(x<<7&4294967295|x>>>25),x=N+(R^y&(A^R))+w[1]+3905402710&4294967295,N=y+(x<<12&4294967295|x>>>20),x=R+(A^N&(y^A))+w[2]+606105819&4294967295,R=N+(x<<17&4294967295|x>>>15),x=A+(y^R&(N^y))+w[3]+3250441966&4294967295,A=R+(x<<22&4294967295|x>>>10),x=y+(N^A&(R^N))+w[4]+4118548399&4294967295,y=A+(x<<7&4294967295|x>>>25),x=N+(R^y&(A^R))+w[5]+1200080426&4294967295,N=y+(x<<12&4294967295|x>>>20),x=R+(A^N&(y^A))+w[6]+2821735955&4294967295,R=N+(x<<17&4294967295|x>>>15),x=A+(y^R&(N^y))+w[7]+4249261313&4294967295,A=R+(x<<22&4294967295|x>>>10),x=y+(N^A&(R^N))+w[8]+1770035416&4294967295,y=A+(x<<7&4294967295|x>>>25),x=N+(R^y&(A^R))+w[9]+2336552879&4294967295,N=y+(x<<12&4294967295|x>>>20),x=R+(A^N&(y^A))+w[10]+4294925233&4294967295,R=N+(x<<17&4294967295|x>>>15),x=A+(y^R&(N^y))+w[11]+2304563134&4294967295,A=R+(x<<22&4294967295|x>>>10),x=y+(N^A&(R^N))+w[12]+1804603682&4294967295,y=A+(x<<7&4294967295|x>>>25),x=N+(R^y&(A^R))+w[13]+4254626195&4294967295,N=y+(x<<12&4294967295|x>>>20),x=R+(A^N&(y^A))+w[14]+2792965006&4294967295,R=N+(x<<17&4294967295|x>>>15),x=A+(y^R&(N^y))+w[15]+1236535329&4294967295,A=R+(x<<22&4294967295|x>>>10),x=y+(R^N&(A^R))+w[1]+4129170786&4294967295,y=A+(x<<5&4294967295|x>>>27),x=N+(A^R&(y^A))+w[6]+3225465664&4294967295,N=y+(x<<9&4294967295|x>>>23),x=R+(y^A&(N^y))+w[11]+643717713&4294967295,R=N+(x<<14&4294967295|x>>>18),x=A+(N^y&(R^N))+w[0]+3921069994&4294967295,A=R+(x<<20&4294967295|x>>>12),x=y+(R^N&(A^R))+w[5]+3593408605&4294967295,y=A+(x<<5&4294967295|x>>>27),x=N+(A^R&(y^A))+w[10]+38016083&4294967295,N=y+(x<<9&4294967295|x>>>23),x=R+(y^A&(N^y))+w[15]+3634488961&4294967295,R=N+(x<<14&4294967295|x>>>18),x=A+(N^y&(R^N))+w[4]+3889429448&4294967295,A=R+(x<<20&4294967295|x>>>12),x=y+(R^N&(A^R))+w[9]+568446438&4294967295,y=A+(x<<5&4294967295|x>>>27),x=N+(A^R&(y^A))+w[14]+3275163606&4294967295,N=y+(x<<9&4294967295|x>>>23),x=R+(y^A&(N^y))+w[3]+4107603335&4294967295,R=N+(x<<14&4294967295|x>>>18),x=A+(N^y&(R^N))+w[8]+1163531501&4294967295,A=R+(x<<20&4294967295|x>>>12),x=y+(R^N&(A^R))+w[13]+2850285829&4294967295,y=A+(x<<5&4294967295|x>>>27),x=N+(A^R&(y^A))+w[2]+4243563512&4294967295,N=y+(x<<9&4294967295|x>>>23),x=R+(y^A&(N^y))+w[7]+1735328473&4294967295,R=N+(x<<14&4294967295|x>>>18),x=A+(N^y&(R^N))+w[12]+2368359562&4294967295,A=R+(x<<20&4294967295|x>>>12),x=y+(A^R^N)+w[5]+4294588738&4294967295,y=A+(x<<4&4294967295|x>>>28),x=N+(y^A^R)+w[8]+2272392833&4294967295,N=y+(x<<11&4294967295|x>>>21),x=R+(N^y^A)+w[11]+1839030562&4294967295,R=N+(x<<16&4294967295|x>>>16),x=A+(R^N^y)+w[14]+4259657740&4294967295,A=R+(x<<23&4294967295|x>>>9),x=y+(A^R^N)+w[1]+2763975236&4294967295,y=A+(x<<4&4294967295|x>>>28),x=N+(y^A^R)+w[4]+1272893353&4294967295,N=y+(x<<11&4294967295|x>>>21),x=R+(N^y^A)+w[7]+4139469664&4294967295,R=N+(x<<16&4294967295|x>>>16),x=A+(R^N^y)+w[10]+3200236656&4294967295,A=R+(x<<23&4294967295|x>>>9),x=y+(A^R^N)+w[13]+681279174&4294967295,y=A+(x<<4&4294967295|x>>>28),x=N+(y^A^R)+w[0]+3936430074&4294967295,N=y+(x<<11&4294967295|x>>>21),x=R+(N^y^A)+w[3]+3572445317&4294967295,R=N+(x<<16&4294967295|x>>>16),x=A+(R^N^y)+w[6]+76029189&4294967295,A=R+(x<<23&4294967295|x>>>9),x=y+(A^R^N)+w[9]+3654602809&4294967295,y=A+(x<<4&4294967295|x>>>28),x=N+(y^A^R)+w[12]+3873151461&4294967295,N=y+(x<<11&4294967295|x>>>21),x=R+(N^y^A)+w[15]+530742520&4294967295,R=N+(x<<16&4294967295|x>>>16),x=A+(R^N^y)+w[2]+3299628645&4294967295,A=R+(x<<23&4294967295|x>>>9),x=y+(R^(A|~N))+w[0]+4096336452&4294967295,y=A+(x<<6&4294967295|x>>>26),x=N+(A^(y|~R))+w[7]+1126891415&4294967295,N=y+(x<<10&4294967295|x>>>22),x=R+(y^(N|~A))+w[14]+2878612391&4294967295,R=N+(x<<15&4294967295|x>>>17),x=A+(N^(R|~y))+w[5]+4237533241&4294967295,A=R+(x<<21&4294967295|x>>>11),x=y+(R^(A|~N))+w[12]+1700485571&4294967295,y=A+(x<<6&4294967295|x>>>26),x=N+(A^(y|~R))+w[3]+2399980690&4294967295,N=y+(x<<10&4294967295|x>>>22),x=R+(y^(N|~A))+w[10]+4293915773&4294967295,R=N+(x<<15&4294967295|x>>>17),x=A+(N^(R|~y))+w[1]+2240044497&4294967295,A=R+(x<<21&4294967295|x>>>11),x=y+(R^(A|~N))+w[8]+1873313359&4294967295,y=A+(x<<6&4294967295|x>>>26),x=N+(A^(y|~R))+w[15]+4264355552&4294967295,N=y+(x<<10&4294967295|x>>>22),x=R+(y^(N|~A))+w[6]+2734768916&4294967295,R=N+(x<<15&4294967295|x>>>17),x=A+(N^(R|~y))+w[13]+1309151649&4294967295,A=R+(x<<21&4294967295|x>>>11),x=y+(R^(A|~N))+w[4]+4149444226&4294967295,y=A+(x<<6&4294967295|x>>>26),x=N+(A^(y|~R))+w[11]+3174756917&4294967295,N=y+(x<<10&4294967295|x>>>22),x=R+(y^(N|~A))+w[2]+718787259&4294967295,R=N+(x<<15&4294967295|x>>>17),x=A+(N^(R|~y))+w[9]+3951481745&4294967295,b.g[0]=b.g[0]+y&4294967295,b.g[1]=b.g[1]+(R+(x<<21&4294967295|x>>>11))&4294967295,b.g[2]=b.g[2]+R&4294967295,b.g[3]=b.g[3]+N&4294967295}i.prototype.u=function(b,y){y===void 0&&(y=b.length);for(var A=y-this.blockSize,w=this.B,R=this.h,N=0;N<y;){if(R==0)for(;N<=A;)r(this,b,N),N+=this.blockSize;if(typeof b=="string"){for(;N<y;)if(w[R++]=b.charCodeAt(N++),R==this.blockSize){r(this,w),R=0;break}}else for(;N<y;)if(w[R++]=b[N++],R==this.blockSize){r(this,w),R=0;break}}this.h=R,this.o+=y},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var y=1;y<b.length-8;++y)b[y]=0;var A=8*this.o;for(y=b.length-8;y<b.length;++y)b[y]=A&255,A/=256;for(this.u(b),b=Array(16),y=A=0;4>y;++y)for(var w=0;32>w;w+=8)b[A++]=this.g[y]>>>w&255;return b};function a(b,y){var A=o;return Object.prototype.hasOwnProperty.call(A,b)?A[b]:A[b]=y(b)}function l(b,y){this.h=y;for(var A=[],w=!0,R=b.length-1;0<=R;R--){var N=b[R]|0;w&&N==y||(A[R]=N,w=!1)}this.g=A}var o={};function u(b){return-128<=b&&128>b?a(b,function(y){return new l([y|0],0>y?-1:0)}):new l([b|0],0>b?-1:0)}function f(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return I(f(-b));for(var y=[],A=1,w=0;b>=A;w++)y[w]=b/A|0,A*=4294967296;return new l(y,0)}function d(b,y){if(b.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(b.charAt(0)=="-")return I(d(b.substring(1),y));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=f(Math.pow(y,8)),w=p,R=0;R<b.length;R+=8){var N=Math.min(8,b.length-R),x=parseInt(b.substring(R,R+N),y);8>N?(N=f(Math.pow(y,N)),w=w.j(N).add(f(x))):(w=w.j(A),w=w.add(f(x)))}return w}var p=u(0),m=u(1),_=u(16777216);e=l.prototype,e.m=function(){if(V(this))return-I(this).m();for(var b=0,y=1,A=0;A<this.g.length;A++){var w=this.i(A);b+=(0<=w?w:4294967296+w)*y,y*=4294967296}return b},e.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(O(this))return"0";if(V(this))return"-"+I(this).toString(b);for(var y=f(Math.pow(b,6)),A=this,w="";;){var R=C(A,y).g;A=T(A,R.j(y));var N=((0<A.g.length?A.g[0]:A.h)>>>0).toString(b);if(A=R,O(A))return N+w;for(;6>N.length;)N="0"+N;w=N+w}},e.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function O(b){if(b.h!=0)return!1;for(var y=0;y<b.g.length;y++)if(b.g[y]!=0)return!1;return!0}function V(b){return b.h==-1}e.l=function(b){return b=T(this,b),V(b)?-1:O(b)?0:1};function I(b){for(var y=b.g.length,A=[],w=0;w<y;w++)A[w]=~b.g[w];return new l(A,~b.h).add(m)}e.abs=function(){return V(this)?I(this):this},e.add=function(b){for(var y=Math.max(this.g.length,b.g.length),A=[],w=0,R=0;R<=y;R++){var N=w+(this.i(R)&65535)+(b.i(R)&65535),x=(N>>>16)+(this.i(R)>>>16)+(b.i(R)>>>16);w=x>>>16,N&=65535,x&=65535,A[R]=x<<16|N}return new l(A,A[A.length-1]&-2147483648?-1:0)};function T(b,y){return b.add(I(y))}e.j=function(b){if(O(this)||O(b))return p;if(V(this))return V(b)?I(this).j(I(b)):I(I(this).j(b));if(V(b))return I(this.j(I(b)));if(0>this.l(_)&&0>b.l(_))return f(this.m()*b.m());for(var y=this.g.length+b.g.length,A=[],w=0;w<2*y;w++)A[w]=0;for(w=0;w<this.g.length;w++)for(var R=0;R<b.g.length;R++){var N=this.i(w)>>>16,x=this.i(w)&65535,Ge=b.i(R)>>>16,hn=b.i(R)&65535;A[2*w+2*R]+=x*hn,E(A,2*w+2*R),A[2*w+2*R+1]+=N*hn,E(A,2*w+2*R+1),A[2*w+2*R+1]+=x*Ge,E(A,2*w+2*R+1),A[2*w+2*R+2]+=N*Ge,E(A,2*w+2*R+2)}for(w=0;w<y;w++)A[w]=A[2*w+1]<<16|A[2*w];for(w=y;w<2*y;w++)A[w]=0;return new l(A,0)};function E(b,y){for(;(b[y]&65535)!=b[y];)b[y+1]+=b[y]>>>16,b[y]&=65535,y++}function S(b,y){this.g=b,this.h=y}function C(b,y){if(O(y))throw Error("division by zero");if(O(b))return new S(p,p);if(V(b))return y=C(I(b),y),new S(I(y.g),I(y.h));if(V(y))return y=C(b,I(y)),new S(I(y.g),y.h);if(30<b.g.length){if(V(b)||V(y))throw Error("slowDivide_ only works with positive integers.");for(var A=m,w=y;0>=w.l(b);)A=U(A),w=U(w);var R=q(A,1),N=q(w,1);for(w=q(w,2),A=q(A,2);!O(w);){var x=N.add(w);0>=x.l(b)&&(R=R.add(A),N=x),w=q(w,1),A=q(A,1)}return y=T(b,R.j(y)),new S(R,y)}for(R=p;0<=b.l(y);){for(A=Math.max(1,Math.floor(b.m()/y.m())),w=Math.ceil(Math.log(A)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),N=f(A),x=N.j(y);V(x)||0<x.l(b);)A-=w,N=f(A),x=N.j(y);O(N)&&(N=m),R=R.add(N),b=T(b,x)}return new S(R,b)}e.A=function(b){return C(this,b).h},e.and=function(b){for(var y=Math.max(this.g.length,b.g.length),A=[],w=0;w<y;w++)A[w]=this.i(w)&b.i(w);return new l(A,this.h&b.h)},e.or=function(b){for(var y=Math.max(this.g.length,b.g.length),A=[],w=0;w<y;w++)A[w]=this.i(w)|b.i(w);return new l(A,this.h|b.h)},e.xor=function(b){for(var y=Math.max(this.g.length,b.g.length),A=[],w=0;w<y;w++)A[w]=this.i(w)^b.i(w);return new l(A,this.h^b.h)};function U(b){for(var y=b.g.length+1,A=[],w=0;w<y;w++)A[w]=b.i(w)<<1|b.i(w-1)>>>31;return new l(A,b.h)}function q(b,y){var A=y>>5;y%=32;for(var w=b.g.length-A,R=[],N=0;N<w;N++)R[N]=0<y?b.i(N+A)>>>y|b.i(N+A+1)<<32-y:b.i(N+A);return new l(R,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,_1=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=d,li=l}).apply(typeof up<"u"?up:typeof self<"u"?self:typeof window<"u"?window:{});var Cl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E1,Ua,T1,Yl,Ih,b1,A1,S1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,c,h){return s==Array.prototype||s==Object.prototype||(s[c]=h.value),s};function n(s){s=[typeof globalThis=="object"&&globalThis,s,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cl=="object"&&Cl];for(var c=0;c<s.length;++c){var h=s[c];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var i=n(this);function r(s,c){if(c)t:{var h=i;s=s.split(".");for(var g=0;g<s.length-1;g++){var D=s[g];if(!(D in h))break t;h=h[D]}s=s[s.length-1],g=h[s],c=c(g),c!=g&&c!=null&&t(h,s,{configurable:!0,writable:!0,value:c})}}function a(s,c){s instanceof String&&(s+="");var h=0,g=!1,D={next:function(){if(!g&&h<s.length){var M=h++;return{value:c(M,s[M]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}r("Array.prototype.values",function(s){return s||function(){return a(this,function(c,h){return h})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},o=this||self;function u(s){var c=typeof s;return c=c!="object"?c:s?Array.isArray(s)?"array":c:"null",c=="array"||c=="object"&&typeof s.length=="number"}function f(s){var c=typeof s;return c=="object"&&s!=null||c=="function"}function d(s,c,h){return s.call.apply(s.bind,arguments)}function p(s,c,h){if(!s)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),s.apply(c,D)}}return function(){return s.apply(c,arguments)}}function m(s,c,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function _(s,c){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),s.apply(this,g)}}function O(s,c){function h(){}h.prototype=c.prototype,s.aa=c.prototype,s.prototype=new h,s.prototype.constructor=s,s.Qb=function(g,D,M){for(var z=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)z[mt-2]=arguments[mt];return c.prototype[D].apply(g,z)}}function V(s){const c=s.length;if(0<c){const h=Array(c);for(let g=0;g<c;g++)h[g]=s[g];return h}return[]}function I(s,c){for(let h=1;h<arguments.length;h++){const g=arguments[h];if(u(g)){const D=s.length||0,M=g.length||0;s.length=D+M;for(let z=0;z<M;z++)s[D+z]=g[z]}else s.push(g)}}class T{constructor(c,h){this.i=c,this.j=h,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function E(s){return/^[\s\xa0]*$/.test(s)}function S(){var s=o.navigator;return s&&(s=s.userAgent)?s:""}function C(s){return C[" "](s),s}C[" "]=function(){};var U=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function q(s,c,h){for(const g in s)c.call(h,s[g],g,s)}function b(s,c){for(const h in s)c.call(void 0,s[h],h,s)}function y(s){const c={};for(const h in s)c[h]=s[h];return c}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(s,c){let h,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(h in g)s[h]=g[h];for(let M=0;M<A.length;M++)h=A[M],Object.prototype.hasOwnProperty.call(g,h)&&(s[h]=g[h])}}function R(s){var c=1;s=s.split(":");const h=[];for(;0<c&&s.length;)h.push(s.shift()),c--;return s.length&&h.push(s.join(":")),h}function N(s){o.setTimeout(()=>{throw s},0)}function x(){var s=yt;let c=null;return s.g&&(c=s.g,s.g=s.g.next,s.g||(s.h=null),c.next=null),c}class Ge{constructor(){this.h=this.g=null}add(c,h){const g=hn.get();g.set(c,h),this.h?this.h.next=g:this.g=g,this.h=g}}var hn=new T(()=>new B,s=>s.reset());class B{constructor(){this.next=this.g=this.h=null}set(c,h){this.h=c,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let K,Q=!1,yt=new Ge,Nt=()=>{const s=o.Promise.resolve(void 0);K=()=>{s.then($i)}};var $i=()=>{for(var s;s=x();){try{s.h.call(s.g)}catch(h){N(h)}var c=hn;c.j(s),100>c.h&&(c.h++,s.next=c.g,c.g=s)}Q=!1};function Ae(){this.s=this.s,this.C=this.C}Ae.prototype.s=!1,Ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function It(s,c){this.type=s,this.g=this.target=c,this.defaultPrevented=!1}It.prototype.h=function(){this.defaultPrevented=!0};var fn=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var s=!1,c=Object.defineProperty({},"passive",{get:function(){s=!0}});try{const h=()=>{};o.addEventListener("test",h,c),o.removeEventListener("test",h,c)}catch{}return s}();function Ke(s,c){if(It.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var h=this.type=s.type,g=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=c,c=s.relatedTarget){if(U){t:{try{C(c.nodeName);var D=!0;break t}catch{}D=!1}D||(c=null)}}else h=="mouseover"?c=s.fromElement:h=="mouseout"&&(c=s.toElement);this.relatedTarget=c,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:N_[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Ke.aa.h.call(this)}}O(Ke,It);var N_={2:"touch",3:"pen",4:"mouse"};Ke.prototype.h=function(){Ke.aa.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Xs="closure_listenable_"+(1e6*Math.random()|0),D_=0;function O_(s,c,h,g,D){this.listener=s,this.proxy=null,this.src=c,this.type=h,this.capture=!!g,this.ha=D,this.key=++D_,this.da=this.fa=!1}function Ks(s){s.da=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function Zs(s){this.src=s,this.g={},this.h=0}Zs.prototype.add=function(s,c,h,g,D){var M=s.toString();s=this.g[M],s||(s=this.g[M]=[],this.h++);var z=vu(s,c,g,D);return-1<z?(c=s[z],h||(c.fa=!1)):(c=new O_(c,this.src,M,!!g,D),c.fa=h,s.push(c)),c};function yu(s,c){var h=c.type;if(h in s.g){var g=s.g[h],D=Array.prototype.indexOf.call(g,c,void 0),M;(M=0<=D)&&Array.prototype.splice.call(g,D,1),M&&(Ks(c),s.g[h].length==0&&(delete s.g[h],s.h--))}}function vu(s,c,h,g){for(var D=0;D<s.length;++D){var M=s[D];if(!M.da&&M.listener==c&&M.capture==!!h&&M.ha==g)return D}return-1}var _u="closure_lm_"+(1e6*Math.random()|0),Eu={};function Rd(s,c,h,g,D){if(Array.isArray(c)){for(var M=0;M<c.length;M++)Rd(s,c[M],h,g,D);return null}return h=Dd(h),s&&s[Xs]?s.K(c,h,f(g)?!!g.capture:!1,D):V_(s,c,h,!1,g,D)}function V_(s,c,h,g,D,M){if(!c)throw Error("Invalid event type");var z=f(D)?!!D.capture:!!D,mt=bu(s);if(mt||(s[_u]=mt=new Zs(s)),h=mt.add(c,h,g,z,M),h.proxy)return h;if(g=M_(),h.proxy=g,g.src=s,g.listener=h,s.addEventListener)fn||(D=z),D===void 0&&(D=!1),s.addEventListener(c.toString(),g,D);else if(s.attachEvent)s.attachEvent(Nd(c.toString()),g);else if(s.addListener&&s.removeListener)s.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function M_(){function s(h){return c.call(s.src,s.listener,h)}const c=I_;return s}function Cd(s,c,h,g,D){if(Array.isArray(c))for(var M=0;M<c.length;M++)Cd(s,c[M],h,g,D);else g=f(g)?!!g.capture:!!g,h=Dd(h),s&&s[Xs]?(s=s.i,c=String(c).toString(),c in s.g&&(M=s.g[c],h=vu(M,h,g,D),-1<h&&(Ks(M[h]),Array.prototype.splice.call(M,h,1),M.length==0&&(delete s.g[c],s.h--)))):s&&(s=bu(s))&&(c=s.g[c.toString()],s=-1,c&&(s=vu(c,h,g,D)),(h=-1<s?c[s]:null)&&Tu(h))}function Tu(s){if(typeof s!="number"&&s&&!s.da){var c=s.src;if(c&&c[Xs])yu(c.i,s);else{var h=s.type,g=s.proxy;c.removeEventListener?c.removeEventListener(h,g,s.capture):c.detachEvent?c.detachEvent(Nd(h),g):c.addListener&&c.removeListener&&c.removeListener(g),(h=bu(c))?(yu(h,s),h.h==0&&(h.src=null,c[_u]=null)):Ks(s)}}}function Nd(s){return s in Eu?Eu[s]:Eu[s]="on"+s}function I_(s,c){if(s.da)s=!0;else{c=new Ke(c,this);var h=s.listener,g=s.ha||s.src;s.fa&&Tu(s),s=h.call(g,c)}return s}function bu(s){return s=s[_u],s instanceof Zs?s:null}var Au="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dd(s){return typeof s=="function"?s:(s[Au]||(s[Au]=function(c){return s.handleEvent(c)}),s[Au])}function ne(){Ae.call(this),this.i=new Zs(this),this.M=this,this.F=null}O(ne,Ae),ne.prototype[Xs]=!0,ne.prototype.removeEventListener=function(s,c,h,g){Cd(this,s,c,h,g)};function ce(s,c){var h,g=s.F;if(g)for(h=[];g;g=g.F)h.push(g);if(s=s.M,g=c.type||c,typeof c=="string")c=new It(c,s);else if(c instanceof It)c.target=c.target||s;else{var D=c;c=new It(g,s),w(c,D)}if(D=!0,h)for(var M=h.length-1;0<=M;M--){var z=c.g=h[M];D=$s(z,g,!0,c)&&D}if(z=c.g=s,D=$s(z,g,!0,c)&&D,D=$s(z,g,!1,c)&&D,h)for(M=0;M<h.length;M++)z=c.g=h[M],D=$s(z,g,!1,c)&&D}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var s=this.i,c;for(c in s.g){for(var h=s.g[c],g=0;g<h.length;g++)Ks(h[g]);delete s.g[c],s.h--}}this.F=null},ne.prototype.K=function(s,c,h,g){return this.i.add(String(s),c,!1,h,g)},ne.prototype.L=function(s,c,h,g){return this.i.add(String(s),c,!0,h,g)};function $s(s,c,h,g){if(c=s.i.g[String(c)],!c)return!0;c=c.concat();for(var D=!0,M=0;M<c.length;++M){var z=c[M];if(z&&!z.da&&z.capture==h){var mt=z.listener,Zt=z.ha||z.src;z.fa&&yu(s.i,z),D=mt.call(Zt,g)!==!1&&D}}return D&&!g.defaultPrevented}function Od(s,c,h){if(typeof s=="function")h&&(s=m(s,h));else if(s&&typeof s.handleEvent=="function")s=m(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:o.setTimeout(s,c||0)}function Vd(s){s.g=Od(()=>{s.g=null,s.i&&(s.i=!1,Vd(s))},s.l);const c=s.h;s.h=null,s.m.apply(null,c)}class j_ extends Ae{constructor(c,h){super(),this.m=c,this.l=h,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Vd(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fa(s){Ae.call(this),this.h=s,this.g={}}O(fa,Ae);var Md=[];function Id(s){q(s.g,function(c,h){this.g.hasOwnProperty(h)&&Tu(c)},s),s.g={}}fa.prototype.N=function(){fa.aa.N.call(this),Id(this)},fa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Su=o.JSON.stringify,L_=o.JSON.parse,U_=class{stringify(s){return o.JSON.stringify(s,void 0)}parse(s){return o.JSON.parse(s,void 0)}};function wu(){}wu.prototype.h=null;function jd(s){return s.h||(s.h=s.i())}function Ld(){}var da={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xu(){It.call(this,"d")}O(xu,It);function Ru(){It.call(this,"c")}O(Ru,It);var bi={},Ud=null;function Js(){return Ud=Ud||new ne}bi.La="serverreachability";function zd(s){It.call(this,bi.La,s)}O(zd,It);function ma(s){const c=Js();ce(c,new zd(c))}bi.STAT_EVENT="statevent";function kd(s,c){It.call(this,bi.STAT_EVENT,s),this.stat=c}O(kd,It);function he(s){const c=Js();ce(c,new kd(c,s))}bi.Ma="timingevent";function Bd(s,c){It.call(this,bi.Ma,s),this.size=c}O(Bd,It);function ga(s,c){if(typeof s!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){s()},c)}function pa(){this.g=!0}pa.prototype.xa=function(){this.g=!1};function z_(s,c,h,g,D,M){s.info(function(){if(s.g)if(M)for(var z="",mt=M.split("&"),Zt=0;Zt<mt.length;Zt++){var lt=mt[Zt].split("=");if(1<lt.length){var ie=lt[0];lt=lt[1];var re=ie.split("_");z=2<=re.length&&re[1]=="type"?z+(ie+"="+lt+"&"):z+(ie+"=redacted&")}}else z=null;else z=M;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+c+`
`+h+`
`+z})}function k_(s,c,h,g,D,M,z){s.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+c+`
`+h+`
`+M+" "+z})}function Ji(s,c,h,g){s.info(function(){return"XMLHTTP TEXT ("+c+"): "+P_(s,h)+(g?" "+g:"")})}function B_(s,c){s.info(function(){return"TIMEOUT: "+c})}pa.prototype.info=function(){};function P_(s,c){if(!s.g)return c;if(!c)return null;try{var h=JSON.parse(c);if(h){for(s=0;s<h.length;s++)if(Array.isArray(h[s])){var g=h[s];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var M=D[0];if(M!="noop"&&M!="stop"&&M!="close")for(var z=1;z<D.length;z++)D[z]=""}}}}return Su(h)}catch{return c}}var Ws={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cu;function tl(){}O(tl,wu),tl.prototype.g=function(){return new XMLHttpRequest},tl.prototype.i=function(){return{}},Cu=new tl;function Mn(s,c,h,g){this.j=s,this.i=c,this.l=h,this.R=g||1,this.U=new fa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qd}function qd(){this.i=null,this.g="",this.h=!1}var Hd={},Nu={};function Du(s,c,h){s.L=1,s.v=rl(dn(c)),s.m=h,s.P=!0,Gd(s,null)}function Gd(s,c){s.F=Date.now(),el(s),s.A=dn(s.v);var h=s.A,g=s.R;Array.isArray(g)||(g=[String(g)]),rm(h.i,"t",g),s.C=0,h=s.j.J,s.h=new qd,s.g=bm(s.j,h?c:null,!s.m),0<s.O&&(s.M=new j_(m(s.Y,s,s.g),s.O)),c=s.U,h=s.g,g=s.ca;var D="readystatechange";Array.isArray(D)||(D&&(Md[0]=D.toString()),D=Md);for(var M=0;M<D.length;M++){var z=Rd(h,D[M],g||c.handleEvent,!1,c.h||c);if(!z)break;c.g[z.key]=z}c=s.H?y(s.H):{},s.m?(s.u||(s.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.m,c)):(s.u="GET",s.g.ea(s.A,s.u,null,c)),ma(),z_(s.i,s.u,s.A,s.l,s.R,s.m)}Mn.prototype.ca=function(s){s=s.target;const c=this.M;c&&mn(s)==3?c.j():this.Y(s)},Mn.prototype.Y=function(s){try{if(s==this.g)t:{const re=mn(this.g);var c=this.g.Ba();const er=this.g.Z();if(!(3>re)&&(re!=3||this.g&&(this.h.h||this.g.oa()||hm(this.g)))){this.J||re!=4||c==7||(c==8||0>=er?ma(3):ma(2)),Ou(this);var h=this.g.Z();this.X=h;e:if(Fd(this)){var g=hm(this.g);s="";var D=g.length,M=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ai(this),ya(this);var z="";break e}this.h.i=new o.TextDecoder}for(c=0;c<D;c++)this.h.h=!0,s+=this.h.i.decode(g[c],{stream:!(M&&c==D-1)});g.length=0,this.h.g+=s,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=h==200,k_(this.i,this.u,this.A,this.l,this.R,re,h),this.o){if(this.T&&!this.K){e:{if(this.g){var mt,Zt=this.g;if((mt=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(mt)){var lt=mt;break e}}lt=null}if(h=lt)Ji(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vu(this,h);else{this.o=!1,this.s=3,he(12),Ai(this),ya(this);break t}}if(this.P){h=!0;let Fe;for(;!this.J&&this.C<z.length;)if(Fe=q_(this,z),Fe==Nu){re==4&&(this.s=4,he(14),h=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Fe==Hd){this.s=4,he(15),Ji(this.i,this.l,z,"[Invalid Chunk]"),h=!1;break}else Ji(this.i,this.l,Fe,null),Vu(this,Fe);if(Fd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),re!=4||z.length!=0||this.h.h||(this.s=1,he(16),h=!1),this.o=this.o&&h,!h)Ji(this.i,this.l,z,"[Invalid Chunked Response]"),Ai(this),ya(this);else if(0<z.length&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.ba&&!ie.M&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),zu(ie),ie.M=!0,he(11))}}else Ji(this.i,this.l,z,null),Vu(this,z);re==4&&Ai(this),this.o&&!this.J&&(re==4?vm(this.j,this):(this.o=!1,el(this)))}else aE(this.g),h==400&&0<z.indexOf("Unknown SID")?(this.s=3,he(12)):(this.s=0,he(13)),Ai(this),ya(this)}}}catch{}finally{}};function Fd(s){return s.g?s.u=="GET"&&s.L!=2&&s.j.Ca:!1}function q_(s,c){var h=s.C,g=c.indexOf(`
`,h);return g==-1?Nu:(h=Number(c.substring(h,g)),isNaN(h)?Hd:(g+=1,g+h>c.length?Nu:(c=c.slice(g,g+h),s.C=g+h,c)))}Mn.prototype.cancel=function(){this.J=!0,Ai(this)};function el(s){s.S=Date.now()+s.I,Qd(s,s.I)}function Qd(s,c){if(s.B!=null)throw Error("WatchDog timer not null");s.B=ga(m(s.ba,s),c)}function Ou(s){s.B&&(o.clearTimeout(s.B),s.B=null)}Mn.prototype.ba=function(){this.B=null;const s=Date.now();0<=s-this.S?(B_(this.i,this.A),this.L!=2&&(ma(),he(17)),Ai(this),this.s=2,ya(this)):Qd(this,this.S-s)};function ya(s){s.j.G==0||s.J||vm(s.j,s)}function Ai(s){Ou(s);var c=s.M;c&&typeof c.ma=="function"&&c.ma(),s.M=null,Id(s.U),s.g&&(c=s.g,s.g=null,c.abort(),c.ma())}function Vu(s,c){try{var h=s.j;if(h.G!=0&&(h.g==s||Mu(h.h,s))){if(!s.K&&Mu(h.h,s)&&h.G==3){try{var g=h.Da.g.parse(c)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){t:if(!h.u){if(h.g)if(h.g.F+3e3<s.F)cl(h),ol(h);else break t;Uu(h),he(18)}}else h.za=D[1],0<h.za-h.T&&37500>D[2]&&h.F&&h.v==0&&!h.C&&(h.C=ga(m(h.Za,h),6e3));if(1>=Kd(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else wi(h,11)}else if((s.K||h.g==s)&&cl(h),!E(c))for(D=h.Da.g.parse(c),c=0;c<D.length;c++){let lt=D[c];if(h.T=lt[0],lt=lt[1],h.G==2)if(lt[0]=="c"){h.K=lt[1],h.ia=lt[2];const ie=lt[3];ie!=null&&(h.la=ie,h.j.info("VER="+h.la));const re=lt[4];re!=null&&(h.Aa=re,h.j.info("SVER="+h.Aa));const er=lt[5];er!=null&&typeof er=="number"&&0<er&&(g=1.5*er,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;const Fe=s.g;if(Fe){const fl=Fe.g?Fe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fl){var M=g.h;M.g||fl.indexOf("spdy")==-1&&fl.indexOf("quic")==-1&&fl.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Iu(M,M.h),M.h=null))}if(g.D){const ku=Fe.g?Fe.g.getResponseHeader("X-HTTP-Session-Id"):null;ku&&(g.ya=ku,vt(g.I,g.D,ku))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-s.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var z=s;if(g.qa=Tm(g,g.J?g.ia:null,g.W),z.K){Zd(g.h,z);var mt=z,Zt=g.L;Zt&&(mt.I=Zt),mt.B&&(Ou(mt),el(mt)),g.g=z}else pm(g);0<h.i.length&&ul(h)}else lt[0]!="stop"&&lt[0]!="close"||wi(h,7);else h.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?wi(h,7):Lu(h):lt[0]!="noop"&&h.l&&h.l.ta(lt),h.v=0)}}ma(4)}catch{}}var H_=class{constructor(s,c){this.g=s,this.map=c}};function Yd(s){this.l=s||10,o.PerformanceNavigationTiming?(s=o.performance.getEntriesByType("navigation"),s=0<s.length&&(s[0].nextHopProtocol=="hq"||s[0].nextHopProtocol=="h2")):s=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xd(s){return s.h?!0:s.g?s.g.size>=s.j:!1}function Kd(s){return s.h?1:s.g?s.g.size:0}function Mu(s,c){return s.h?s.h==c:s.g?s.g.has(c):!1}function Iu(s,c){s.g?s.g.add(c):s.h=c}function Zd(s,c){s.h&&s.h==c?s.h=null:s.g&&s.g.has(c)&&s.g.delete(c)}Yd.prototype.cancel=function(){if(this.i=$d(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const s of this.g.values())s.cancel();this.g.clear()}};function $d(s){if(s.h!=null)return s.i.concat(s.h.D);if(s.g!=null&&s.g.size!==0){let c=s.i;for(const h of s.g.values())c=c.concat(h.D);return c}return V(s.i)}function G_(s){if(s.V&&typeof s.V=="function")return s.V();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if(typeof s=="string")return s.split("");if(u(s)){for(var c=[],h=s.length,g=0;g<h;g++)c.push(s[g]);return c}c=[],h=0;for(g in s)c[h++]=s[g];return c}function F_(s){if(s.na&&typeof s.na=="function")return s.na();if(!s.V||typeof s.V!="function"){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(u(s)||typeof s=="string"){var c=[];s=s.length;for(var h=0;h<s;h++)c.push(h);return c}c=[],h=0;for(const g in s)c[h++]=g;return c}}}function Jd(s,c){if(s.forEach&&typeof s.forEach=="function")s.forEach(c,void 0);else if(u(s)||typeof s=="string")Array.prototype.forEach.call(s,c,void 0);else for(var h=F_(s),g=G_(s),D=g.length,M=0;M<D;M++)c.call(void 0,g[M],h&&h[M],s)}var Wd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Q_(s,c){if(s){s=s.split("&");for(var h=0;h<s.length;h++){var g=s[h].indexOf("="),D=null;if(0<=g){var M=s[h].substring(0,g);D=s[h].substring(g+1)}else M=s[h];c(M,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Si(s){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,s instanceof Si){this.h=s.h,nl(this,s.j),this.o=s.o,this.g=s.g,il(this,s.s),this.l=s.l;var c=s.i,h=new Ea;h.i=c.i,c.g&&(h.g=new Map(c.g),h.h=c.h),tm(this,h),this.m=s.m}else s&&(c=String(s).match(Wd))?(this.h=!1,nl(this,c[1]||"",!0),this.o=va(c[2]||""),this.g=va(c[3]||"",!0),il(this,c[4]),this.l=va(c[5]||"",!0),tm(this,c[6]||"",!0),this.m=va(c[7]||"")):(this.h=!1,this.i=new Ea(null,this.h))}Si.prototype.toString=function(){var s=[],c=this.j;c&&s.push(_a(c,em,!0),":");var h=this.g;return(h||c=="file")&&(s.push("//"),(c=this.o)&&s.push(_a(c,em,!0),"@"),s.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&s.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&s.push("/"),s.push(_a(h,h.charAt(0)=="/"?K_:X_,!0))),(h=this.i.toString())&&s.push("?",h),(h=this.m)&&s.push("#",_a(h,$_)),s.join("")};function dn(s){return new Si(s)}function nl(s,c,h){s.j=h?va(c,!0):c,s.j&&(s.j=s.j.replace(/:$/,""))}function il(s,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);s.s=c}else s.s=null}function tm(s,c,h){c instanceof Ea?(s.i=c,J_(s.i,s.h)):(h||(c=_a(c,Z_)),s.i=new Ea(c,s.h))}function vt(s,c,h){s.i.set(c,h)}function rl(s){return vt(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function va(s,c){return s?c?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function _a(s,c,h){return typeof s=="string"?(s=encodeURI(s).replace(c,Y_),h&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function Y_(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var em=/[#\/\?@]/g,X_=/[#\?:]/g,K_=/[#\?]/g,Z_=/[#\?@]/g,$_=/#/g;function Ea(s,c){this.h=this.g=null,this.i=s||null,this.j=!!c}function In(s){s.g||(s.g=new Map,s.h=0,s.i&&Q_(s.i,function(c,h){s.add(decodeURIComponent(c.replace(/\+/g," ")),h)}))}e=Ea.prototype,e.add=function(s,c){In(this),this.i=null,s=Wi(this,s);var h=this.g.get(s);return h||this.g.set(s,h=[]),h.push(c),this.h+=1,this};function nm(s,c){In(s),c=Wi(s,c),s.g.has(c)&&(s.i=null,s.h-=s.g.get(c).length,s.g.delete(c))}function im(s,c){return In(s),c=Wi(s,c),s.g.has(c)}e.forEach=function(s,c){In(this),this.g.forEach(function(h,g){h.forEach(function(D){s.call(c,D,g,this)},this)},this)},e.na=function(){In(this);const s=Array.from(this.g.values()),c=Array.from(this.g.keys()),h=[];for(let g=0;g<c.length;g++){const D=s[g];for(let M=0;M<D.length;M++)h.push(c[g])}return h},e.V=function(s){In(this);let c=[];if(typeof s=="string")im(this,s)&&(c=c.concat(this.g.get(Wi(this,s))));else{s=Array.from(this.g.values());for(let h=0;h<s.length;h++)c=c.concat(s[h])}return c},e.set=function(s,c){return In(this),this.i=null,s=Wi(this,s),im(this,s)&&(this.h-=this.g.get(s).length),this.g.set(s,[c]),this.h+=1,this},e.get=function(s,c){return s?(s=this.V(s),0<s.length?String(s[0]):c):c};function rm(s,c,h){nm(s,c),0<h.length&&(s.i=null,s.g.set(Wi(s,c),V(h)),s.h+=h.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],c=Array.from(this.g.keys());for(var h=0;h<c.length;h++){var g=c[h];const M=encodeURIComponent(String(g)),z=this.V(g);for(g=0;g<z.length;g++){var D=M;z[g]!==""&&(D+="="+encodeURIComponent(String(z[g]))),s.push(D)}}return this.i=s.join("&")};function Wi(s,c){return c=String(c),s.j&&(c=c.toLowerCase()),c}function J_(s,c){c&&!s.j&&(In(s),s.i=null,s.g.forEach(function(h,g){var D=g.toLowerCase();g!=D&&(nm(this,g),rm(this,D,h))},s)),s.j=c}function W_(s,c){const h=new pa;if(o.Image){const g=new Image;g.onload=_(jn,h,"TestLoadImage: loaded",!0,c,g),g.onerror=_(jn,h,"TestLoadImage: error",!1,c,g),g.onabort=_(jn,h,"TestLoadImage: abort",!1,c,g),g.ontimeout=_(jn,h,"TestLoadImage: timeout",!1,c,g),o.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=s}else c(!1)}function tE(s,c){const h=new pa,g=new AbortController,D=setTimeout(()=>{g.abort(),jn(h,"TestPingServer: timeout",!1,c)},1e4);fetch(s,{signal:g.signal}).then(M=>{clearTimeout(D),M.ok?jn(h,"TestPingServer: ok",!0,c):jn(h,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(D),jn(h,"TestPingServer: error",!1,c)})}function jn(s,c,h,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(h)}catch{}}function eE(){this.g=new U_}function nE(s,c,h){const g=h||"";try{Jd(s,function(D,M){let z=D;f(D)&&(z=Su(D)),c.push(g+M+"="+encodeURIComponent(z))})}catch(D){throw c.push(g+"type="+encodeURIComponent("_badmap")),D}}function al(s){this.l=s.Ub||null,this.j=s.eb||!1}O(al,wu),al.prototype.g=function(){return new sl(this.l,this.j)},al.prototype.i=function(s){return function(){return s}}({});function sl(s,c){ne.call(this),this.D=s,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(sl,ne),e=sl.prototype,e.open=function(s,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=s,this.A=c,this.readyState=1,ba(this)},e.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};s&&(c.body=s),(this.D||o).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ta(this)),this.readyState=0},e.Sa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,ba(this)),this.g&&(this.readyState=3,ba(this),this.g)))if(this.responseType==="arraybuffer")s.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;am(this)}else s.text().then(this.Ra.bind(this),this.ga.bind(this))};function am(s){s.j.read().then(s.Pa.bind(s)).catch(s.ga.bind(s))}e.Pa=function(s){if(this.g){if(this.o&&s.value)this.response.push(s.value);else if(!this.o){var c=s.value?s.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!s.done}))&&(this.response=this.responseText+=c)}s.done?Ta(this):ba(this),this.readyState==3&&am(this)}},e.Ra=function(s){this.g&&(this.response=this.responseText=s,Ta(this))},e.Qa=function(s){this.g&&(this.response=s,Ta(this))},e.ga=function(){this.g&&Ta(this)};function Ta(s){s.readyState=4,s.l=null,s.j=null,s.v=null,ba(s)}e.setRequestHeader=function(s,c){this.u.append(s,c)},e.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],c=this.h.entries();for(var h=c.next();!h.done;)h=h.value,s.push(h[0]+": "+h[1]),h=c.next();return s.join(`\r
`)};function ba(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(sl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(s){this.m=s?"include":"same-origin"}});function sm(s){let c="";return q(s,function(h,g){c+=g,c+=":",c+=h,c+=`\r
`}),c}function ju(s,c,h){t:{for(g in h){var g=!1;break t}g=!0}g||(h=sm(h),typeof s=="string"?h!=null&&encodeURIComponent(String(h)):vt(s,c,h))}function xt(s){ne.call(this),this.headers=new Map,this.o=s||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(xt,ne);var iE=/^https?$/i,rE=["POST","PUT"];e=xt.prototype,e.Ha=function(s){this.J=s},e.ea=function(s,c,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+s);c=c?c.toUpperCase():"GET",this.D=s,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cu.g(),this.v=this.o?jd(this.o):jd(Cu),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(s),!0),this.B=!1}catch(M){lm(this,M);return}if(s=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)h.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const M of g.keys())h.set(M,g.get(M));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(M=>M.toLowerCase()=="content-type"),D=o.FormData&&s instanceof o.FormData,!(0<=Array.prototype.indexOf.call(rE,c,void 0))||g||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,z]of h)this.g.setRequestHeader(M,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cm(this),this.u=!0,this.g.send(s),this.u=!1}catch(M){lm(this,M)}};function lm(s,c){s.h=!1,s.g&&(s.j=!0,s.g.abort(),s.j=!1),s.l=c,s.m=5,om(s),ll(s)}function om(s){s.A||(s.A=!0,ce(s,"complete"),ce(s,"error"))}e.abort=function(s){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=s||7,ce(this,"complete"),ce(this,"abort"),ll(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ll(this,!0)),xt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?um(this):this.bb())},e.bb=function(){um(this)};function um(s){if(s.h&&typeof l<"u"&&(!s.v[1]||mn(s)!=4||s.Z()!=2)){if(s.u&&mn(s)==4)Od(s.Ea,0,s);else if(ce(s,"readystatechange"),mn(s)==4){s.h=!1;try{const z=s.Z();t:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var h;if(!(h=c)){var g;if(g=z===0){var D=String(s.D).match(Wd)[1]||null;!D&&o.self&&o.self.location&&(D=o.self.location.protocol.slice(0,-1)),g=!iE.test(D?D.toLowerCase():"")}h=g}if(h)ce(s,"complete"),ce(s,"success");else{s.m=6;try{var M=2<mn(s)?s.g.statusText:""}catch{M=""}s.l=M+" ["+s.Z()+"]",om(s)}}finally{ll(s)}}}}function ll(s,c){if(s.g){cm(s);const h=s.g,g=s.v[0]?()=>{}:null;s.g=null,s.v=null,c||ce(s,"ready");try{h.onreadystatechange=g}catch{}}}function cm(s){s.I&&(o.clearTimeout(s.I),s.I=null)}e.isActive=function(){return!!this.g};function mn(s){return s.g?s.g.readyState:0}e.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(s){if(this.g){var c=this.g.responseText;return s&&c.indexOf(s)==0&&(c=c.substring(s.length)),L_(c)}};function hm(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.H){case"":case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function aE(s){const c={};s=(s.g&&2<=mn(s)&&s.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<s.length;g++){if(E(s[g]))continue;var h=R(s[g]);const D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();const M=c[D]||[];c[D]=M,M.push(h)}b(c,function(g){return g.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(s,c,h){return h&&h.internalChannelParams&&h.internalChannelParams[s]||c}function fm(s){this.Aa=0,this.i=[],this.j=new pa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Aa("failFast",!1,s),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Aa("baseRetryDelayMs",5e3,s),this.cb=Aa("retryDelaySeedMs",1e4,s),this.Wa=Aa("forwardChannelMaxRetries",2,s),this.wa=Aa("forwardChannelRequestTimeoutMs",2e4,s),this.pa=s&&s.xmlHttpFactory||void 0,this.Xa=s&&s.Tb||void 0,this.Ca=s&&s.useFetchStreams||!1,this.L=void 0,this.J=s&&s.supportsCrossDomainXhr||!1,this.K="",this.h=new Yd(s&&s.concurrentRequestLimit),this.Da=new eE,this.P=s&&s.fastHandshake||!1,this.O=s&&s.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=s&&s.Rb||!1,s&&s.xa&&this.j.xa(),s&&s.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&s&&s.detectBufferingProxy||!1,this.ja=void 0,s&&s.longPollingTimeout&&0<s.longPollingTimeout&&(this.ja=s.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=fm.prototype,e.la=8,e.G=1,e.connect=function(s,c,h,g){he(0),this.W=s,this.H=c||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=Tm(this,null,this.W),ul(this)};function Lu(s){if(dm(s),s.G==3){var c=s.U++,h=dn(s.I);if(vt(h,"SID",s.K),vt(h,"RID",c),vt(h,"TYPE","terminate"),Sa(s,h),c=new Mn(s,s.j,c),c.L=2,c.v=rl(dn(h)),h=!1,o.navigator&&o.navigator.sendBeacon)try{h=o.navigator.sendBeacon(c.v.toString(),"")}catch{}!h&&o.Image&&(new Image().src=c.v,h=!0),h||(c.g=bm(c.j,null),c.g.ea(c.v)),c.F=Date.now(),el(c)}Em(s)}function ol(s){s.g&&(zu(s),s.g.cancel(),s.g=null)}function dm(s){ol(s),s.u&&(o.clearTimeout(s.u),s.u=null),cl(s),s.h.cancel(),s.s&&(typeof s.s=="number"&&o.clearTimeout(s.s),s.s=null)}function ul(s){if(!Xd(s.h)&&!s.s){s.s=!0;var c=s.Ga;K||Nt(),Q||(K(),Q=!0),yt.add(c,s),s.B=0}}function sE(s,c){return Kd(s.h)>=s.h.j-(s.s?1:0)?!1:s.s?(s.i=c.D.concat(s.i),!0):s.G==1||s.G==2||s.B>=(s.Va?0:s.Wa)?!1:(s.s=ga(m(s.Ga,s,c),_m(s,s.B)),s.B++,!0)}e.Ga=function(s){if(this.s)if(this.s=null,this.G==1){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;const D=new Mn(this,this.j,s);let M=this.o;if(this.S&&(M?(M=y(M),w(M,this.S)):M=this.S),this.m!==null||this.O||(D.H=M,M=null),this.P)t:{for(var c=0,h=0;h<this.i.length;h++){e:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break e}g=void 0}if(g===void 0)break;if(c+=g,4096<c){c=h;break t}if(c===4096||h===this.i.length-1){c=h+1;break t}}c=1e3}else c=1e3;c=gm(this,D,c),h=dn(this.I),vt(h,"RID",s),vt(h,"CVER",22),this.D&&vt(h,"X-HTTP-Session-Id",this.D),Sa(this,h),M&&(this.O?c="headers="+encodeURIComponent(String(sm(M)))+"&"+c:this.m&&ju(h,this.m,M)),Iu(this.h,D),this.Ua&&vt(h,"TYPE","init"),this.P?(vt(h,"$req",c),vt(h,"SID","null"),D.T=!0,Du(D,h,null)):Du(D,h,c),this.G=2}}else this.G==3&&(s?mm(this,s):this.i.length==0||Xd(this.h)||mm(this))};function mm(s,c){var h;c?h=c.l:h=s.U++;const g=dn(s.I);vt(g,"SID",s.K),vt(g,"RID",h),vt(g,"AID",s.T),Sa(s,g),s.m&&s.o&&ju(g,s.m,s.o),h=new Mn(s,s.j,h,s.B+1),s.m===null&&(h.H=s.o),c&&(s.i=c.D.concat(s.i)),c=gm(s,h,1e3),h.I=Math.round(.5*s.wa)+Math.round(.5*s.wa*Math.random()),Iu(s.h,h),Du(h,g,c)}function Sa(s,c){s.H&&q(s.H,function(h,g){vt(c,g,h)}),s.l&&Jd({},function(h,g){vt(c,g,h)})}function gm(s,c,h){h=Math.min(s.i.length,h);var g=s.l?m(s.l.Na,s.l,s):null;t:{var D=s.i;let M=-1;for(;;){const z=["count="+h];M==-1?0<h?(M=D[0].g,z.push("ofs="+M)):M=0:z.push("ofs="+M);let mt=!0;for(let Zt=0;Zt<h;Zt++){let lt=D[Zt].g;const ie=D[Zt].map;if(lt-=M,0>lt)M=Math.max(0,D[Zt].g-100),mt=!1;else try{nE(ie,z,"req"+lt+"_")}catch{g&&g(ie)}}if(mt){g=z.join("&");break t}}}return s=s.i.splice(0,h),c.D=s,g}function pm(s){if(!s.g&&!s.u){s.Y=1;var c=s.Fa;K||Nt(),Q||(K(),Q=!0),yt.add(c,s),s.v=0}}function Uu(s){return s.g||s.u||3<=s.v?!1:(s.Y++,s.u=ga(m(s.Fa,s),_m(s,s.v)),s.v++,!0)}e.Fa=function(){if(this.u=null,ym(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var s=2*this.R;this.j.info("BP detection timer enabled: "+s),this.A=ga(m(this.ab,this),s)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,he(10),ol(this),ym(this))};function zu(s){s.A!=null&&(o.clearTimeout(s.A),s.A=null)}function ym(s){s.g=new Mn(s,s.j,"rpc",s.Y),s.m===null&&(s.g.H=s.o),s.g.O=0;var c=dn(s.qa);vt(c,"RID","rpc"),vt(c,"SID",s.K),vt(c,"AID",s.T),vt(c,"CI",s.F?"0":"1"),!s.F&&s.ja&&vt(c,"TO",s.ja),vt(c,"TYPE","xmlhttp"),Sa(s,c),s.m&&s.o&&ju(c,s.m,s.o),s.L&&(s.g.I=s.L);var h=s.g;s=s.ia,h.L=1,h.v=rl(dn(c)),h.m=null,h.P=!0,Gd(h,s)}e.Za=function(){this.C!=null&&(this.C=null,ol(this),Uu(this),he(19))};function cl(s){s.C!=null&&(o.clearTimeout(s.C),s.C=null)}function vm(s,c){var h=null;if(s.g==c){cl(s),zu(s),s.g=null;var g=2}else if(Mu(s.h,c))h=c.D,Zd(s.h,c),g=1;else return;if(s.G!=0){if(c.o)if(g==1){h=c.m?c.m.length:0,c=Date.now()-c.F;var D=s.B;g=Js(),ce(g,new Bd(g,h)),ul(s)}else pm(s);else if(D=c.s,D==3||D==0&&0<c.X||!(g==1&&sE(s,c)||g==2&&Uu(s)))switch(h&&0<h.length&&(c=s.h,c.i=c.i.concat(h)),D){case 1:wi(s,5);break;case 4:wi(s,10);break;case 3:wi(s,6);break;default:wi(s,2)}}}function _m(s,c){let h=s.Ta+Math.floor(Math.random()*s.cb);return s.isActive()||(h*=2),h*c}function wi(s,c){if(s.j.info("Error code "+c),c==2){var h=m(s.fb,s),g=s.Xa;const D=!g;g=new Si(g||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||nl(g,"https"),rl(g),D?W_(g.toString(),h):tE(g.toString(),h)}else he(2);s.G=0,s.l&&s.l.sa(c),Em(s),dm(s)}e.fb=function(s){s?(this.j.info("Successfully pinged google.com"),he(2)):(this.j.info("Failed to ping google.com"),he(1))};function Em(s){if(s.G=0,s.ka=[],s.l){const c=$d(s.h);(c.length!=0||s.i.length!=0)&&(I(s.ka,c),I(s.ka,s.i),s.h.i.length=0,V(s.i),s.i.length=0),s.l.ra()}}function Tm(s,c,h){var g=h instanceof Si?dn(h):new Si(h);if(g.g!="")c&&(g.g=c+"."+g.g),il(g,g.s);else{var D=o.location;g=D.protocol,c=c?c+"."+D.hostname:D.hostname,D=+D.port;var M=new Si(null);g&&nl(M,g),c&&(M.g=c),D&&il(M,D),h&&(M.l=h),g=M}return h=s.D,c=s.ya,h&&c&&vt(g,h,c),vt(g,"VER",s.la),Sa(s,g),g}function bm(s,c,h){if(c&&!s.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=s.Ca&&!s.pa?new xt(new al({eb:h})):new xt(s.pa),c.Ha(s.J),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Am(){}e=Am.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function hl(){}hl.prototype.g=function(s,c){return new Se(s,c)};function Se(s,c){ne.call(this),this.g=new fm(c),this.l=s,this.h=c&&c.messageUrlParams||null,s=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.o=s,s=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(s?s["X-WebChannel-Content-Type"]=c.messageContentType:s={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(s?s["X-WebChannel-Client-Profile"]=c.va:s={"X-WebChannel-Client-Profile":c.va}),this.g.S=s,(s=c&&c.Sb)&&!E(s)&&(this.g.m=s),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!E(c)&&(this.g.D=c,s=this.h,s!==null&&c in s&&(s=this.h,c in s&&delete s[c])),this.j=new tr(this)}O(Se,ne),Se.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Se.prototype.close=function(){Lu(this.g)},Se.prototype.o=function(s){var c=this.g;if(typeof s=="string"){var h={};h.__data__=s,s=h}else this.u&&(h={},h.__data__=Su(s),s=h);c.i.push(new H_(c.Ya++,s)),c.G==3&&ul(c)},Se.prototype.N=function(){this.g.l=null,delete this.j,Lu(this.g),delete this.g,Se.aa.N.call(this)};function Sm(s){xu.call(this),s.__headers__&&(this.headers=s.__headers__,this.statusCode=s.__status__,delete s.__headers__,delete s.__status__);var c=s.__sm__;if(c){t:{for(const h in c){s=h;break t}s=void 0}(this.i=s)&&(s=this.i,c=c!==null&&s in c?c[s]:void 0),this.data=c}else this.data=s}O(Sm,xu);function wm(){Ru.call(this),this.status=1}O(wm,Ru);function tr(s){this.g=s}O(tr,Am),tr.prototype.ua=function(){ce(this.g,"a")},tr.prototype.ta=function(s){ce(this.g,new Sm(s))},tr.prototype.sa=function(s){ce(this.g,new wm)},tr.prototype.ra=function(){ce(this.g,"b")},hl.prototype.createWebChannel=hl.prototype.g,Se.prototype.send=Se.prototype.o,Se.prototype.open=Se.prototype.m,Se.prototype.close=Se.prototype.close,S1=function(){return new hl},A1=function(){return Js()},b1=bi,Ih={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ws.NO_ERROR=0,Ws.TIMEOUT=8,Ws.HTTP_ERROR=6,Yl=Ws,Pd.COMPLETE="complete",T1=Pd,Ld.EventType=da,da.OPEN="a",da.CLOSE="b",da.ERROR="c",da.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Ua=Ld,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,E1=xt}).apply(typeof Cl<"u"?Cl:typeof self<"u"?self:typeof window<"u"?window:{});const cp="@firebase/firestore",hp="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}se.UNAUTHENTICATED=new se(null),se.GOOGLE_CREDENTIALS=new se("google-credentials-uid"),se.FIRST_PARTY=new se("first-party-uid"),se.MOCK_USER=new se("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ua="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new d1("@firebase/firestore");function or(){return Fi.logLevel}function P(e,...t){if(Fi.logLevel<=it.DEBUG){const n=t.map(sd);Fi.debug(`Firestore (${ua}): ${e}`,...n)}}function On(e,...t){if(Fi.logLevel<=it.ERROR){const n=t.map(sd);Fi.error(`Firestore (${ua}): ${e}`,...n)}}function di(e,...t){if(Fi.logLevel<=it.WARN){const n=t.map(sd);Fi.warn(`Firestore (${ua}): ${e}`,...n)}}function sd(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,w1(e,i,n)}function w1(e,t,n){let i=`FIRESTORE (${ua}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw On(i),new Error(i)}function wt(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||w1(t,r,i)}function at(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends oa{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class mS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(se.UNAUTHENTICATED))}shutdown(){}}class gS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pS{constructor(t){this.t=t,this.currentUser=se.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){wt(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let a=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ki,t.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const u=a;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},o=u=>{P("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(P("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ki)}},0),l()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(P("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(wt(typeof i.accessToken=="string",31837,{l:i}),new x1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return wt(t===null||typeof t=="string",2055,{h:t}),new se(t)}}class yS{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=se.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vS{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new yS(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(se.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fp{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _S{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$A(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){wt(this.o===void 0,3512);const i=a=>{a.error!=null&&P("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,P("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const r=a=>{P("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):P("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new fp(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=ES(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<n&&(i+=t.charAt(r[a]%62))}return i}}function W(e,t){return e<t?-1:e>t?1:0}function jh(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),r=t.codePointAt(n);if(i!==r){if(i<128&&r<128)return W(i,r);{const a=R1(),l=TS(a.encode(dp(e,n)),a.encode(dp(t,n)));return l!==0?l:W(i,r)}}n+=i>65535?2:1}return W(e.length,t.length)}function dp(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function TS(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return W(e[n],t[n]);return W(e.length,t.length)}function Kr(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="__name__";class $e{constructor(t,n,i){n===void 0?n=0:n>t.length&&Z(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Z(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return $e.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof $e?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const a=$e.compareSegments(t.get(r),n.get(r));if(a!==0)return a}return W(t.length,n.length)}static compareSegments(t,n){const i=$e.isNumericId(t),r=$e.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?$e.extractNumericId(t).compare($e.extractNumericId(n)):jh(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return li.fromString(t.substring(4,t.length-2))}}class St extends $e{construct(t,n,i){return new St(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new H(k.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new St(n)}static emptyPath(){return new St([])}}const bS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class me extends $e{construct(t,n,i){return new me(t,n,i)}static isValidIdentifier(t){return bS.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),me.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mp}static keyField(){return new me([mp])}static fromServerFormat(t){const n=[];let i="",r=0;const a=()=>{if(i.length===0)throw new H(k.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;r<t.length;){const o=t[r];if(o==="\\"){if(r+1===t.length)throw new H(k.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else o==="`"?(l=!l,r++):o!=="."||l?(i+=o,r++):(a(),r++)}if(a(),l)throw new H(k.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new me(n)}static emptyPath(){return new me([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t){this.path=t}static fromPath(t){return new G(St.fromString(t))}static fromName(t){return new G(St.fromString(t).popFirst(5))}static empty(){return new G(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&St.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return St.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new G(new St(t.slice()))}}function AS(e,t,n,i){if(t===!0&&i===!0)throw new H(k.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function gp(e){if(G.isDocumentKey(e))throw new H(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function SS(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function wS(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Z(12329,{type:typeof e})}function Lh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new H(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wS(e);throw new H(k.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(e,t){const n={typeString:e};return t&&(n.value=t),n}function Hs(e,t){if(!SS(e))throw new H(k.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const r=t[i].typeString,a="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const l=e[i];if(r&&typeof l!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${i}' field to equal '${a.value}'`;break}}if(n)throw new H(k.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=-62135596800,yp=1e6;class Ut{static now(){return Ut.fromMillis(Date.now())}static fromDate(t){return Ut.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*yp);return new Ut(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new H(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<pp)throw new H(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new H(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yp}_compareTo(t){return this.seconds===t.seconds?W(this.nanoseconds,t.nanoseconds):W(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hs(t,Ut._jsonSchema))return new Ut(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-pp;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ut._jsonSchemaVersion="firestore/timestamp/1.0",Ut._jsonSchema={type:zt("string",Ut._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{static fromTimestamp(t){return new X(t)}static min(){return new X(new Ut(0,0))}static max(){return new X(new Ut(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=-1;function xS(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=X.fromTimestamp(i===1e9?new Ut(n+1,0):new Ut(n,i));return new mi(r,G.empty(),t)}function RS(e){return new mi(e.readTime,e.key,bs)}class mi{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new mi(X.min(),G.empty(),bs)}static max(){return new mi(X.max(),G.empty(),bs)}}function CS(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=G.comparator(e.documentKey,t.documentKey),n!==0?n:W(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(e){if(e.code!==k.FAILED_PRECONDITION||e.message!==NS)throw e;P("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new j((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):j.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):j.reject(n)}static resolve(t){return new j((n,i)=>{n(t)})}static reject(t){return new j((n,i)=>{i(t)})}static waitFor(t){return new j((n,i)=>{let r=0,a=0,l=!1;t.forEach(o=>{++r,o.next(()=>{++a,l&&a===r&&n()},u=>i(u))}),l=!0,a===r&&n()})}static or(t){let n=j.resolve(!1);for(const i of t)n=n.next(r=>r?j.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,a)=>{i.push(n.call(this,r,a))}),this.waitFor(i)}static mapArray(t,n){return new j((i,r)=>{const a=t.length,l=new Array(a);let o=0;for(let u=0;u<a;u++){const f=u;n(t[f]).next(d=>{l[f]=d,++o,o===a&&i(l)},d=>r(d))}})}static doWhile(t,n){return new j((i,r)=>{const a=()=>{t()===!0?n().next(()=>{a()},r):i()};a()})}}function OS(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ca(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this._e(i),this.ae=i=>n.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}su.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=-1;function lu(e){return e==null}function Uh(e){return e===0&&1/e==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="";function MS(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=vp(t)),t=IS(e.get(n),t);return vp(t)}function IS(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const a=e.charAt(r);switch(a){case"\0":n+="";break;case N1:n+="";break;default:n+=a}}return n}function vp(e){return e+N1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Gs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function jS(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t,n){this.comparator=t,this.root=n||Jt.EMPTY}insert(t,n){return new Mt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(t){return new Mt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nl(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nl(this.root,t,this.comparator,!0)}}class Nl{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=n?i(t.key,n):1,n&&r&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Jt{constructor(t,n,i,r,a){this.key=t,this.value=n,this.color=i??Jt.RED,this.left=r??Jt.EMPTY,this.right=a??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,a){return new Jt(t??this.key,n??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const a=i(t,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(t,n,i),null):a===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return Jt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Z(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Z(27949);return t+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Z(57766)}get value(){throw Z(16141)}get color(){throw Z(16727)}get left(){throw Z(29726)}get right(){throw Z(36894)}copy(t,n,i,r,a){return this}insert(t,n,i){return new Jt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t){this.comparator=t,this.data=new Mt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ep(this.data.getIterator())}getIteratorFrom(t){return new Ep(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Ht)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ht(this.comparator);return n.data=t,n}}class Ep{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t){this.fields=t,t.sort(me.comparator)}static empty(){return new Kn([])}unionWith(t){let n=new Ht(me.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Kn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Kr(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new D1("Invalid base64 string: "+a):a}}(t);return new ee(n)}static fromUint8Array(t){const n=function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a}(t);return new ee(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return W(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ee.EMPTY_BYTE_STRING=new ee("");const LS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(e){if(wt(!!e,39018),typeof e=="string"){let t=0;const n=LS.exec(e);if(wt(!!n,46558,{timestamp:e}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Vt(e.seconds),nanos:Vt(e.nanos)}}function Vt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function pi(e){return typeof e=="string"?ee.fromBase64String(e):ee.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="server_timestamp",V1="__type__",M1="__previous_value__",I1="__local_write_time__";function ld(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[V1])===null||n===void 0?void 0:n.stringValue)===O1}function ou(e){const t=e.mapValue.fields[M1];return ld(t)?ou(t):t}function As(e){const t=gi(e.mapValue.fields[I1].timestampValue);return new Ut(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(t,n,i,r,a,l,o,u,f,d){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=d}}const Io="(default)";class Ss{constructor(t,n){this.projectId=t,this.database=n||Io}static empty(){return new Ss("","")}get isDefaultDatabase(){return this.database===Io}isEqual(t){return t instanceof Ss&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="__type__",kS="__max__",Dl={mapValue:{}},BS="__vector__",zh="value";function yi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ld(e)?4:qS(e)?9007199254740991:PS(e)?10:11:Z(28295,{value:e})}function ln(e,t){if(e===t)return!0;const n=yi(e);if(n!==yi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return As(e).isEqual(As(t));case 3:return function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const l=gi(r.timestampValue),o=gi(a.timestampValue);return l.seconds===o.seconds&&l.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,a){return pi(r.bytesValue).isEqual(pi(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,a){return Vt(r.geoPointValue.latitude)===Vt(a.geoPointValue.latitude)&&Vt(r.geoPointValue.longitude)===Vt(a.geoPointValue.longitude)}(e,t);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return Vt(r.integerValue)===Vt(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const l=Vt(r.doubleValue),o=Vt(a.doubleValue);return l===o?Uh(l)===Uh(o):isNaN(l)&&isNaN(o)}return!1}(e,t);case 9:return Kr(e.arrayValue.values||[],t.arrayValue.values||[],ln);case 10:case 11:return function(r,a){const l=r.mapValue.fields||{},o=a.mapValue.fields||{};if(_p(l)!==_p(o))return!1;for(const u in l)if(l.hasOwnProperty(u)&&(o[u]===void 0||!ln(l[u],o[u])))return!1;return!0}(e,t);default:return Z(52216,{left:e})}}function ws(e,t){return(e.values||[]).find(n=>ln(n,t))!==void 0}function Zr(e,t){if(e===t)return 0;const n=yi(e),i=yi(t);if(n!==i)return W(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return W(e.booleanValue,t.booleanValue);case 2:return function(a,l){const o=Vt(a.integerValue||a.doubleValue),u=Vt(l.integerValue||l.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(e,t);case 3:return Tp(e.timestampValue,t.timestampValue);case 4:return Tp(As(e),As(t));case 5:return jh(e.stringValue,t.stringValue);case 6:return function(a,l){const o=pi(a),u=pi(l);return o.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(a,l){const o=a.split("/"),u=l.split("/");for(let f=0;f<o.length&&f<u.length;f++){const d=W(o[f],u[f]);if(d!==0)return d}return W(o.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,l){const o=W(Vt(a.latitude),Vt(l.latitude));return o!==0?o:W(Vt(a.longitude),Vt(l.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return bp(e.arrayValue,t.arrayValue);case 10:return function(a,l){var o,u,f,d;const p=a.fields||{},m=l.fields||{},_=(o=p[zh])===null||o===void 0?void 0:o.arrayValue,O=(u=m[zh])===null||u===void 0?void 0:u.arrayValue,V=W(((f=_==null?void 0:_.values)===null||f===void 0?void 0:f.length)||0,((d=O==null?void 0:O.values)===null||d===void 0?void 0:d.length)||0);return V!==0?V:bp(_,O)}(e.mapValue,t.mapValue);case 11:return function(a,l){if(a===Dl.mapValue&&l===Dl.mapValue)return 0;if(a===Dl.mapValue)return 1;if(l===Dl.mapValue)return-1;const o=a.fields||{},u=Object.keys(o),f=l.fields||{},d=Object.keys(f);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const m=jh(u[p],d[p]);if(m!==0)return m;const _=Zr(o[u[p]],f[d[p]]);if(_!==0)return _}return W(u.length,d.length)}(e.mapValue,t.mapValue);default:throw Z(23264,{le:n})}}function Tp(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return W(e,t);const n=gi(e),i=gi(t),r=W(n.seconds,i.seconds);return r!==0?r:W(n.nanos,i.nanos)}function bp(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const a=Zr(n[r],i[r]);if(a)return a}return W(n.length,i.length)}function $r(e){return kh(e)}function kh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=gi(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return pi(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return G.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const a of n.values||[])r?r=!1:i+=",",i+=kh(a);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",a=!0;for(const l of i)a?a=!1:r+=",",r+=`${l}:${kh(n.fields[l])}`;return r+"}"}(e.mapValue):Z(61005,{value:e})}function Xl(e){switch(yi(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ou(e);return t?16+Xl(t):16;case 5:return 2*e.stringValue.length;case 6:return pi(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,a)=>r+Xl(a),0)}(e.arrayValue);case 10:case 11:return function(i){let r=0;return Gs(i.fields,(a,l)=>{r+=a.length+Xl(l)}),r}(e.mapValue);default:throw Z(13486,{value:e})}}function Bh(e){return!!e&&"integerValue"in e}function od(e){return!!e&&"arrayValue"in e}function Ap(e){return!!e&&"nullValue"in e}function Sp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Rc(e){return!!e&&"mapValue"in e}function PS(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[zS])===null||n===void 0?void 0:n.stringValue)===BS}function ns(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Gs(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=ns(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ns(e.arrayValue.values[n]);return t}return Object.assign({},e)}function qS(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===kS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.value=t}static empty(){return new We({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Rc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ns(n)}setAll(t){let n=me.emptyPath(),i={},r=[];t.forEach((l,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=o.popLast()}l?i[o.lastSegment()]=ns(l):r.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,r)}delete(t){const n=this.field(t.popLast());Rc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ln(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];Rc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Gs(n,(r,a)=>t[r]=a);for(const r of i)delete t[r]}clone(){return new We(ns(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,n,i,r,a,l,o){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=a,this.data=l,this.documentState=o}static newInvalidDocument(t){return new le(t,0,X.min(),X.min(),X.min(),We.empty(),0)}static newFoundDocument(t,n,i,r){return new le(t,1,n,X.min(),i,r,0)}static newNoDocument(t,n){return new le(t,2,n,X.min(),X.min(),We.empty(),0)}static newUnknownDocument(t,n){return new le(t,3,n,X.min(),X.min(),We.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=We.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=We.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof le&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new le(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(t,n){this.position=t,this.inclusive=n}}function wp(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const a=t[r],l=e.position[r];if(a.field.isKeyField()?i=G.comparator(G.fromName(l.referenceValue),n.key):i=Zr(l,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function xp(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ln(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(t,n="asc"){this.field=t,this.dir=n}}function HS(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{}class qt extends j1{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new FS(t,n,i):n==="array-contains"?new XS(t,i):n==="in"?new KS(t,i):n==="not-in"?new ZS(t,i):n==="array-contains-any"?new $S(t,i):new qt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new QS(t,i):new YS(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zr(n,this.value)):n!==null&&yi(this.value)===yi(n)&&this.matchesComparison(Zr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class on extends j1{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new on(t,n)}matches(t){return L1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function L1(e){return e.op==="and"}function U1(e){return GS(e)&&L1(e)}function GS(e){for(const t of e.filters)if(t instanceof on)return!1;return!0}function Ph(e){if(e instanceof qt)return e.field.canonicalString()+e.op.toString()+$r(e.value);if(U1(e))return e.filters.map(t=>Ph(t)).join(",");{const t=e.filters.map(n=>Ph(n)).join(",");return`${e.op}(${t})`}}function z1(e,t){return e instanceof qt?function(i,r){return r instanceof qt&&i.op===r.op&&i.field.isEqual(r.field)&&ln(i.value,r.value)}(e,t):e instanceof on?function(i,r){return r instanceof on&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((a,l,o)=>a&&z1(l,r.filters[o]),!0):!1}(e,t):void Z(19439)}function k1(e){return e instanceof qt?function(n){return`${n.field.canonicalString()} ${n.op} ${$r(n.value)}`}(e):e instanceof on?function(n){return n.op.toString()+" {"+n.getFilters().map(k1).join(" ,")+"}"}(e):"Filter"}class FS extends qt{constructor(t,n,i){super(t,n,i),this.key=G.fromName(i.referenceValue)}matches(t){const n=G.comparator(t.key,this.key);return this.matchesComparison(n)}}class QS extends qt{constructor(t,n){super(t,"in",n),this.keys=B1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class YS extends qt{constructor(t,n){super(t,"not-in",n),this.keys=B1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function B1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class XS extends qt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return od(n)&&ws(n.arrayValue,this.value)}}class KS extends qt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ws(this.value.arrayValue,n)}}class ZS extends qt{constructor(t,n){super(t,"not-in",n)}matches(t){if(ws(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ws(this.value.arrayValue,n)}}class $S extends qt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!od(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>ws(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t,n=null,i=[],r=[],a=null,l=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=l,this.endAt=o,this.Pe=null}}function Rp(e,t=null,n=[],i=[],r=null,a=null,l=null){return new JS(e,t,n,i,r,a,l)}function ud(e){const t=at(e);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Ph(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),lu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>$r(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>$r(i)).join(",")),t.Pe=n}return t.Pe}function cd(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!HS(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!z1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!xp(e.startAt,t.startAt)&&xp(e.endAt,t.endAt)}function qh(e){return G.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(t,n=null,i=[],r=[],a=null,l="F",o=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=l,this.startAt=o,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function WS(e,t,n,i,r,a,l,o){return new uu(e,t,n,i,r,a,l,o)}function P1(e){return new uu(e)}function Cp(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function t4(e){return e.collectionGroup!==null}function is(e){const t=at(e);if(t.Te===null){t.Te=[];const n=new Set;for(const a of t.explicitOrderBy)t.Te.push(a),n.add(a.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let o=new Ht(me.comparator);return l.filters.forEach(u=>{u.getFlattenedFilters().forEach(f=>{f.isInequality()&&(o=o.add(f.field))})}),o})(t).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||t.Te.push(new Lo(a,i))}),n.has(me.keyField().canonicalString())||t.Te.push(new Lo(me.keyField(),i))}return t.Te}function sn(e){const t=at(e);return t.Ie||(t.Ie=e4(t,is(e))),t.Ie}function e4(e,t){if(e.limitType==="F")return Rp(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const a=r.dir==="desc"?"asc":"desc";return new Lo(r.field,a)});const n=e.endAt?new jo(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new jo(e.startAt.position,e.startAt.inclusive):null;return Rp(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Hh(e,t,n){return new uu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function cu(e,t){return cd(sn(e),sn(t))&&e.limitType===t.limitType}function q1(e){return`${ud(sn(e))}|lt:${e.limitType}`}function ur(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>k1(r)).join(", ")}]`),lu(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>$r(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>$r(r)).join(",")),`Target(${i})`}(sn(e))}; limitType=${e.limitType})`}function hu(e,t){return t.isFoundDocument()&&function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):G.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(e,t)&&function(i,r){for(const a of is(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(l,o,u){const f=wp(l,o,u);return l.inclusive?f<=0:f<0}(i.startAt,is(i),r)||i.endAt&&!function(l,o,u){const f=wp(l,o,u);return l.inclusive?f>=0:f>0}(i.endAt,is(i),r))}(e,t)}function n4(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function H1(e){return(t,n)=>{let i=!1;for(const r of is(e)){const a=i4(r,t,n);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function i4(e,t,n){const i=e.field.isKeyField()?G.comparator(t.key,n.key):function(a,l,o){const u=l.data.field(a),f=o.data.field(a);return u!==null&&f!==null?Zr(u,f):Z(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Z(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,t))return a}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return void(r[a]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Gs(this.inner,(n,i)=>{for(const[r,a]of i)t(r,a)})}isEmpty(){return jS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=new Mt(G.comparator);function vi(){return r4}const G1=new Mt(G.comparator);function za(...e){let t=G1;for(const n of e)t=t.insert(n.key,n);return t}function a4(e){let t=G1;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Oi(){return rs()}function F1(){return rs()}function rs(){return new Zi(e=>e.toString(),(e,t)=>e.isEqual(t))}const s4=new Ht(G.comparator);function st(...e){let t=s4;for(const n of e)t=t.add(n);return t}const l4=new Ht(W);function o4(){return l4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uh(t)?"-0":t}}function c4(e){return{integerValue:""+e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(){this._=void 0}}function h4(e,t,n){return e instanceof Gh?function(r,a){const l={fields:{[V1]:{stringValue:O1},[I1]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&ld(a)&&(a=ou(a)),a&&(l.fields[M1]=a),{mapValue:l}}(n,t):e instanceof Uo?Q1(e,t):e instanceof zo?Y1(e,t):function(r,a){const l=d4(r,a),o=Np(l)+Np(r.Ee);return Bh(l)&&Bh(r.Ee)?c4(o):u4(r.serializer,o)}(e,t)}function f4(e,t,n){return e instanceof Uo?Q1(e,t):e instanceof zo?Y1(e,t):n}function d4(e,t){return e instanceof Fh?function(i){return Bh(i)||function(a){return!!a&&"doubleValue"in a}(i)}(t)?t:{integerValue:0}:null}class Gh extends fu{}class Uo extends fu{constructor(t){super(),this.elements=t}}function Q1(e,t){const n=X1(t);for(const i of e.elements)n.some(r=>ln(r,i))||n.push(i);return{arrayValue:{values:n}}}class zo extends fu{constructor(t){super(),this.elements=t}}function Y1(e,t){let n=X1(t);for(const i of e.elements)n=n.filter(r=>!ln(r,i));return{arrayValue:{values:n}}}class Fh extends fu{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function Np(e){return Vt(e.integerValue||e.doubleValue)}function X1(e){return od(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function m4(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof Uo&&r instanceof Uo||i instanceof zo&&r instanceof zo?Kr(i.elements,r.elements,ln):i instanceof Fh&&r instanceof Fh?ln(i.Ee,r.Ee):i instanceof Gh&&r instanceof Gh}(e.transform,t.transform)}class Bi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Bi}static exists(t){return new Bi(void 0,t)}static updateTime(t){return new Bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Kl(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class hd{}function K1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new p4(e.key,Bi.none()):new fd(e.key,e.data,Bi.none());{const n=e.data,i=We.empty();let r=new Ht(me.comparator);for(let a of t.fields)if(!r.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?i.delete(a):i.set(a,l),r=r.add(a)}return new du(e.key,i,new Kn(r.toArray()),Bi.none())}}function g4(e,t,n){e instanceof fd?function(r,a,l){const o=r.value.clone(),u=Op(r.fieldTransforms,a,l.transformResults);o.setAll(u),a.convertToFoundDocument(l.version,o).setHasCommittedMutations()}(e,t,n):e instanceof du?function(r,a,l){if(!Kl(r.precondition,a))return void a.convertToUnknownDocument(l.version);const o=Op(r.fieldTransforms,a,l.transformResults),u=a.data;u.setAll(Z1(r)),u.setAll(o),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(e,t,n):function(r,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,n)}function as(e,t,n,i){return e instanceof fd?function(a,l,o,u){if(!Kl(a.precondition,l))return o;const f=a.value.clone(),d=Vp(a.fieldTransforms,u,l);return f.setAll(d),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(e,t,n,i):e instanceof du?function(a,l,o,u){if(!Kl(a.precondition,l))return o;const f=Vp(a.fieldTransforms,u,l),d=l.data;return d.setAll(Z1(a)),d.setAll(f),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(p=>p.field))}(e,t,n,i):function(a,l,o){return Kl(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):o}(e,t,n)}function Dp(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Kr(i,r,(a,l)=>m4(a,l))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class fd extends hd{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class du extends hd{constructor(t,n,i,r,a=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Z1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function Op(e,t,n){const i=new Map;wt(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let r=0;r<n.length;r++){const a=e[r],l=a.transform,o=t.data.field(a.field);i.set(a.field,f4(l,o,n[r]))}return i}function Vp(e,t,n){const i=new Map;for(const r of e){const a=r.transform,l=n.data.field(r.field);i.set(r.field,h4(a,l,t))}return i}class p4 extends hd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(t.key)&&g4(a,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=as(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=as(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=F1();return this.mutations.forEach(r=>{const a=t.get(r.key),l=a.overlayedDocument;let o=this.applyToLocalView(l,a.mutatedFields);o=n.has(r.key)?null:o;const u=K1(l,o);u!==null&&i.set(r.key,u),l.isValidDocument()||l.convertToNoDocument(X.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),st())}isEqual(t){return this.batchId===t.batchId&&Kr(this.mutations,t.mutations,(n,i)=>Dp(n,i))&&Kr(this.baseMutations,t.baseMutations,(n,i)=>Dp(n,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,nt;function $1(e){if(e===void 0)return On("GRPC error has no .code"),k.UNKNOWN;switch(e){case jt.OK:return k.OK;case jt.CANCELLED:return k.CANCELLED;case jt.UNKNOWN:return k.UNKNOWN;case jt.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case jt.INTERNAL:return k.INTERNAL;case jt.UNAVAILABLE:return k.UNAVAILABLE;case jt.UNAUTHENTICATED:return k.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case jt.NOT_FOUND:return k.NOT_FOUND;case jt.ALREADY_EXISTS:return k.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return k.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case jt.ABORTED:return k.ABORTED;case jt.OUT_OF_RANGE:return k.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return k.UNIMPLEMENTED;case jt.DATA_LOSS:return k.DATA_LOSS;default:return Z(39323,{code:e})}}(nt=jt||(jt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=new li([4294967295,4294967295],0);function Mp(e){const t=R1().encode(e),n=new _1;return n.update(t),new Uint8Array(n.digest())}function Ip(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new li([n,i],0),new li([r,a],0)]}class dd{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ka(`Invalid padding: ${n}`);if(i<0)throw new ka(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new ka(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new ka(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=li.fromNumber(this.fe)}pe(t,n,i){let r=t.add(n.multiply(li.fromNumber(i)));return r.compare(E4)===1&&(r=new li([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=Mp(t),[i,r]=Ip(n);for(let a=0;a<this.hashCount;a++){const l=this.pe(i,r,a);if(!this.ye(l))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),l=new dd(a,r,n);return i.forEach(o=>l.insert(o)),l}insert(t){if(this.fe===0)return;const n=Mp(t),[i,r]=Ip(n);for(let a=0;a<this.hashCount;a++){const l=this.pe(i,r,a);this.we(l)}}we(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t,n,i,r,a){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,Fs.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new mu(X.min(),r,new Mt(W),vi(),st())}}class Fs{constructor(t,n,i,r,a){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Fs(i,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(t,n,i,r){this.Se=t,this.removedTargetIds=n,this.key=i,this.be=r}}class J1{constructor(t,n){this.targetId=t,this.De=n}}class W1{constructor(t,n,i=ee.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class jp{constructor(){this.ve=0,this.Ce=Lp(),this.Fe=ee.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=st(),n=st(),i=st();return this.Ce.forEach((r,a)=>{switch(a){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Z(38017,{changeType:a})}}),new Fs(this.Fe,this.Me,t,n,i)}ke(){this.xe=!1,this.Ce=Lp()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class T4{constructor(t){this.We=t,this.Ge=new Map,this.ze=vi(),this.je=Ol(),this.Je=Ol(),this.He=new Mt(W)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,n=>{const i=this.tt(n);switch(t.state){case 0:this.nt(n)&&i.Be(t.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(t.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(i.Ke(),i.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),i.Be(t.resumeToken));break;default:Z(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach((i,r)=>{this.nt(r)&&n(r)})}it(t){const n=t.targetId,i=t.De.count,r=this.st(n);if(r){const a=r.target;if(qh(a))if(i===0){const l=new G(a.path);this.Xe(n,l,le.newNoDocument(l,X.min()))}else wt(i===1,20013,{expectedCount:i});else{const l=this.ot(n);if(l!==i){const o=this._t(t),u=o?this.ut(o,t,l):1;if(u!==0){this.rt(n);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,f)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=n;let l,o;try{l=pi(i).toUint8Array()}catch(u){if(u instanceof D1)return di("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new dd(l,r,a)}catch(u){return di(u instanceof ka?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.fe===0?null:o}ut(t,n,i){return n.De.count===i-this.ht(t,n.targetId)?0:2}ht(t,n){const i=this.We.getRemoteKeysForTarget(n);let r=0;return i.forEach(a=>{const l=this.We.lt(),o=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.mightContain(o)||(this.Xe(n,a,null),r++)}),r}Pt(t){const n=new Map;this.Ge.forEach((a,l)=>{const o=this.st(l);if(o){if(a.current&&qh(o.target)){const u=new G(o.target.path);this.Tt(u).has(l)||this.It(l,u)||this.Xe(l,u,le.newNoDocument(u,t))}a.Ne&&(n.set(l,a.Le()),a.ke())}});let i=st();this.Je.forEach((a,l)=>{let o=!0;l.forEachWhile(u=>{const f=this.st(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(a))}),this.ze.forEach((a,l)=>l.setReadTime(t));const r=new mu(t,n,this.He,this.ze,i);return this.ze=vi(),this.je=Ol(),this.Je=Ol(),this.He=new Mt(W),r}Ze(t,n){if(!this.nt(t))return;const i=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,i),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,i){if(!this.nt(t))return;const r=this.tt(t);this.It(t,n)?r.qe(n,1):r.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),i&&(this.ze=this.ze.insert(n,i))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new jp,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new Ht(W),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new Ht(W),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||P("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new jp),this.We.getRemoteKeysForTarget(t).forEach(n=>{this.Xe(t,n,null)})}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function Ol(){return new Mt(G.comparator)}function Lp(){return new Mt(G.comparator)}const b4={asc:"ASCENDING",desc:"DESCENDING"},A4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S4={and:"AND",or:"OR"};class w4{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Qh(e,t){return e.useProto3Json||lu(t)?t:{value:t}}function x4(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function R4(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Mr(e){return wt(!!e,49232),X.fromTimestamp(function(n){const i=gi(n);return new Ut(i.seconds,i.nanos)}(e))}function C4(e,t){return Yh(e,t).canonicalString()}function Yh(e,t){const n=function(r){return new St(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function t_(e){const t=St.fromString(e);return wt(a_(t),10190,{key:t.toString()}),t}function Cc(e,t){const n=t_(t);if(n.get(1)!==e.databaseId.projectId)throw new H(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new H(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new G(n_(n))}function e_(e,t){return C4(e.databaseId,t)}function N4(e){const t=t_(e);return t.length===4?St.emptyPath():n_(t)}function Up(e){return new St(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function n_(e){return wt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function D4(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Z(39313,{state:f})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],a=function(f,d){return f.useProto3Json?(wt(d===void 0||typeof d=="string",58123),ee.fromBase64String(d||"")):(wt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ee.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),l=t.targetChange.cause,o=l&&function(f){const d=f.code===void 0?k.UNKNOWN:$1(f.code);return new H(d,f.message||"")}(l);n=new W1(i,r,a,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Cc(e,i.document.name),a=Mr(i.document.updateTime),l=i.document.createTime?Mr(i.document.createTime):X.min(),o=new We({mapValue:{fields:i.document.fields}}),u=le.newFoundDocument(r,a,l,o),f=i.targetIds||[],d=i.removedTargetIds||[];n=new Zl(f,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Cc(e,i.document),a=i.readTime?Mr(i.readTime):X.min(),l=le.newNoDocument(r,a),o=i.removedTargetIds||[];n=new Zl([],o,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Cc(e,i.document),a=i.removedTargetIds||[];n=new Zl([],a,r,null)}else{if(!("filter"in t))return Z(11601,{At:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,l=new _4(r,a),o=i.targetId;n=new J1(o,l)}}return n}function O4(e,t){return{documents:[e_(e,t.path)]}}function V4(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=e_(e,r);const a=function(f){if(f.length!==0)return r_(on.create(f,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(d=>function(m){return{field:cr(m.field),direction:j4(m.dir)}}(d))}(t.orderBy);l&&(n.structuredQuery.orderBy=l);const o=Qh(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{Vt:n,parent:r}}function M4(e){let t=N4(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){wt(i===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let a=[];n.where&&(a=function(p){const m=i_(p);return m instanceof on&&U1(m)?m.getFilters():[m]}(n.where));let l=[];n.orderBy&&(l=function(p){return p.map(m=>function(O){return new Lo(hr(O.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(m))}(n.orderBy));let o=null;n.limit&&(o=function(p){let m;return m=typeof p=="object"?p.value:p,lu(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,_=p.values||[];return new jo(_,m)}(n.startAt));let f=null;return n.endAt&&(f=function(p){const m=!p.before,_=p.values||[];return new jo(_,m)}(n.endAt)),WS(t,r,l,a,o,"F",u,f)}function I4(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z(28987,{purpose:r})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function i_(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=hr(n.unaryFilter.field);return qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=hr(n.unaryFilter.field);return qt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=hr(n.unaryFilter.field);return qt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=hr(n.unaryFilter.field);return qt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Z(61313);default:return Z(60726)}}(e):e.fieldFilter!==void 0?function(n){return qt.create(hr(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Z(58110);default:return Z(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return on.create(n.compositeFilter.filters.map(i=>i_(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Z(1026)}}(n.compositeFilter.op))}(e):Z(30097,{filter:e})}function j4(e){return b4[e]}function L4(e){return A4[e]}function U4(e){return S4[e]}function cr(e){return{fieldPath:e.canonicalString()}}function hr(e){return me.fromServerFormat(e.fieldPath)}function r_(e){return e instanceof qt?function(n){if(n.op==="=="){if(Sp(n.value))return{unaryFilter:{field:cr(n.field),op:"IS_NAN"}};if(Ap(n.value))return{unaryFilter:{field:cr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Sp(n.value))return{unaryFilter:{field:cr(n.field),op:"IS_NOT_NAN"}};if(Ap(n.value))return{unaryFilter:{field:cr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cr(n.field),op:L4(n.op),value:n.value}}}(e):e instanceof on?function(n){const i=n.getFilters().map(r=>r_(r));return i.length===1?i[0]:{compositeFilter:{op:U4(n.op),filters:i}}}(e):Z(54877,{filter:e})}function a_(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t,n,i,r,a=X.min(),l=X.min(),o=ee.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(t){return new Zn(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Zn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Zn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Zn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(t){this.gt=t}}function k4(e){const t=M4({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Hh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this.Dn=new P4}addToCollectionParentIndex(t,n){return this.Dn.add(n),j.resolve()}getCollectionParents(t,n){return j.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return j.resolve()}deleteFieldIndex(t,n){return j.resolve()}deleteAllFieldIndexes(t){return j.resolve()}createTargetIndexes(t,n){return j.resolve()}getDocumentsMatchingTarget(t,n){return j.resolve(null)}getIndexType(t,n){return j.resolve(0)}getFieldIndexes(t,n){return j.resolve([])}getNextCollectionGroupToUpdate(t){return j.resolve(null)}getMinOffset(t,n){return j.resolve(mi.min())}getMinOffsetFromCollectionGroup(t,n){return j.resolve(mi.min())}updateCollectionGroup(t,n,i){return j.resolve()}updateIndexEntries(t,n){return j.resolve()}}class P4{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new Ht(St.comparator),a=!r.has(i);return this.index[n]=r.add(i),a}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ht(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},s_=41943040;class Ee{static withCacheSize(t){return new Ee(t,Ee.DEFAULT_COLLECTION_PERCENTILE,Ee.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ee.DEFAULT_COLLECTION_PERCENTILE=10,Ee.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ee.DEFAULT=new Ee(s_,Ee.DEFAULT_COLLECTION_PERCENTILE,Ee.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ee.DISABLED=new Ee(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Jr(0)}static ur(){return new Jr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="LruGarbageCollector",q4=1048576;function Bp([e,t],[n,i]){const r=W(e,n);return r===0?W(t,i):r}class H4{constructor(t){this.Tr=t,this.buffer=new Ht(Bp),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Bp(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class G4{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){P(kp,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ca(n)?P(kp,"Ignoring IndexedDB error during garbage collection: ",n):await au(n)}await this.Rr(3e5)})}}class F4{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return j.resolve(su.ue);const i=new H4(n);return this.Vr.forEachTarget(t,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.gr(t,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.Vr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(P("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(zp)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(P("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zp):this.pr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let i,r,a,l,o,u,f;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(P("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,l=Date.now(),this.nthSequenceNumber(t,r))).next(p=>(i=p,o=Date.now(),this.removeTargets(t,i,n))).next(p=>(a=p,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(p=>(f=Date.now(),or()<=it.DEBUG&&P("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-d}ms
	Determined least recently used ${r} in `+(o-l)+`ms
	Removed ${a} targets in `+(u-o)+`ms
	Removed ${p} documents in `+(f-u)+`ms
Total Duration: ${f-d}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:p})))}}function Q4(e,t){return new F4(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(){this.changes=new Zi(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,le.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?j.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&as(i.mutation,r,Kn.empty(),Ut.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,st()).next(()=>i))}getLocalViewOfDocuments(t,n,i=st()){const r=Oi();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(a=>{let l=za();return a.forEach((o,u)=>{l=l.insert(o,u.overlayedDocument)}),l}))}getOverlayedDocuments(t,n){const i=Oi();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,st()))}populateOverlays(t,n,i){const r=[];return i.forEach(a=>{n.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(t,r).next(a=>{a.forEach((l,o)=>{n.set(l,o)})})}computeViews(t,n,i,r){let a=vi();const l=rs(),o=function(){return rs()}();return n.forEach((u,f)=>{const d=i.get(f.key);r.has(f.key)&&(d===void 0||d.mutation instanceof du)?a=a.insert(f.key,f):d!==void 0?(l.set(f.key,d.mutation.getFieldMask()),as(d.mutation,f,d.mutation.getFieldMask(),Ut.now())):l.set(f.key,Kn.empty())}),this.recalculateAndSaveOverlays(t,a).next(u=>(u.forEach((f,d)=>l.set(f,d)),n.forEach((f,d)=>{var p;return o.set(f,new X4(d,(p=l.get(f))!==null&&p!==void 0?p:null))}),o))}recalculateAndSaveOverlays(t,n){const i=rs();let r=new Mt((l,o)=>l-o),a=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(l=>{for(const o of l)o.keys().forEach(u=>{const f=n.get(u);if(f===null)return;let d=i.get(u)||Kn.empty();d=o.applyToLocalView(f,d),i.set(u,d);const p=(r.get(o.batchId)||st()).add(u);r=r.insert(o.batchId,p)})}).next(()=>{const l=[],o=r.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),f=u.key,d=u.value,p=F1();d.forEach(m=>{if(!a.has(m)){const _=K1(n.get(m),i.get(m));_!==null&&p.set(m,_),a=a.add(m)}}),l.push(this.documentOverlayCache.saveOverlays(t,f,p))}return j.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(l){return G.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):t4(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(a=>{const l=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-a.size):j.resolve(Oi());let o=bs,u=a;return l.next(f=>j.forEach(f,(d,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),a.get(d)?j.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(t,f,a)).next(()=>this.computeViews(t,u,f,st())).next(d=>({batchId:o,changes:a4(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new G(n)).next(i=>{let r=za();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const a=n.collectionGroup;let l=za();return this.indexManager.getCollectionParents(t,a).next(o=>j.forEach(o,u=>{const f=function(p,m){return new uu(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(t,f,i,r).next(d=>{d.forEach((p,m)=>{l=l.insert(p,m)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,n,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,a,r))).next(l=>{a.forEach((u,f)=>{const d=f.getKey();l.get(d)===null&&(l=l.insert(d,le.newInvalidDocument(d)))});let o=za();return l.forEach((u,f)=>{const d=a.get(u);d!==void 0&&as(d.mutation,f,Kn.empty(),Ut.now()),hu(n,f)&&(o=o.insert(u,f))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return j.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Mr(r.createTime)}}(n)),j.resolve()}getNamedQuery(t,n){return j.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,function(r){return{name:r.name,query:k4(r.bundledQuery),readTime:Mr(r.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(){this.overlays=new Mt(G.comparator),this.kr=new Map}getOverlay(t,n){return j.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Oi();return j.forEach(n,r=>this.getOverlay(t,r).next(a=>{a!==null&&i.set(r,a)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,a)=>{this.wt(t,n,a)}),j.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.kr.get(i);return r!==void 0&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.kr.delete(i)),j.resolve()}getOverlaysForCollection(t,n,i){const r=Oi(),a=n.length+1,l=new G(n.child("")),o=this.overlays.getIteratorFrom(l);for(;o.hasNext();){const u=o.getNext().value,f=u.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&u.largestBatchId>i&&r.set(u.getKey(),u)}return j.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let a=new Mt((f,d)=>f-d);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let d=a.get(f.largestBatchId);d===null&&(d=Oi(),a=a.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const o=Oi(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,d)=>o.set(f,d)),!(o.size()>=r)););return j.resolve(o)}wt(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new v4(n,i));let a=this.kr.get(n);a===void 0&&(a=st(),this.kr.set(n,a)),this.kr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.sessionToken=ee.EMPTY_BYTE_STRING}getSessionToken(t){return j.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this.qr=new Ht(Ft.Qr),this.$r=new Ht(Ft.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const i=new Ft(t,n);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Wr(new Ft(t,n))}Gr(t,n){t.forEach(i=>this.removeReference(i,n))}zr(t){const n=new G(new St([])),i=new Ft(n,t),r=new Ft(n,t+1),a=[];return this.$r.forEachInRange([i,r],l=>{this.Wr(l),a.push(l.key)}),a}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new G(new St([])),i=new Ft(n,t),r=new Ft(n,t+1);let a=st();return this.$r.forEachInRange([i,r],l=>{a=a.add(l.key)}),a}containsKey(t){const n=new Ft(t,0),i=this.qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Ft{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return G.comparator(t.key,n.key)||W(t.Hr,n.Hr)}static Ur(t,n){return W(t.Hr,n.Hr)||G.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ht(Ft.Qr)}checkEmpty(t){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new y4(a,n,i,r);this.mutationQueue.push(l);for(const o of r)this.Yr=this.Yr.add(new Ft(o.key,a)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return j.resolve(l)}lookupMutationBatch(t,n){return j.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.Xr(i),a=r<0?0:r;return j.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?VS:this.er-1)}getAllMutationBatches(t){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Ft(n,0),r=new Ft(n,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([i,r],l=>{const o=this.Zr(l.Hr);a.push(o)}),j.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Ht(W);return n.forEach(r=>{const a=new Ft(r,0),l=new Ft(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,l],o=>{i=i.add(o.Hr)})}),j.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let a=i;G.isDocumentKey(a)||(a=a.child(""));const l=new Ft(new G(a),0);let o=new Ht(W);return this.Yr.forEachWhile(u=>{const f=u.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(o=o.add(u.Hr)),!0)},l),j.resolve(this.ei(o))}ei(t){const n=[];return t.forEach(i=>{const r=this.Zr(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){wt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return j.forEach(n.mutations,r=>{const a=new Ft(r.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Yr=i})}rr(t){}containsKey(t,n){const i=new Ft(n,0),r=this.Yr.firstAfterOrEqual(i);return j.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,j.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t){this.ni=t,this.docs=function(){return new Mt(G.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),a=r?r.size:0,l=this.ni(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return j.resolve(i?i.document.mutableCopy():le.newInvalidDocument(n))}getEntries(t,n){let i=vi();return n.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():le.newInvalidDocument(r))}),j.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let a=vi();const l=n.path,o=new G(l.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:f,value:{document:d}}=u.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||CS(RS(d),i)<=0||(r.has(d.key)||hu(n,d))&&(a=a.insert(d.key,d.mutableCopy()))}return j.resolve(a)}getAllFromCollectionGroup(t,n,i,r){Z(9500)}ri(t,n){return j.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new ew(this)}getSize(t){return j.resolve(this.size)}}class ew extends Y4{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Or.addEntry(t,r)):this.Or.removeEntry(i)}),j.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(t){this.persistence=t,this.ii=new Zi(n=>ud(n),cd),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.si=0,this.oi=new md,this.targetCount=0,this._i=Jr.ar()}forEachTarget(t,n){return this.ii.forEach((i,r)=>n(r)),j.resolve()}getLastRemoteSnapshotVersion(t){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return j.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.si&&(this.si=n),j.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new Jr(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,j.resolve()}updateTargetData(t,n){return this.hr(n),j.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(t,n,i){let r=0;const a=[];return this.ii.forEach((l,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.ii.delete(l),a.push(this.removeMatchingKeysForTargetId(t,o.targetId)),r++)}),j.waitFor(a).next(()=>r)}getTargetCount(t){return j.resolve(this.targetCount)}getTargetData(t,n){const i=this.ii.get(n)||null;return j.resolve(i)}addMatchingKeys(t,n,i){return this.oi.Kr(n,i),j.resolve()}removeMatchingKeys(t,n,i){this.oi.Gr(n,i);const r=this.persistence.referenceDelegate,a=[];return r&&n.forEach(l=>{a.push(r.markPotentiallyOrphaned(t,l))}),j.waitFor(a)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),j.resolve()}getMatchingKeysForTargetId(t,n){const i=this.oi.Jr(n);return j.resolve(i)}containsKey(t,n){return j.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(t,n){this.ai={},this.overlays={},this.ui=new su(0),this.ci=!1,this.ci=!0,this.li=new J4,this.referenceDelegate=t(this),this.hi=new nw(this),this.indexManager=new B4,this.remoteDocumentCache=function(r){return new tw(r)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new z4(n),this.Ti=new Z4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new $4,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ai[t.toKey()];return i||(i=new W4(n,this.referenceDelegate),this.ai[t.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,i){P("MemoryPersistence","Starting transaction:",t);const r=new iw(this.ui.next());return this.referenceDelegate.Ii(),i(r).next(a=>this.referenceDelegate.di(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ei(t,n){return j.or(Object.values(this.ai).map(i=>()=>i.containsKey(t,n)))}}class iw extends DS{constructor(t){super(),this.currentSequenceNumber=t}}class gd{constructor(t){this.persistence=t,this.Ai=new md,this.Ri=null}static Vi(t){return new gd(t)}get mi(){if(this.Ri)return this.Ri;throw Z(60996)}addReference(t,n,i){return this.Ai.addReference(i,n),this.mi.delete(i.toString()),j.resolve()}removeReference(t,n,i){return this.Ai.removeReference(i,n),this.mi.add(i.toString()),j.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),j.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach(r=>this.mi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(a=>this.mi.add(a.toString()))}).next(()=>i.removeTargetData(t,n))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.mi,i=>{const r=G.fromPath(i);return this.fi(t,r).next(a=>{a||n.removeEntry(r,X.min())})}).next(()=>(this.Ri=null,n.apply(t)))}updateLimboDocument(t,n){return this.fi(t,n).next(i=>{i?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(t){return 0}fi(t,n){return j.or([()=>j.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class ko{constructor(t,n){this.persistence=t,this.gi=new Zi(i=>MS(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=Q4(this,n)}static Vi(t,n){return new ko(t,n)}Ii(){}di(t){return j.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}yr(t){let n=0;return this.gr(t,i=>{n++}).next(()=>n)}gr(t,n){return j.forEach(this.gi,(i,r)=>this.Sr(t,i,r).next(a=>a?j.resolve():n(r)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ri(t,l=>this.Sr(t,l,n).next(o=>{o||(i++,a.removeEntry(l,X.min()))})).next(()=>a.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),j.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.gi.set(i,t.currentSequenceNumber),j.resolve()}removeReference(t,n,i){return this.gi.set(i,t.currentSequenceNumber),j.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),j.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Xl(t.data.value)),n}Sr(t,n,i){return j.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.gi.get(n);return j.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.Is=i,this.ds=r}static Es(t,n){let i=st(),r=st();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new pd(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return Yb()?8:OS(Fb())>0?6:4}()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,i,r){const a={result:null};return this.ps(t,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ys(t,n,r,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new rw;return this.ws(t,n,l).next(o=>{if(a.result=o,this.Rs)return this.Ss(t,n,l,o.size)})}).next(()=>a.result)}Ss(t,n,i,r){return i.documentReadCount<this.Vs?(or()<=it.DEBUG&&P("QueryEngine","SDK will not create cache indexes for query:",ur(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),j.resolve()):(or()<=it.DEBUG&&P("QueryEngine","Query:",ur(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(or()<=it.DEBUG&&P("QueryEngine","The SDK decides to create cache indexes for query:",ur(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,sn(n))):j.resolve())}ps(t,n){if(Cp(n))return j.resolve(null);let i=sn(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Hh(n,null,"F"),i=sn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const l=st(...a);return this.gs.getDocuments(t,l).next(o=>this.indexManager.getMinOffset(t,i).next(u=>{const f=this.bs(n,o);return this.Ds(n,f,l,u.readTime)?this.ps(t,Hh(n,null,"F")):this.vs(t,f,n,u)}))})))}ys(t,n,i,r){return Cp(n)||r.isEqual(X.min())?j.resolve(null):this.gs.getDocuments(t,i).next(a=>{const l=this.bs(n,a);return this.Ds(n,l,i,r)?j.resolve(null):(or()<=it.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ur(n)),this.vs(t,l,n,xS(r,bs)).next(o=>o))})}bs(t,n){let i=new Ht(H1(t));return n.forEach((r,a)=>{hu(t,a)&&(i=i.add(a))}),i}Ds(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const a=t.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}ws(t,n,i){return or()<=it.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",ur(n)),this.gs.getDocumentsMatchingQuery(t,n,mi.min(),i)}vs(t,n,i,r){return this.gs.getDocumentsMatchingQuery(t,i,r).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="LocalStore",sw=3e8;class lw{constructor(t,n,i,r){this.persistence=t,this.Cs=n,this.serializer=r,this.Fs=new Mt(W),this.Ms=new Zi(a=>ud(a),cd),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(i)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new K4(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Fs))}}function ow(e,t,n,i){return new lw(e,t,n,i)}async function o_(e,t){const n=at(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,n.Ns(t),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],o=[];let u=st();for(const f of r){l.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}for(const f of a){o.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(f=>({Bs:f,removedBatchIds:l,addedBatchIds:o}))})})}function u_(e){const t=at(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.hi.getLastRemoteSnapshotVersion(n))}function uw(e,t){const n=at(e),i=t.snapshotVersion;let r=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Os.newChangeBuffer({trackRemovals:!0});r=n.Fs;const o=[];t.targetChanges.forEach((d,p)=>{const m=r.get(p);if(!m)return;o.push(n.hi.removeMatchingKeys(a,d.removedDocuments,p).next(()=>n.hi.addMatchingKeys(a,d.addedDocuments,p)));let _=m.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(p)!==null?_=_.withResumeToken(ee.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,i)),r=r.insert(p,_),function(V,I,T){return V.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=sw?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,_,d)&&o.push(n.hi.updateTargetData(a,_))});let u=vi(),f=st();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,d))}),o.push(cw(a,l,t.documentUpdates).next(d=>{u=d.Ls,f=d.ks})),!i.isEqual(X.min())){const d=n.hi.getLastRemoteSnapshotVersion(a).next(p=>n.hi.setTargetsMetadata(a,a.currentSequenceNumber,i));o.push(d)}return j.waitFor(o).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,u,f)).next(()=>u)}).then(a=>(n.Fs=r,a))}function cw(e,t,n){let i=st(),r=st();return n.forEach(a=>i=i.add(a)),t.getEntries(e,i).next(a=>{let l=vi();return n.forEach((o,u)=>{const f=a.get(o);u.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(o)),u.isNoDocument()&&u.version.isEqual(X.min())?(t.removeEntry(o,u.readTime),l=l.insert(o,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(u),l=l.insert(o,u)):P(yd,"Ignoring outdated watch update for ",o,". Current version:",f.version," Watch version:",u.version)}),{Ls:l,ks:r}})}function hw(e,t){const n=at(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.hi.getTargetData(i,t).next(a=>a?(r=a,j.resolve(r)):n.hi.allocateTargetId(i).next(l=>(r=new Zn(t,l,"TargetPurposeListen",i.currentSequenceNumber),n.hi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(i.targetId,i),n.Ms.set(t,i.targetId)),i})}async function Xh(e,t,n){const i=at(e),r=i.Fs.get(t),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,r))}catch(l){if(!ca(l))throw l;P(yd,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Fs=i.Fs.remove(t),i.Ms.delete(r.target)}function Pp(e,t,n){const i=at(e);let r=X.min(),a=st();return i.persistence.runTransaction("Execute query","readwrite",l=>function(u,f,d){const p=at(u),m=p.Ms.get(d);return m!==void 0?j.resolve(p.Fs.get(m)):p.hi.getTargetData(f,d)}(i,l,sn(t)).next(o=>{if(o)return r=o.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(l,o.targetId).next(u=>{a=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(l,t,n?r:X.min(),n?a:st())).next(o=>(fw(i,n4(t),o),{documents:o,qs:a})))}function fw(e,t,n){let i=e.xs.get(t)||X.min();n.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),e.xs.set(t,i)}class qp{constructor(){this.activeTargetIds=o4()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class dw{constructor(){this.Fo=new qp,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,i){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new qp,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="ConnectivityMonitor";class Gp{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){P(Hp,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){P(Hp,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl=null;function Kh(){return Vl===null?Vl=function(){return 268435456+Math.round(2147483648*Math.random())}():Vl++,"0x"+Vl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc="RestConnection",gw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pw{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===Io?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(t,n,i,r,a){const l=Kh(),o=this.Go(t,n.toUriEncodedString());P(Nc,`Sending RPC '${t}' ${l}:`,o,i);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,r,a);const{host:f}=new URL(o),d=rd(f);return this.jo(t,o,u,i,d).then(p=>(P(Nc,`Received RPC '${t}' ${l}: `,p),p),p=>{throw di(Nc,`RPC '${t}' ${l} failed with error: `,p,"url: ",o,"request:",i),p})}Jo(t,n,i,r,a,l){return this.Wo(t,n,i,r,a)}zo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ua}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,a)=>t[a]=r),i&&i.headers.forEach((r,a)=>t[a]=r)}Go(t,n){const i=gw[t];return`${this.$o}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae="WebChannelConnection";class vw extends pw{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,i,r,a){const l=Kh();return new Promise((o,u)=>{const f=new E1;f.setWithCredentials(!0),f.listenOnce(T1.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Yl.NO_ERROR:const p=f.getResponseJson();P(ae,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(p)),o(p);break;case Yl.TIMEOUT:P(ae,`RPC '${t}' ${l} timed out`),u(new H(k.DEADLINE_EXCEEDED,"Request time out"));break;case Yl.HTTP_ERROR:const m=f.getStatus();if(P(ae,`RPC '${t}' ${l} failed with status:`,m,"response text:",f.getResponseText()),m>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const O=_==null?void 0:_.error;if(O&&O.status&&O.message){const V=function(T){const E=T.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(E)>=0?E:k.UNKNOWN}(O.status);u(new H(V,O.message))}else u(new H(k.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new H(k.UNAVAILABLE,"Connection failed."));break;default:Z(9055,{c_:t,streamId:l,l_:f.getLastErrorCode(),h_:f.getLastError()})}}finally{P(ae,`RPC '${t}' ${l} completed.`)}});const d=JSON.stringify(r);P(ae,`RPC '${t}' ${l} sending request:`,r),f.send(n,"POST",d,i,15)})}P_(t,n,i){const r=Kh(),a=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=S1(),o=A1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=a.join("");P(ae,`Creating RPC '${t}' stream ${r}: ${d}`,u);const p=l.createWebChannel(d,u);this.T_(p);let m=!1,_=!1;const O=new yw({Ho:I=>{_?P(ae,`Not sending because RPC '${t}' stream ${r} is closed:`,I):(m||(P(ae,`Opening RPC '${t}' stream ${r} transport.`),p.open(),m=!0),P(ae,`RPC '${t}' stream ${r} sending:`,I),p.send(I))},Yo:()=>p.close()}),V=(I,T,E)=>{I.listen(T,S=>{try{E(S)}catch(C){setTimeout(()=>{throw C},0)}})};return V(p,Ua.EventType.OPEN,()=>{_||(P(ae,`RPC '${t}' stream ${r} transport opened.`),O.s_())}),V(p,Ua.EventType.CLOSE,()=>{_||(_=!0,P(ae,`RPC '${t}' stream ${r} transport closed`),O.__(),this.I_(p))}),V(p,Ua.EventType.ERROR,I=>{_||(_=!0,di(ae,`RPC '${t}' stream ${r} transport errored. Name:`,I.name,"Message:",I.message),O.__(new H(k.UNAVAILABLE,"The operation could not be completed")))}),V(p,Ua.EventType.MESSAGE,I=>{var T;if(!_){const E=I.data[0];wt(!!E,16349);const S=E,C=(S==null?void 0:S.error)||((T=S[0])===null||T===void 0?void 0:T.error);if(C){P(ae,`RPC '${t}' stream ${r} received error:`,C);const U=C.status;let q=function(A){const w=jt[A];if(w!==void 0)return $1(w)}(U),b=C.message;q===void 0&&(q=k.INTERNAL,b="Unknown error status: "+U+" with message "+C.message),_=!0,O.__(new H(q,b)),p.close()}else P(ae,`RPC '${t}' stream ${r} received:`,E),O.a_(E)}}),V(o,b1.STAT_EVENT,I=>{I.stat===Ih.PROXY?P(ae,`RPC '${t}' stream ${r} detected buffering proxy`):I.stat===Ih.NOPROXY&&P(ae,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{O.o_()},0),O}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(n=>n===t)}}function Dc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(e){return new w4(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(t,n,i=1e3,r=1.5,a=6e4){this.Fi=t,this.timerId=n,this.d_=i,this.E_=r,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,n-i);r>0&&P("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="PersistentStream";class _w{constructor(t,n,i,r,a,l,o,u){this.Fi=t,this.w_=i,this.S_=r,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new h_(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(On(n.toString()),On("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.b_===n&&this.W_(i,r)},i=>{t(()=>{const r=new H(k.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)})})}W_(t,n){const i=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(r=>{i(()=>this.G_(r))}),this.stream.onMessage(r=>{i(()=>++this.C_==1?this.j_(r):this.onNext(r))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return P(Fp,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget(()=>this.b_===t?n():(P(Fp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ew extends _w{constructor(t,n,i,r,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,l),this.serializer=a}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=D4(this.serializer,t),i=function(a){if(!("targetChange"in a))return X.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?X.min():l.readTime?Mr(l.readTime):X.min()}(t);return this.listener.J_(n,i)}H_(t){const n={};n.database=Up(this.serializer),n.addTarget=function(a,l){let o;const u=l.target;if(o=qh(u)?{documents:O4(a,u)}:{query:V4(a,u).Vt},o.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){o.resumeToken=R4(a,l.resumeToken);const f=Qh(a,l.expectedCount);f!==null&&(o.expectedCount=f)}else if(l.snapshotVersion.compareTo(X.min())>0){o.readTime=x4(a,l.snapshotVersion.toTimestamp());const f=Qh(a,l.expectedCount);f!==null&&(o.expectedCount=f)}return o}(this.serializer,t);const i=I4(this.serializer,t);i&&(n.labels=i),this.k_(n)}Y_(t){const n={};n.database=Up(this.serializer),n.removeTarget=t,this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{}class bw extends Tw{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new H(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Wo(t,Yh(n,i),r,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new H(k.UNKNOWN,a.toString())})}Jo(t,n,i,r,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,o])=>this.connection.Jo(t,Yh(n,i),r,l,o,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new H(k.UNKNOWN,l.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Aw{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(On(n),this._a=!1):P("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="RemoteStore";class Sw{constructor(t,n,i,r,a){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo(l=>{i.enqueueAndForget(async()=>{Ys(this)&&(P(Wr,"Restarting streams for network reachability change."),await async function(u){const f=at(u);f.Ia.add(4),await Qs(f),f.Aa.set("Unknown"),f.Ia.delete(4),await gu(f)}(this))})}),this.Aa=new Aw(i,r)}}async function gu(e){if(Ys(e))for(const t of e.da)await t(!0)}async function Qs(e){for(const t of e.da)await t(!1)}function f_(e,t){const n=at(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Td(n)?Ed(n):ha(n).x_()&&_d(n,t))}function vd(e,t){const n=at(e),i=ha(n);n.Ta.delete(t),i.x_()&&d_(n,t),n.Ta.size===0&&(i.x_()?i.B_():Ys(n)&&n.Aa.set("Unknown"))}function _d(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(X.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ha(e).H_(t)}function d_(e,t){e.Ra.$e(t),ha(e).Y_(t)}function Ed(e){e.Ra=new T4({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),ha(e).start(),e.Aa.aa()}function Td(e){return Ys(e)&&!ha(e).M_()&&e.Ta.size>0}function Ys(e){return at(e).Ia.size===0}function m_(e){e.Ra=void 0}async function ww(e){e.Aa.set("Online")}async function xw(e){e.Ta.forEach((t,n)=>{_d(e,t)})}async function Rw(e,t){m_(e),Td(e)?(e.Aa.la(t),Ed(e)):e.Aa.set("Unknown")}async function Cw(e,t,n){if(e.Aa.set("Online"),t instanceof W1&&t.state===2&&t.cause)try{await async function(r,a){const l=a.cause;for(const o of a.targetIds)r.Ta.has(o)&&(await r.remoteSyncer.rejectListen(o,l),r.Ta.delete(o),r.Ra.removeTarget(o))}(e,t)}catch(i){P(Wr,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Qp(e,i)}else if(t instanceof Zl?e.Ra.Ye(t):t instanceof J1?e.Ra.it(t):e.Ra.et(t),!n.isEqual(X.min()))try{const i=await u_(e.localStore);n.compareTo(i)>=0&&await function(a,l){const o=a.Ra.Pt(l);return o.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const d=a.Ta.get(f);d&&a.Ta.set(f,d.withResumeToken(u.resumeToken,l))}}),o.targetMismatches.forEach((u,f)=>{const d=a.Ta.get(u);if(!d)return;a.Ta.set(u,d.withResumeToken(ee.EMPTY_BYTE_STRING,d.snapshotVersion)),d_(a,u);const p=new Zn(d.target,u,f,d.sequenceNumber);_d(a,p)}),a.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(i){P(Wr,"Failed to raise snapshot:",i),await Qp(e,i)}}async function Qp(e,t,n){if(!ca(t))throw t;e.Ia.add(1),await Qs(e),e.Aa.set("Offline"),n||(n=()=>u_(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{P(Wr,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await gu(e)})}async function Yp(e,t){const n=at(e);n.asyncQueue.verifyOperationInProgress(),P(Wr,"RemoteStore received new credentials");const i=Ys(n);n.Ia.add(3),await Qs(n),i&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await gu(n)}async function Nw(e,t){const n=at(e);t?(n.Ia.delete(2),await gu(n)):t||(n.Ia.add(2),await Qs(n),n.Aa.set("Unknown"))}function ha(e){return e.Va||(e.Va=function(n,i,r){const a=at(n);return a.ia(),new Ew(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(e.datastore,e.asyncQueue,{Zo:ww.bind(null,e),e_:xw.bind(null,e),n_:Rw.bind(null,e),J_:Cw.bind(null,e)}),e.da.push(async t=>{t?(e.Va.N_(),Td(e)?Ed(e):e.Aa.set("Unknown")):(await e.Va.stop(),m_(e))})),e.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(t,n,i,r,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,a){const l=Date.now()+i,o=new bd(t,n,l,r,a);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(k.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function g_(e,t){if(On("AsyncQueue",`${t}: ${e}`),ca(e))return new H(k.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{static emptySet(t){return new Ir(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=za(),this.sortedSet=new Mt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ir)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Ir;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this.fa=new Mt(G.comparator)}track(t){const n=t.doc.key,i=this.fa.get(n);i?t.type!==0&&i.type===3?this.fa=this.fa.insert(n,t):t.type===3&&i.type!==1?this.fa=this.fa.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.fa=this.fa.remove(n):t.type===1&&i.type===2?this.fa=this.fa.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):Z(63341,{At:t,ga:i}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal((n,i)=>{t.push(i)}),t}}class ta{constructor(t,n,i,r,a,l,o,u,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(t,n,i,r,a){const l=[];return n.forEach(o=>{l.push({type:0,doc:o})}),new ta(t,n,Ir.emptySet(n),l,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&cu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class Ow{constructor(){this.queries=Kp(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,i){const r=at(n),a=r.queries;r.queries=Kp(),a.forEach((l,o)=>{for(const u of o.wa)u.onError(i)})})(this,new H(k.ABORTED,"Firestore shutting down"))}}function Kp(){return new Zi(e=>q1(e),cu)}async function Vw(e,t){const n=at(e);let i=3;const r=t.query;let a=n.queries.get(r);a?!a.Sa()&&t.ba()&&(i=2):(a=new Dw,i=t.ba()?0:1);try{switch(i){case 0:a.ya=await n.onListen(r,!0);break;case 1:a.ya=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(l){const o=g_(l,`Initialization of query '${ur(t.query)}' failed`);return void t.onError(o)}n.queries.set(r,a),a.wa.push(t),t.va(n.onlineState),a.ya&&t.Ca(a.ya)&&Ad(n)}async function Mw(e,t){const n=at(e),i=t.query;let r=3;const a=n.queries.get(i);if(a){const l=a.wa.indexOf(t);l>=0&&(a.wa.splice(l,1),a.wa.length===0?r=t.ba()?0:1:!a.Sa()&&t.ba()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Iw(e,t){const n=at(e);let i=!1;for(const r of t){const a=r.query,l=n.queries.get(a);if(l){for(const o of l.wa)o.Ca(r)&&(i=!0);l.ya=r}}i&&Ad(n)}function jw(e,t,n){const i=at(e),r=i.queries.get(t);if(r)for(const a of r.wa)a.onError(n);i.queries.delete(t)}function Ad(e){e.Da.forEach(t=>{t.next()})}var Zh,Zp;(Zp=Zh||(Zh={})).Fa="default",Zp.Cache="cache";class Lw{constructor(t,n,i){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new ta(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const i=n!=="Offline";return(!this.options.ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=ta.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==Zh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(t){this.key=t}}class y_{constructor(t){this.key=t}}class Uw{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=st(),this.mutatedKeys=st(),this.Xa=H1(t),this.eu=new Ir(this.Xa)}get tu(){return this.Ha}nu(t,n){const i=n?n.ru:new Xp,r=n?n.eu:this.eu;let a=n?n.mutatedKeys:this.mutatedKeys,l=r,o=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,p)=>{const m=r.get(d),_=hu(this.query,p)?p:null,O=!!m&&this.mutatedKeys.has(m.key),V=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let I=!1;m&&_?m.data.isEqual(_.data)?O!==V&&(i.track({type:3,doc:_}),I=!0):this.iu(m,_)||(i.track({type:2,doc:_}),I=!0,(u&&this.Xa(_,u)>0||f&&this.Xa(_,f)<0)&&(o=!0)):!m&&_?(i.track({type:0,doc:_}),I=!0):m&&!_&&(i.track({type:1,doc:m}),I=!0,(u||f)&&(o=!0)),I&&(_?(l=l.add(_),a=V?a.add(d):a.delete(d)):(l=l.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const d=this.query.limitType==="F"?l.last():l.first();l=l.delete(d.key),a=a.delete(d.key),i.track({type:1,doc:d})}return{eu:l,ru:i,Ds:o,mutatedKeys:a}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const a=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const l=t.ru.pa();l.sort((d,p)=>function(_,O){const V=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z(20277,{At:I})}};return V(_)-V(O)}(d.type,p.type)||this.Xa(d.doc,p.doc)),this.su(i),r=r!=null&&r;const o=n&&!r?this.ou():[],u=this.Za.size===0&&this.current&&!r?1:0,f=u!==this.Ya;return this.Ya=u,l.length!==0||f?{snapshot:new ta(this.query,t.eu,a,l,t.mutatedKeys,u===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:o}:{_u:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Xp,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=st(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const n=[];return t.forEach(i=>{this.Za.has(i)||n.push(new y_(i))}),this.Za.forEach(i=>{t.has(i)||n.push(new p_(i))}),n}uu(t){this.Ha=t.qs,this.Za=st();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return ta.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Sd="SyncEngine";class zw{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class kw{constructor(t){this.key=t,this.lu=!1}}class Bw{constructor(t,n,i,r,a,l){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new Zi(o=>q1(o),cu),this.Tu=new Map,this.Iu=new Set,this.du=new Mt(G.comparator),this.Eu=new Map,this.Au=new md,this.Ru={},this.Vu=new Map,this.mu=Jr.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Pw(e,t,n=!0){const i=b_(e);let r;const a=i.Pu.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.cu()):r=await v_(i,t,n,!0),r}async function qw(e,t){const n=b_(e);await v_(n,t,!0,!1)}async function v_(e,t,n,i){const r=await hw(e.localStore,sn(t)),a=r.targetId,l=e.sharedClientState.addLocalQueryTarget(a,n);let o;return i&&(o=await Hw(e,t,a,l==="current",r.resumeToken)),e.isPrimaryClient&&n&&f_(e.remoteStore,r),o}async function Hw(e,t,n,i,r){e.gu=(p,m,_)=>async function(V,I,T,E){let S=I.view.nu(T);S.Ds&&(S=await Pp(V.localStore,I.query,!1).then(({documents:b})=>I.view.nu(b,S)));const C=E&&E.targetChanges.get(I.targetId),U=E&&E.targetMismatches.get(I.targetId)!=null,q=I.view.applyChanges(S,V.isPrimaryClient,C,U);return Jp(V,I.targetId,q._u),q.snapshot}(e,p,m,_);const a=await Pp(e.localStore,t,!0),l=new Uw(t,a.qs),o=l.nu(a.documents),u=Fs.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),f=l.applyChanges(o,e.isPrimaryClient,u);Jp(e,n,f._u);const d=new zw(t,n,l);return e.Pu.set(t,d),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),f.snapshot}async function Gw(e,t,n){const i=at(e),r=i.Pu.get(t),a=i.Tu.get(r.targetId);if(a.length>1)return i.Tu.set(r.targetId,a.filter(l=>!cu(l,t))),void i.Pu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Xh(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&vd(i.remoteStore,r.targetId),$h(i,r.targetId)}).catch(au)):($h(i,r.targetId),await Xh(i.localStore,r.targetId,!0))}async function Fw(e,t){const n=at(e),i=n.Pu.get(t),r=n.Tu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),vd(n.remoteStore,i.targetId))}async function __(e,t){const n=at(e);try{const i=await uw(n.localStore,t);t.targetChanges.forEach((r,a)=>{const l=n.Eu.get(a);l&&(wt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.lu=!0:r.modifiedDocuments.size>0?wt(l.lu,14607):r.removedDocuments.size>0&&(wt(l.lu,42227),l.lu=!1))}),await T_(n,i,t)}catch(i){await au(i)}}function $p(e,t,n){const i=at(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Pu.forEach((a,l)=>{const o=l.view.va(t);o.snapshot&&r.push(o.snapshot)}),function(l,o){const u=at(l);u.onlineState=o;let f=!1;u.queries.forEach((d,p)=>{for(const m of p.wa)m.va(o)&&(f=!0)}),f&&Ad(u)}(i.eventManager,t),r.length&&i.hu.J_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function Qw(e,t,n){const i=at(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Eu.get(t),a=r&&r.key;if(a){let l=new Mt(G.comparator);l=l.insert(a,le.newNoDocument(a,X.min()));const o=st().add(a),u=new mu(X.min(),new Map,new Mt(W),l,o);await __(i,u),i.du=i.du.remove(a),i.Eu.delete(t),wd(i)}else await Xh(i.localStore,t,!1).then(()=>$h(i,t,n)).catch(au)}function $h(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Tu.get(t))e.Pu.delete(i),n&&e.hu.pu(i,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach(i=>{e.Au.containsKey(i)||E_(e,i)})}function E_(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(vd(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),wd(e))}function Jp(e,t,n){for(const i of n)i instanceof p_?(e.Au.addReference(i.key,t),Yw(e,i)):i instanceof y_?(P(Sd,"Document no longer in limbo: "+i.key),e.Au.removeReference(i.key,t),e.Au.containsKey(i.key)||E_(e,i.key)):Z(19791,{yu:i})}function Yw(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Iu.has(i)||(P(Sd,"New document in limbo: "+n),e.Iu.add(i),wd(e))}function wd(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new G(St.fromString(t)),i=e.mu.next();e.Eu.set(i,new kw(n)),e.du=e.du.insert(n,i),f_(e.remoteStore,new Zn(sn(P1(n.path)),i,"TargetPurposeLimboResolution",su.ue))}}async function T_(e,t,n){const i=at(e),r=[],a=[],l=[];i.Pu.isEmpty()||(i.Pu.forEach((o,u)=>{l.push(i.gu(u,t,n).then(f=>{var d;if((f||n)&&i.isPrimaryClient){const p=f?!f.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(f){r.push(f);const p=pd.Es(u.targetId,f);a.push(p)}}))}),await Promise.all(l),i.hu.J_(r),await async function(u,f){const d=at(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>j.forEach(f,m=>j.forEach(m.Is,_=>d.persistence.referenceDelegate.addReference(p,m.targetId,_)).next(()=>j.forEach(m.ds,_=>d.persistence.referenceDelegate.removeReference(p,m.targetId,_)))))}catch(p){if(!ca(p))throw p;P(yd,"Failed to update sequence numbers: "+p)}for(const p of f){const m=p.targetId;if(!p.fromCache){const _=d.Fs.get(m),O=_.snapshotVersion,V=_.withLastLimboFreeSnapshotVersion(O);d.Fs=d.Fs.insert(m,V)}}}(i.localStore,a))}async function Xw(e,t){const n=at(e);if(!n.currentUser.isEqual(t)){P(Sd,"User change. New user:",t.toKey());const i=await o_(n.localStore,t);n.currentUser=t,function(a,l){a.Vu.forEach(o=>{o.forEach(u=>{u.reject(new H(k.CANCELLED,l))})}),a.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await T_(n,i.Bs)}}function Kw(e,t){const n=at(e),i=n.Eu.get(t);if(i&&i.lu)return st().add(i.key);{let r=st();const a=n.Tu.get(t);if(!a)return r;for(const l of a){const o=n.Pu.get(l);r=r.unionWith(o.view.tu)}return r}}function b_(e){const t=at(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=__.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Qw.bind(null,t),t.hu.J_=Iw.bind(null,t.eventManager),t.hu.pu=jw.bind(null,t.eventManager),t}class Bo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=c_(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return ow(this.persistence,new aw,t.initialUser,this.serializer)}Du(t){return new l_(gd.Vi,this.serializer)}bu(t){return new dw}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bo.provider={build:()=>new Bo};class Zw extends Bo{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){wt(this.persistence.referenceDelegate instanceof ko,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new G4(i,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?Ee.withCacheSize(this.cacheSizeBytes):Ee.DEFAULT;return new l_(i=>ko.Vi(i,n),this.serializer)}}class Jh{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>$p(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Xw.bind(null,this.syncEngine),await Nw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Ow}()}createDatastore(t){const n=c_(t.databaseInfo.databaseId),i=function(a){return new vw(a)}(t.databaseInfo);return function(a,l,o,u){return new bw(a,l,o,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,a,l,o){return new Sw(i,r,a,l,o)}(this.localStore,this.datastore,t.asyncQueue,n=>$p(this.syncEngine,n,0),function(){return Gp.C()?new Gp:new mw}())}createSyncEngine(t,n){return function(r,a,l,o,u,f,d){const p=new Bw(r,a,l,o,u,f);return d&&(p.fu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const a=at(r);P(Wr,"RemoteStore shutting down."),a.Ia.add(5),await Qs(a),a.Ea.shutdown(),a.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Jh.provider={build:()=>new Jh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):On("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="FirestoreClient";class Jw{constructor(t,n,i,r,a){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=se.UNAUTHENTICATED,this.clientId=C1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{P(_i,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(P(_i,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=g_(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Oc(e,t){e.asyncQueue.verifyOperationInProgress(),P(_i,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await o_(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>{di("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then(()=>{P("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(r=>{di("Terminating Firestore due to IndexedDb database deletion failed",r)})}),e._offlineComponents=t}async function Wp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Ww(e);P(_i,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>Yp(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>Yp(t.remoteStore,r)),e._onlineComponents=t}async function Ww(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){P(_i,"Using user provided OfflineComponentProvider");try{await Oc(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===k.FAILED_PRECONDITION||r.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;di("Error using user provided cache. Falling back to memory cache: "+n),await Oc(e,new Bo)}}else P(_i,"Using default OfflineComponentProvider"),await Oc(e,new Zw(void 0));return e._offlineComponents}async function tx(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(P(_i,"Using user provided OnlineComponentProvider"),await Wp(e,e._uninitializedComponentsProvider._online)):(P(_i,"Using default OnlineComponentProvider"),await Wp(e,new Jh))),e._onlineComponents}async function ex(e){const t=await tx(e),n=t.eventManager;return n.onListen=Pw.bind(null,t.syncEngine),n.onUnlisten=Gw.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=qw.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Fw.bind(null,t.syncEngine),n}function nx(e,t,n={}){const i=new ki;return e.asyncQueue.enqueueAndForget(async()=>function(a,l,o,u,f){const d=new $w({next:m=>{d.Ou(),l.enqueueAndForget(()=>Mw(a,p)),m.fromCache&&u.source==="server"?f.reject(new H(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(m)},error:m=>f.reject(m)}),p=new Lw(o,d,{includeMetadataChanges:!0,ka:!0});return Vw(a,p)}(await ex(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="firestore.googleapis.com",ey=!0;class ny{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new H(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=S_,this.ssl=ey}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:ey;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=s_;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<q4)throw new H(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}AS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A_((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xd{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ny({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new H(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ny(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new mS;switch(i.type){case"firstParty":return new vS(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new H(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=ty.get(n);i&&(P("ComponentProvider","Removing Datastore"),ty.delete(n),i.terminate())}(this),Promise.resolve()}}function ix(e,t,n,i={}){var r;e=Lh(e,xd);const a=rd(t),l=e._getSettings(),o=Object.assign(Object.assign({},l),{emulatorOptions:e._getEmulatorOptions()}),u=`${t}:${n}`;a&&(Bb(`https://${u}`),Gb("Firestore",!0)),l.host!==S_&&l.host!==u&&di("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:u,ssl:a,emulatorOptions:i});if(!Oo(f,o)&&(e._setSettings(f),i.mockUserToken)){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=se.MOCK_USER;else{d=Pb(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new H(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new se(m)}e._authCredentials=new gS(new x1(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new pu(this.firestore,t,this._query)}}class Pe{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pe(this.firestore,t,this._key)}toJSON(){return{type:Pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(Hs(n,Pe._jsonSchema))return new Pe(t,i||null,new G(St.fromString(n.referencePath)))}}Pe._jsonSchemaVersion="firestore/documentReference/1.0",Pe._jsonSchema={type:zt("string",Pe._jsonSchemaVersion),referencePath:zt("string")};class jr extends pu{constructor(t,n,i){super(t,n,P1(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pe(this.firestore,null,new G(t))}withConverter(t){return new jr(this.firestore,t,this._path)}}function rx(e,t,...n){if(e=Wb(e),e instanceof xd){const i=St.fromString(t,...n);return gp(i),new jr(e,null,i)}{if(!(e instanceof Pe||e instanceof jr))throw new H(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(St.fromString(t,...n));return gp(i),new jr(e.firestore,null,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="AsyncQueue";class ry{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new h_(this,"async_queue_retry"),this.oc=()=>{const i=Dc();i&&P(iy,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=t;const n=Dc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=Dc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new ki;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!ca(t))throw t;P(iy,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const n=this._c.then(()=>(this.nc=!0,t().catch(i=>{throw this.tc=i,this.nc=!1,On("INTERNAL UNHANDLED ERROR: ",ay(i)),i}).then(i=>(this.nc=!1,i))));return this._c=n,n}enqueueAfterDelay(t,n,i){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const r=bd.createAndSchedule(this,t,n,i,a=>this.lc(a));return this.ec.push(r),r}ac(){this.tc&&Z(47125,{hc:ay(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function ay(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class w_ extends xd{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new ry,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ry(t),this._firestoreClient=void 0,await t}}}function ax(e,t){const n=typeof e=="object"?e:eS(),i=typeof e=="string"?e:Io,r=ZA(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=zb("firestore");a&&ix(r,...a)}return r}function sx(e){if(e._terminated)throw new H(k.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||lx(e),e._firestoreClient}function lx(e){var t,n,i;const r=e._freezeSettings(),a=function(o,u,f,d){return new US(o,u,f,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,A_(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new Jw(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new tn(ee.fromBase64String(t))}catch(n){throw new H(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new tn(ee.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:tn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hs(t,tn._jsonSchema))return tn.fromBase64String(t.bytes)}}tn._jsonSchemaVersion="firestore/bytes/1.0",tn._jsonSchema={type:zt("string",tn._jsonSchemaVersion),bytes:zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new H(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new me(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new H(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new H(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return W(this._lat,t._lat)||W(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:oi._jsonSchemaVersion}}static fromJSON(t){if(Hs(t,oi._jsonSchema))return new oi(t.latitude,t.longitude)}}oi._jsonSchemaVersion="firestore/geoPoint/1.0",oi._jsonSchema={type:zt("string",oi._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hs(t,ui._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new ui(t.vectorValues);throw new H(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ui._jsonSchemaVersion="firestore/vectorValue/1.0",ui._jsonSchema={type:zt("string",ui._jsonSchemaVersion),vectorValues:zt("object")};const ox=new RegExp("[~\\*/\\[\\]]");function ux(e,t,n){if(t.search(ox)>=0)throw sy(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new x_(...t.split("."))._internalPath}catch{throw sy(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function sy(e,t,n,i,r){let a=`Function ${t}() called with invalid data`;a+=". ";let l="";return new H(k.INVALID_ARGUMENT,a+e+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(t,n,i,r,a){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new cx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(C_("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cx extends R_{data(){return super.data()}}function C_(e,t){return typeof t=="string"?ux(e,t):t instanceof x_?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new H(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fx{convertValue(t,n="none"){switch(yi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Vt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(pi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Z(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Gs(t,(r,a)=>{i[r]=this.convertValue(a,n)}),i}convertVectorValue(t){var n,i,r;const a=(r=(i=(n=t.fields)===null||n===void 0?void 0:n[zh].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(l=>Vt(l.doubleValue));return new ui(a)}convertGeoPoint(t){return new oi(Vt(t.latitude),Vt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=ou(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(As(t));default:return null}}convertTimestamp(t){const n=gi(t);return new Ut(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=St.fromString(t);wt(a_(i),9688,{name:t});const r=new Ss(i.get(1),i.get(3)),a=new G(i.popFirst(5));return r.isEqual(n)||On(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}class Ml{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Lr extends R_{constructor(t,n,i,r,a,l){super(t,n,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new $l(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(C_("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Lr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Lr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Lr._jsonSchema={type:zt("string",Lr._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class $l extends Lr{data(t={}){return super.data(t)}}class Ur{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new Ml(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new $l(this._firestore,this._userDataWriter,i.key,i,new Ml(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(o=>{const u=new $l(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ml(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:l++}})}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const u=new $l(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ml(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,d=-1;return o.type!==0&&(f=l.indexOf(o.doc.key),l=l.delete(o.doc.key)),o.type!==1&&(l=l.add(o.doc),d=l.indexOf(o.doc.key)),{type:dx(o.type),doc:u,oldIndex:f,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ur._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=C1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function dx(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z(61501,{type:e})}}Ur._jsonSchemaVersion="firestore/querySnapshot/1.0",Ur._jsonSchema={type:zt("string",Ur._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class mx extends fx{constructor(t){super(),this.firestore=t}convertBytes(t){return new tn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Pe(this.firestore,null,n)}}function gx(e){e=Lh(e,pu);const t=Lh(e.firestore,w_),n=sx(t),i=new mx(t);return hx(e._query),nx(n,e._query).then(r=>new Ur(t,i,e,r))}(function(t,n=!0){(function(r){ua=r})(tS),Mo(new Es("firestore",(i,{instanceIdentifier:r,options:a})=>{const l=i.getProvider("app").getImmediate(),o=new w_(new pS(i.getProvider("auth-internal")),new _S(l,i.getProvider("app-check-internal")),function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new H(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ss(f.options.projectId,d)}(l,r),l);return a=Object.assign({useFetchStreams:n},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Vr(cp,hp,t),Vr(cp,hp,"esm2017")})();const px={apiKey:"AIzaSyBv6ezhW0wygSNVkO3DTqI1DISyaGP7lGE",authDomain:"lilutecno-pagina-web.firebaseapp.com",projectId:"lilutecno-pagina-web",storageBucket:"lilutecno-pagina-web.appspot.com",messagingSenderId:"907793758364",appId:"1:907793758364:web:ba94a732c669cbee70d559"},yx=p1(px),vx=ax(yx),_x=()=>{const[e,t]=Y.useState([]),[n,i]=Y.useState([]),[r,a]=Y.useState([]),[l,o]=Y.useState(Ch),[u,f]=Y.useState(!0);Y.useEffect(()=>{(async()=>{f(!0);try{const I=rx(vx,"products"),E=(await gx(I)).docs.map(C=>{const U=C.data();return{id:C.id,name:U.name,price:U.price,old_price:U.old_price,category:U.category,stock:U.stock,summary:U.summary,images:U.images,features:U.features}});t(E);const S=[...new Set(E.map(C=>C.category))].sort();a(S)}catch(I){console.error("Error al obtener los productos desde Firebase:",I)}finally{f(!1)}})()},[]);const d=Y.useCallback(()=>{const{searchTerm:V,category:I,priceRange:T,stockOnly:E}=l;let S=[...e];if(V){const C=V.toLowerCase();S=S.filter(U=>U.name.toLowerCase().includes(C)||U.summary&&U.summary.toLowerCase().includes(C))}I&&(S=S.filter(C=>C.category===I)),S=S.filter(C=>C.price>=T.min&&C.price<=T.max),E&&(S=S.filter(C=>C.stock>0)),i(S)},[e,l]);Y.useEffect(()=>{d()},[e,l,d]);const p=Y.useCallback(V=>{o(I=>({...I,...V}))},[]),m=Y.useCallback(V=>{o(I=>({...I,priceRange:V}))},[]),_=Y.useCallback(()=>{o(Ch)},[]),O=n.filter(V=>V.old_price&&V.old_price>V.price).length;return{filteredProducts:n,categories:r,filters:l,handleSetFilters:p,handlePriceRangeChange:m,clearFilters:_,productsOnOfferCount:O,totalAvailableCount:n.length,loading:u}},Ex=()=>{const[e,t]=Y.useState(null),[n,i]=Y.useState(!1),[r,a]=Y.useState(!1),[l,o]=Y.useState(!0),u=Y.useRef(0);Y.useEffect(()=>{const V=()=>{const I=window.scrollY;I>u.current&&I>150?o(!1):o(!0),u.current=I};return window.addEventListener("scroll",V,{passive:!0}),()=>{window.removeEventListener("scroll",V)}},[]);const f=Y.useCallback(V=>{t(V)},[]);return{selectedProduct:e,isCartModalOpen:n,isMobileFiltersModalOpen:r,isHeaderVisible:l,onProductClick:f,closeProductModal:()=>t(null),openCartModal:()=>i(!0),closeCartModal:()=>i(!1),openMobileFiltersModal:()=>a(!0),closeMobileFiltersModal:()=>a(!1),setMobileFiltersModalOpen:a}},Tx=()=>{const{notifications:e,addNotification:t,removeNotification:n}=xb(),{cart:i,addToCart:r,removeFromCart:a,updateCartQuantity:l,clearCart:o,totalCartItems:u}=Rb(t),{filteredProducts:f,categories:d,filters:p,handleSetFilters:m,handlePriceRangeChange:_,clearFilters:O,productsOnOfferCount:V,totalAvailableCount:I}=_x(),{selectedProduct:T,isCartModalOpen:E,isMobileFiltersModalOpen:S,isHeaderVisible:C,onProductClick:U,closeProductModal:q,openCartModal:b,closeCartModal:y,openMobileFiltersModal:A,setMobileFiltersModalOpen:w}=Ex();return v.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[v.jsx(gb,{isHeaderVisible:C,searchTerm:p.searchTerm,onSearchChange:R=>m({searchTerm:R}),totalCartItems:u,onCartClick:b,onMobileFiltersClick:A,filteredCount:V,totalAvailableCount:I}),v.jsx("main",{className:"container mx-auto px-4 py-8 flex-grow",children:v.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[v.jsx(pb,{categories:d,filters:p,onFilterChange:m,onPriceChange:_,onClearFilters:O,maxPrice:Rh}),v.jsx(Eb,{products:f,onProductClick:U,onAddToCart:r})]})}),v.jsxs("footer",{className:"bg-gray-800 text-white text-center py-6",children:[v.jsxs("p",{children:["© ",new Date().getFullYear()," LiluTecno. Todos los derechos reservados."]}),v.jsx("p",{className:"text-sm text-gray-400",children:"Tecnología Mundial a Tu Alcance!"})]}),T&&v.jsx(Ab,{product:T,onClose:q,onAddToCart:r}),E&&v.jsx(Sb,{cart:i,onClose:y,onUpdateQuantity:l,onRemoveFromCart:a,onClearCart:o,addNotification:t}),S&&v.jsx(wb,{isOpen:S,onClose:()=>w(!1),categories:d,currentFilters:p,onApplyFilters:R=>{m(R),w(!1)},maxPrice:Rh}),v.jsx(Tb,{}),v.jsx("div",{className:"fixed top-4 right-4 z-[1000] space-y-2",children:e.map(R=>v.jsx(bb,{message:R.message,type:R.type,onClose:()=>n(R.id)},R.id))})]})};ib.createRoot(document.getElementById("root")).render(v.jsx(af.StrictMode,{children:v.jsx(Tx,{})}));
