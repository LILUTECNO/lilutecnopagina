(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var eD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function i_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var q0={exports:{}},Xd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H5;function m6(){if(H5)return Xd;H5=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:c,ref:s!==void 0?s:null,props:o}}return Xd.Fragment=e,Xd.jsx=t,Xd.jsxs=t,Xd}var G5;function g6(){return G5||(G5=1,q0.exports=m6()),q0.exports}var f=g6(),z0={exports:{}},an={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $5;function y6(){if($5)return an;$5=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function A(ee){return ee===null||typeof ee!="object"?null:(ee=_&&ee[_]||ee["@@iterator"],typeof ee=="function"?ee:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,j={};function M(ee,me,B){this.props=ee,this.context=me,this.refs=j,this.updater=B||x}M.prototype.isReactComponent={},M.prototype.setState=function(ee,me){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,me,"setState")},M.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function R(){}R.prototype=M.prototype;function F(ee,me,B){this.props=ee,this.context=me,this.refs=j,this.updater=B||x}var q=F.prototype=new R;q.constructor=F,k(q,M.prototype),q.isPureReactComponent=!0;var W=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},xe=Object.prototype.hasOwnProperty;function $(ee,me,B,X,te,ue){return B=ue.ref,{$$typeof:n,type:ee,key:me,ref:B!==void 0?B:null,props:ue}}function I(ee,me){return $(ee.type,me,void 0,void 0,void 0,ee.props)}function P(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===n}function V(ee){var me={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(B){return me[B]})}var T=/\/+/g;function D(ee,me){return typeof ee=="object"&&ee!==null&&ee.key!=null?V(""+ee.key):me.toString(36)}function O(){}function le(ee){switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:switch(typeof ee.status=="string"?ee.then(O,O):(ee.status="pending",ee.then(function(me){ee.status==="pending"&&(ee.status="fulfilled",ee.value=me)},function(me){ee.status==="pending"&&(ee.status="rejected",ee.reason=me)})),ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason}}throw ee}function Se(ee,me,B,X,te){var ue=typeof ee;(ue==="undefined"||ue==="boolean")&&(ee=null);var de=!1;if(ee===null)de=!0;else switch(ue){case"bigint":case"string":case"number":de=!0;break;case"object":switch(ee.$$typeof){case n:case e:de=!0;break;case y:return de=ee._init,Se(de(ee._payload),me,B,X,te)}}if(de)return te=te(ee),de=X===""?"."+D(ee,0):X,W(te)?(B="",de!=null&&(B=de.replace(T,"$&/")+"/"),Se(te,me,B,"",function(Pe){return Pe})):te!=null&&(P(te)&&(te=I(te,B+(te.key==null||ee&&ee.key===te.key?"":(""+te.key).replace(T,"$&/")+"/")+de)),me.push(te)),1;de=0;var _e=X===""?".":X+":";if(W(ee))for(var ke=0;ke<ee.length;ke++)X=ee[ke],ue=_e+D(X,ke),de+=Se(X,me,B,ue,te);else if(ke=A(ee),typeof ke=="function")for(ee=ke.call(ee),ke=0;!(X=ee.next()).done;)X=X.value,ue=_e+D(X,ke++),de+=Se(X,me,B,ue,te);else if(ue==="object"){if(typeof ee.then=="function")return Se(le(ee),me,B,X,te);throw me=String(ee),Error("Objects are not valid as a React child (found: "+(me==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":me)+"). If you meant to render a collection of children, use an array instead.")}return de}function ae(ee,me,B){if(ee==null)return ee;var X=[],te=0;return Se(ee,X,"","",function(ue){return me.call(B,ue,te++)}),X}function ye(ee){if(ee._status===-1){var me=ee._result;me=me(),me.then(function(B){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=B)},function(B){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=B)}),ee._status===-1&&(ee._status=0,ee._result=me)}if(ee._status===1)return ee._result.default;throw ee._result}var pe=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var me=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent(me))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)};function je(){}return an.Children={map:ae,forEach:function(ee,me,B){ae(ee,function(){me.apply(this,arguments)},B)},count:function(ee){var me=0;return ae(ee,function(){me++}),me},toArray:function(ee){return ae(ee,function(me){return me})||[]},only:function(ee){if(!P(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},an.Component=M,an.Fragment=t,an.Profiler=s,an.PureComponent=F,an.StrictMode=r,an.Suspense=d,an.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,an.__COMPILER_RUNTIME={__proto__:null,c:function(ee){return ce.H.useMemoCache(ee)}},an.cache=function(ee){return function(){return ee.apply(null,arguments)}},an.cloneElement=function(ee,me,B){if(ee==null)throw Error("The argument must be a React element, but you passed "+ee+".");var X=k({},ee.props),te=ee.key,ue=void 0;if(me!=null)for(de in me.ref!==void 0&&(ue=void 0),me.key!==void 0&&(te=""+me.key),me)!xe.call(me,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&me.ref===void 0||(X[de]=me[de]);var de=arguments.length-2;if(de===1)X.children=B;else if(1<de){for(var _e=Array(de),ke=0;ke<de;ke++)_e[ke]=arguments[ke+2];X.children=_e}return $(ee.type,te,void 0,void 0,ue,X)},an.createContext=function(ee){return ee={$$typeof:c,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null},ee.Provider=ee,ee.Consumer={$$typeof:o,_context:ee},ee},an.createElement=function(ee,me,B){var X,te={},ue=null;if(me!=null)for(X in me.key!==void 0&&(ue=""+me.key),me)xe.call(me,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(te[X]=me[X]);var de=arguments.length-2;if(de===1)te.children=B;else if(1<de){for(var _e=Array(de),ke=0;ke<de;ke++)_e[ke]=arguments[ke+2];te.children=_e}if(ee&&ee.defaultProps)for(X in de=ee.defaultProps,de)te[X]===void 0&&(te[X]=de[X]);return $(ee,ue,void 0,void 0,null,te)},an.createRef=function(){return{current:null}},an.forwardRef=function(ee){return{$$typeof:u,render:ee}},an.isValidElement=P,an.lazy=function(ee){return{$$typeof:y,_payload:{_status:-1,_result:ee},_init:ye}},an.memo=function(ee,me){return{$$typeof:p,type:ee,compare:me===void 0?null:me}},an.startTransition=function(ee){var me=ce.T,B={};ce.T=B;try{var X=ee(),te=ce.S;te!==null&&te(B,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(je,pe)}catch(ue){pe(ue)}finally{ce.T=me}},an.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},an.use=function(ee){return ce.H.use(ee)},an.useActionState=function(ee,me,B){return ce.H.useActionState(ee,me,B)},an.useCallback=function(ee,me){return ce.H.useCallback(ee,me)},an.useContext=function(ee){return ce.H.useContext(ee)},an.useDebugValue=function(){},an.useDeferredValue=function(ee,me){return ce.H.useDeferredValue(ee,me)},an.useEffect=function(ee,me,B){var X=ce.H;if(typeof B=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(ee,me)},an.useId=function(){return ce.H.useId()},an.useImperativeHandle=function(ee,me,B){return ce.H.useImperativeHandle(ee,me,B)},an.useInsertionEffect=function(ee,me){return ce.H.useInsertionEffect(ee,me)},an.useLayoutEffect=function(ee,me){return ce.H.useLayoutEffect(ee,me)},an.useMemo=function(ee,me){return ce.H.useMemo(ee,me)},an.useOptimistic=function(ee,me){return ce.H.useOptimistic(ee,me)},an.useReducer=function(ee,me,B){return ce.H.useReducer(ee,me,B)},an.useRef=function(ee){return ce.H.useRef(ee)},an.useState=function(ee){return ce.H.useState(ee)},an.useSyncExternalStore=function(ee,me,B){return ce.H.useSyncExternalStore(ee,me,B)},an.useTransition=function(){return ce.H.useTransition()},an.version="19.1.1",an}var Y5;function E2(){return Y5||(Y5=1,z0.exports=y6()),z0.exports}var oe=E2();const S2=i_(oe);var H0={exports:{}},Qd={},G0={exports:{}},$0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W5;function v6(){return W5||(W5=1,(function(n){function e(ae,ye){var pe=ae.length;ae.push(ye);e:for(;0<pe;){var je=pe-1>>>1,ee=ae[je];if(0<s(ee,ye))ae[je]=ye,ae[pe]=ee,pe=je;else break e}}function t(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var ye=ae[0],pe=ae.pop();if(pe!==ye){ae[0]=pe;e:for(var je=0,ee=ae.length,me=ee>>>1;je<me;){var B=2*(je+1)-1,X=ae[B],te=B+1,ue=ae[te];if(0>s(X,pe))te<ee&&0>s(ue,X)?(ae[je]=ue,ae[te]=pe,je=te):(ae[je]=X,ae[B]=pe,je=B);else if(te<ee&&0>s(ue,pe))ae[je]=ue,ae[te]=pe,je=te;else break e}}return ye}function s(ae,ye){var pe=ae.sortIndex-ye.sortIndex;return pe!==0?pe:ae.id-ye.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var d=[],p=[],y=1,_=null,A=3,x=!1,k=!1,j=!1,M=!1,R=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function W(ae){for(var ye=t(p);ye!==null;){if(ye.callback===null)r(p);else if(ye.startTime<=ae)r(p),ye.sortIndex=ye.expirationTime,e(d,ye);else break;ye=t(p)}}function ce(ae){if(j=!1,W(ae),!k)if(t(d)!==null)k=!0,xe||(xe=!0,D());else{var ye=t(p);ye!==null&&Se(ce,ye.startTime-ae)}}var xe=!1,$=-1,I=5,P=-1;function V(){return M?!0:!(n.unstable_now()-P<I)}function T(){if(M=!1,xe){var ae=n.unstable_now();P=ae;var ye=!0;try{e:{k=!1,j&&(j=!1,F($),$=-1),x=!0;var pe=A;try{t:{for(W(ae),_=t(d);_!==null&&!(_.expirationTime>ae&&V());){var je=_.callback;if(typeof je=="function"){_.callback=null,A=_.priorityLevel;var ee=je(_.expirationTime<=ae);if(ae=n.unstable_now(),typeof ee=="function"){_.callback=ee,W(ae),ye=!0;break t}_===t(d)&&r(d),W(ae)}else r(d);_=t(d)}if(_!==null)ye=!0;else{var me=t(p);me!==null&&Se(ce,me.startTime-ae),ye=!1}}break e}finally{_=null,A=pe,x=!1}ye=void 0}}finally{ye?D():xe=!1}}}var D;if(typeof q=="function")D=function(){q(T)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,le=O.port2;O.port1.onmessage=T,D=function(){le.postMessage(null)}}else D=function(){R(T,0)};function Se(ae,ye){$=R(function(){ae(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(ae){switch(A){case 1:case 2:case 3:var ye=3;break;default:ye=A}var pe=A;A=ye;try{return ae()}finally{A=pe}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(ae,ye){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var pe=A;A=ae;try{return ye()}finally{A=pe}},n.unstable_scheduleCallback=function(ae,ye,pe){var je=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?je+pe:je):pe=je,ae){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=pe+ee,ae={id:y++,callback:ye,priorityLevel:ae,startTime:pe,expirationTime:ee,sortIndex:-1},pe>je?(ae.sortIndex=pe,e(p,ae),t(d)===null&&ae===t(p)&&(j?(F($),$=-1):j=!0,Se(ce,pe-je))):(ae.sortIndex=ee,e(d,ae),k||x||(k=!0,xe||(xe=!0,D()))),ae},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(ae){var ye=A;return function(){var pe=A;A=ye;try{return ae.apply(this,arguments)}finally{A=pe}}}})($0)),$0}var K5;function b6(){return K5||(K5=1,G0.exports=v6()),G0.exports}var Y0={exports:{}},fs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X5;function x6(){if(X5)return fs;X5=1;var n=E2();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:d,containerInfo:p,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return fs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fs.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(d,p,null,y)},fs.flushSync=function(d){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=p,r.p=y,r.d.f()}},fs.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},fs.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},fs.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,_=u(y,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:A,fetchPriority:x}):y==="script"&&r.d.X(d,{crossOrigin:_,integrity:A,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},fs.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=u(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},fs.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=u(y,p.crossOrigin);r.d.L(d,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},fs.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=u(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},fs.requestFormReset=function(d){r.d.r(d)},fs.unstable_batchedUpdates=function(d,p){return d(p)},fs.useFormState=function(d,p,y){return c.H.useFormState(d,p,y)},fs.useFormStatus=function(){return c.H.useHostTransitionStatus()},fs.version="19.1.1",fs}var Q5;function w6(){if(Q5)return Y0.exports;Q5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Y0.exports=x6(),Y0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J5;function _6(){if(J5)return Qd;J5=1;var n=b6(),e=E2(),t=w6();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function c(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function u(i){if(o(i)!==i)throw Error(r(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,h=a;;){var v=l.return;if(v===null)break;var w=v.alternate;if(w===null){if(h=v.return,h!==null){l=h;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===l)return u(v),i;if(w===h)return u(v),a;w=w.sibling}throw Error(r(188))}if(l.return!==h.return)l=v,h=w;else{for(var U=!1,K=v.child;K;){if(K===l){U=!0,l=v,h=w;break}if(K===h){U=!0,h=v,l=w;break}K=K.sibling}if(!U){for(K=w.child;K;){if(K===l){U=!0,l=w,h=v;break}if(K===h){U=!0,h=w,l=v;break}K=K.sibling}if(!U)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function p(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=p(i),a!==null)return a;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),q=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=T&&i[T]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function le(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case M:return"Profiler";case j:return"StrictMode";case ce:return"Suspense";case xe:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case q:return(i.displayName||"Context")+".Provider";case F:return(i._context.displayName||"Context")+".Consumer";case W:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case $:return a=i.displayName||null,a!==null?a:le(i.type)||"Memo";case I:a=i._payload,i=i._init;try{return le(i(a))}catch{}}return null}var Se=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},je=[],ee=-1;function me(i){return{current:i}}function B(i){0>ee||(i.current=je[ee],je[ee]=null,ee--)}function X(i,a){ee++,je[ee]=i.current,i.current=a}var te=me(null),ue=me(null),de=me(null),_e=me(null);function ke(i,a){switch(X(de,a),X(ue,i),X(te,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?v5(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=v5(a),i=b5(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}B(te),X(te,i)}function Pe(){B(te),B(ue),B(de)}function ze(i){i.memoizedState!==null&&X(_e,i);var a=te.current,l=b5(a,i.type);a!==l&&(X(ue,i),X(te,l))}function Qe(i){ue.current===i&&(B(te),B(ue)),_e.current===i&&(B(_e),Gd._currentValue=pe)}var nt=Object.prototype.hasOwnProperty,rt=n.unstable_scheduleCallback,Me=n.unstable_cancelCallback,se=n.unstable_shouldYield,nn=n.unstable_requestPaint,Tt=n.unstable_now,Et=n.unstable_getCurrentPriorityLevel,Ze=n.unstable_ImmediatePriority,yt=n.unstable_UserBlockingPriority,tt=n.unstable_NormalPriority,Kt=n.unstable_LowPriority,bt=n.unstable_IdlePriority,gn=n.log,qt=n.unstable_setDisableYieldValue,ut=null,wt=null;function St(i){if(typeof gn=="function"&&qt(i),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(ut,i)}catch{}}var st=Math.clz32?Math.clz32:Tn,jt=Math.log,xt=Math.LN2;function Tn(i){return i>>>=0,i===0?32:31-(jt(i)/xt|0)|0}var on=256,ht=4194304;function Ct(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Cn(i,a,l){var h=i.pendingLanes;if(h===0)return 0;var v=0,w=i.suspendedLanes,U=i.pingedLanes;i=i.warmLanes;var K=h&134217727;return K!==0?(h=K&~w,h!==0?v=Ct(h):(U&=K,U!==0?v=Ct(U):l||(l=K&~i,l!==0&&(v=Ct(l))))):(K=h&~w,K!==0?v=Ct(K):U!==0?v=Ct(U):l||(l=h&~i,l!==0&&(v=Ct(l)))),v===0?0:a!==0&&a!==v&&(a&w)===0&&(w=v&-v,l=a&-a,w>=l||w===32&&(l&4194048)!==0)?a:v}function _t(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function rn(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vt(){var i=on;return on<<=1,(on&4194048)===0&&(on=256),i}function rr(){var i=ht;return ht<<=1,(ht&62914560)===0&&(ht=4194304),i}function Hn(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function yn(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Pt(i,a,l,h,v,w){var U=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var K=i.entanglements,he=i.expirationTimes,Ie=i.hiddenUpdates;for(l=U&~l;0<l;){var qe=31-st(l),Ye=1<<qe;K[qe]=0,he[qe]=-1;var Le=Ie[qe];if(Le!==null)for(Ie[qe]=null,qe=0;qe<Le.length;qe++){var De=Le[qe];De!==null&&(De.lane&=-536870913)}l&=~Ye}h!==0&&sn(i,h,0),w!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=w&~(U&~a))}function sn(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var h=31-st(a);i.entangledLanes|=a,i.entanglements[h]=i.entanglements[h]|1073741824|l&4194090}function Qs(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var h=31-st(l),v=1<<h;v&a|i[h]&a&&(i[h]|=a),l&=~v}}function pr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function rs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function yi(){var i=ye.p;return i!==0?i:(i=window.event,i===void 0?32:U5(i.type))}function Rt(i,a){var l=ye.p;try{return ye.p=i,a()}finally{ye.p=l}}var Rn=Math.random().toString(36).slice(2),Gn="__reactFiber$"+Rn,Ln="__reactProps$"+Rn,mr="__reactContainer$"+Rn,Qn="__reactEvents$"+Rn,Ur="__reactListeners$"+Rn,cr="__reactHandles$"+Rn,ya="__reactResources$"+Rn,is="__reactMarker$"+Rn;function ci(i){delete i[Gn],delete i[Ln],delete i[Qn],delete i[Ur],delete i[cr]}function ui(i){var a=i[Gn];if(a)return a;for(var l=i.parentNode;l;){if(a=l[mr]||l[Gn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=N5(i);i!==null;){if(l=i[Gn])return l;i=N5(i)}return a}i=l,l=i.parentNode}return null}function Vr(i){if(i=i[Gn]||i[mr]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Fr(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Jn(i){var a=i[ya];return a||(a=i[ya]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function $n(i){i[is]=!0}var ss=new Set,Ds={};function Si(i,a){as(i,a),as(i+"Capture",a)}function as(i,a){for(Ds[i]=a,i=0;i<a.length;i++)ss.add(a[i])}var Wa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wl={},Js={};function cl(i){return nt.call(Js,i)?!0:nt.call(Wl,i)?!1:Wa.test(i)?Js[i]=!0:(Wl[i]=!0,!1)}function Zs(i,a,l){if(cl(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function Rr(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function Ir(i,a,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+h)}}var va,Co;function Os(i){if(va===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);va=a&&a[1]||"",Co=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+va+i+Co}var Ka=!1;function Xa(i,a){if(!i||Ka)return"";Ka=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(De){var Le=De}Reflect.construct(i,[],Ye)}else{try{Ye.call()}catch(De){Le=De}i.call(Ye.prototype)}}else{try{throw Error()}catch(De){Le=De}(Ye=i())&&typeof Ye.catch=="function"&&Ye.catch(function(){})}}catch(De){if(De&&Le&&typeof De.stack=="string")return[De.stack,Le.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),U=w[0],K=w[1];if(U&&K){var he=U.split(`
`),Ie=K.split(`
`);for(v=h=0;h<he.length&&!he[h].includes("DetermineComponentFrameRoot");)h++;for(;v<Ie.length&&!Ie[v].includes("DetermineComponentFrameRoot");)v++;if(h===he.length||v===Ie.length)for(h=he.length-1,v=Ie.length-1;1<=h&&0<=v&&he[h]!==Ie[v];)v--;for(;1<=h&&0<=v;h--,v--)if(he[h]!==Ie[v]){if(h!==1||v!==1)do if(h--,v--,0>v||he[h]!==Ie[v]){var qe=`
`+he[h].replace(" at new "," at ");return i.displayName&&qe.includes("<anonymous>")&&(qe=qe.replace("<anonymous>",i.displayName)),qe}while(1<=h&&0<=v);break}}}finally{Ka=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Os(l):""}function ba(i){switch(i.tag){case 26:case 27:case 5:return Os(i.type);case 16:return Os("Lazy");case 13:return Os("Suspense");case 19:return Os("SuspenseList");case 0:case 15:return Xa(i.type,!1);case 11:return Xa(i.type.render,!1);case 1:return Xa(i.type,!0);case 31:return Os("Activity");default:return""}}function Ro(i){try{var a="";do a+=ba(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function xn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Io(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Kl(i){var a=Io(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),h=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var v=l.get,w=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return v.call(this)},set:function(U){h=""+U,w.call(this,U)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(U){h=""+U},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function os(i){i._valueTracker||(i._valueTracker=Kl(i))}function ea(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),h="";return i&&(h=Io(i)?i.checked?"true":"false":i.value),i=h,i!==l?(a.setValue(i),!0):!1}function vi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Qa=/[\n"\\]/g;function tn(i){return i.replace(Qa,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function bi(i,a,l,h,v,w,U,K){i.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?i.type=U:i.removeAttribute("type"),a!=null?U==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+xn(a)):i.value!==""+xn(a)&&(i.value=""+xn(a)):U!=="submit"&&U!=="reset"||i.removeAttribute("value"),a!=null?xa(i,U,xn(a)):l!=null?xa(i,U,xn(l)):h!=null&&i.removeAttribute("value"),v==null&&w!=null&&(i.defaultChecked=!!w),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?i.name=""+xn(K):i.removeAttribute("name")}function Ja(i,a,l,h,v,w,U,K){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.type=w),a!=null||l!=null){if(!(w!=="submit"&&w!=="reset"||a!=null))return;l=l!=null?""+xn(l):"",a=a!=null?""+xn(a):l,K||a===i.value||(i.value=a),i.defaultValue=a}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=K?i.checked:!!h,i.defaultChecked=!!h,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(i.name=U)}function xa(i,a,l){a==="number"&&vi(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ta(i,a,l,h){if(i=i.options,a){a={};for(var v=0;v<l.length;v++)a["$"+l[v]]=!0;for(l=0;l<i.length;l++)v=a.hasOwnProperty("$"+i[l].value),i[l].selected!==v&&(i[l].selected=v),v&&h&&(i[l].defaultSelected=!0)}else{for(l=""+xn(l),a=null,v=0;v<i.length;v++){if(i[v].value===l){i[v].selected=!0,h&&(i[v].defaultSelected=!0);return}a!==null||i[v].disabled||(a=i[v])}a!==null&&(a.selected=!0)}}function ln(i,a,l){if(a!=null&&(a=""+xn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+xn(l):""}function wa(i,a,l,h){if(a==null){if(h!=null){if(l!=null)throw Error(r(92));if(Se(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),a=l}l=xn(a),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h)}function Ui(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var ls=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jo(i,a,l){var h=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":h?i.setProperty(a,l):typeof l!="number"||l===0||ls.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function ul(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var v in a)h=a[v],a.hasOwnProperty(v)&&l[v]!==h&&jo(i,v,h)}else for(var w in a)a.hasOwnProperty(w)&&jo(i,w,a[w])}function hl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ms(i){return dl.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ti=null;function cs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Vi=null,_s=null;function Dt(i){var a=Vr(i);if(a&&(i=a.stateNode)){var l=i[Ln]||null;e:switch(i=a.stateNode,a.type){case"input":if(bi(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+tn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var h=l[a];if(h!==i&&h.form===i.form){var v=h[Ln]||null;if(!v)throw Error(r(90));bi(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<l.length;a++)h=l[a],h.form===i.form&&ea(h)}break e;case"textarea":ln(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ta(i,!!l.multiple,a,!1)}}}var Us=!1;function Xl(i,a,l){if(Us)return i(a,l);Us=!0;try{var h=i(a);return h}finally{if(Us=!1,(Vi!==null||_s!==null)&&(jp(),Vi&&(a=Vi,i=_s,_s=Vi=null,Dt(a),i)))for(a=0;a<i.length;a++)Dt(i[a])}}function Za(i,a){var l=i.stateNode;if(l===null)return null;var h=l[Ln]||null;if(h===null)return null;l=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Br=!1;if(Ns)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){Br=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{Br=!1}var Vs=null,_a=null,us=null;function eo(){if(us)return us;var i,a=_a,l=a.length,h,v="value"in Vs?Vs.value:Vs.textContent,w=v.length;for(i=0;i<l&&a[i]===v[i];i++);var U=l-i;for(h=1;h<=U&&a[l-h]===v[w-h];h++);return us=v.slice(i,1<h?1-h:void 0)}function Ci(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Bi(){return!0}function Na(){return!1}function qr(i){function a(l,h,v,w,U){this._reactName=l,this._targetInst=v,this.type=h,this.nativeEvent=w,this.target=U,this.currentTarget=null;for(var K in i)i.hasOwnProperty(K)&&(l=i[K],this[K]=l?l(w):w[K]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Bi:Na,this.isPropagationStopped=Na,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),a}var wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=qr(wn),As=y({},wn,{view:0,detail:0}),Ea=qr(As),Sa,na,hs,Es=y({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cn,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==hs&&(hs&&i.type==="mousemove"?(Sa=i.screenX-hs.screenX,na=i.screenY-hs.screenY):na=Sa=0,hs=i),Sa)},movementY:function(i){return"movementY"in i?i.movementY:na}}),Ri=qr(Es),ko=y({},Es,{dataTransfer:0}),qi=qr(ko),Ii=y({},As,{relatedTarget:0}),N=qr(Ii),z=y({},wn,{animationName:0,elapsedTime:0,pseudoElement:0}),re=qr(z),fe=y({},wn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),we=qr(fe),Be=y({},wn,{data:0}),We=qr(Be),at={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zt(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=kt[i])?!!a[i]:!1}function cn(){return zt}var Zn=y({},As,{key:function(i){if(i.key){var a=at[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Ci(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?pt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cn,charCode:function(i){return i.type==="keypress"?Ci(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ci(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ir=qr(Zn),Pn=y({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gr=qr(Pn),Fn=y({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cn}),zr=qr(Fn),Fs=y({},wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ra=qr(Fs),Ql=y({},Es,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),to=qr(Ql),jr=y({},wn,{newState:0,oldState:0}),ds=qr(jr),Lo=[9,13,27,32],zi=Ns&&"CompositionEvent"in window,g=null;Ns&&"documentMode"in document&&(g=document.documentMode);var S=Ns&&"TextEvent"in window&&!g,L=Ns&&(!zi||g&&8<g&&11>=g),J=" ",Ae=!1;function Oe(i,a){switch(i){case"keyup":return Lo.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Je(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var un=!1;function ur(i,a){switch(i){case"compositionend":return Je(a);case"keypress":return a.which!==32?null:(Ae=!0,J);case"textInput":return i=a.data,i===J&&Ae?null:i;default:return null}}function hn(i,a){if(un)return i==="compositionend"||!zi&&Oe(i,a)?(i=eo(),us=_a=Vs=null,un=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return L&&a.locale!=="ko"?null:a.data;default:return null}}var fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!fn[i.type]:a==="textarea"}function Ss(i,a,l,h){Vi?_s?_s.push(h):_s=[h]:Vi=h,a=Mp(a,"onChange"),0<a.length&&(l=new Aa("onChange","change",null,l,h),i.push({event:l,listeners:a}))}var kr=null,xi=null;function Ta(i){f5(i,0)}function wi(i){var a=Fr(i);if(ea(a))return i}function Hi(i,a){if(i==="change")return a}var Po=!1;if(Ns){var Bs;if(Ns){var Ca="oninput"in document;if(!Ca){var Jl=document.createElement("div");Jl.setAttribute("oninput","return;"),Ca=typeof Jl.oninput=="function"}Bs=Ca}else Bs=!1;Po=Bs&&(!document.documentMode||9<document.documentMode)}function no(){kr&&(kr.detachEvent("onpropertychange",wr),xi=kr=null)}function wr(i){if(i.propertyName==="value"&&wi(xi)){var a=[];Ss(a,xi,i,cs(i)),Xl(Ta,a)}}function ad(i,a,l){i==="focusin"?(no(),kr=a,xi=l,kr.attachEvent("onpropertychange",wr)):i==="focusout"&&no()}function Ra(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return wi(xi)}function Ia(i,a){if(i==="click")return wi(a)}function Zl(i,a){if(i==="input"||i==="change")return wi(a)}function tu(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var hi=typeof Object.is=="function"?Object.is:tu;function ja(i,a){if(hi(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),h=Object.keys(a);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var v=l[h];if(!nt.call(a,v)||!hi(i[v],a[v]))return!1}return!0}function Do(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Oo(i,a){var l=Do(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=a&&h>=a)return{node:l,offset:a-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Do(l)}}function ka(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?ka(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function ec(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=vi(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=vi(i.document)}return a}function Gi(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var La=Ns&&"documentMode"in document&&11>=document.documentMode,Dn=null,Bn=null,sr=null,yr=!1;function Pa(i,a,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;yr||Dn==null||Dn!==vi(h)||(h=Dn,"selectionStart"in h&&Gi(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),sr&&ja(sr,h)||(sr=h,h=Mp(Bn,"onSelect"),0<h.length&&(a=new Aa("onSelect","select",null,a,l),i.push({event:a,listeners:h}),a.target=Dn)))}function qs(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var $i={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},fl={},od={};Ns&&(od=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function Mo(i){if(fl[i])return fl[i];if(!$i[i])return i;var a=$i[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in od)return fl[i]=a[l];return i}var ld=Mo("animationend"),cd=Mo("animationiteration"),ud=Mo("animationstart"),Jf=Mo("transitionrun"),Zf=Mo("transitionstart"),ep=Mo("transitioncancel"),hd=Mo("transitionend"),dd=new Map,$u="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$u.push("scrollEnd");function zs(i,a){dd.set(i,a),Si(a,[i])}var tc=new WeakMap;function Ts(i,a){if(typeof i=="object"&&i!==null){var l=tc.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Ro(a)},tc.set(i,a),a)}return{value:i,source:a,stack:Ro(a)}}var Cs=[],pl=0,Yu=0;function nu(){for(var i=pl,a=Yu=pl=0;a<i;){var l=Cs[a];Cs[a++]=null;var h=Cs[a];Cs[a++]=null;var v=Cs[a];Cs[a++]=null;var w=Cs[a];if(Cs[a++]=null,h!==null&&v!==null){var U=h.pending;U===null?v.next=v:(v.next=U.next,U.next=v),h.pending=v}w!==0&&Ku(l,v,w)}}function ru(i,a,l,h){Cs[pl++]=i,Cs[pl++]=a,Cs[pl++]=l,Cs[pl++]=h,Yu|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Wu(i,a,l,h){return ru(i,a,l,h),gl(i)}function ml(i,a){return ru(i,null,null,a),gl(i)}function Ku(i,a,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var v=!1,w=i.return;w!==null;)w.childLanes|=l,h=w.alternate,h!==null&&(h.childLanes|=l),w.tag===22&&(i=w.stateNode,i===null||i._visibility&1||(v=!0)),i=w,w=w.return;return i.tag===3?(w=i.stateNode,v&&a!==null&&(v=31-st(l),i=w.hiddenUpdates,h=i[v],h===null?i[v]=[a]:h.push(a),a.lane=l|536870912),w):null}function gl(i){if(50<Md)throw Md=0,d0=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var di={};function Hs(i,a,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(i,a,l,h){return new Hs(i,a,l,h)}function nc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Da(i,a){var l=i.alternate;return l===null?(l=ji(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function iu(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function yl(i,a,l,h,v,w){var U=0;if(h=i,typeof i=="function")nc(i)&&(U=1);else if(typeof i=="string")U=n6(i,l,te.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case P:return i=ji(31,l,a,v),i.elementType=P,i.lanes=w,i;case k:return ro(l.children,v,w,a);case j:U=8,v|=24;break;case M:return i=ji(12,l,a,v|2),i.elementType=M,i.lanes=w,i;case ce:return i=ji(13,l,a,v),i.elementType=ce,i.lanes=w,i;case xe:return i=ji(19,l,a,v),i.elementType=xe,i.lanes=w,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case R:case q:U=10;break e;case F:U=9;break e;case W:U=11;break e;case $:U=14;break e;case I:U=16,h=null;break e}U=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return a=ji(U,l,a,v),a.elementType=i,a.type=h,a.lanes=w,a}function ro(i,a,l,h){return i=ji(7,i,h,a),i.lanes=l,i}function Xu(i,a,l){return i=ji(6,i,null,a),i.lanes=l,i}function su(i,a,l){return a=ji(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Uo=[],io=0,rc=null,Qu=0,Gs=[],Rs=0,vl=null,so=1,ao="";function bl(i,a){Uo[io++]=Qu,Uo[io++]=rc,rc=i,Qu=a}function tp(i,a,l){Gs[Rs++]=so,Gs[Rs++]=ao,Gs[Rs++]=vl,vl=i;var h=so;i=ao;var v=32-st(h)-1;h&=~(1<<v),l+=1;var w=32-st(a)+v;if(30<w){var U=v-v%5;w=(h&(1<<U)-1).toString(32),h>>=U,v-=U,so=1<<32-st(a)+v|l<<v|h,ao=w+i}else so=1<<w|l<<v|h,ao=i}function au(i){i.return!==null&&(bl(i,1),tp(i,1,0))}function ou(i){for(;i===rc;)rc=Uo[--io],Uo[io]=null,Qu=Uo[--io],Uo[io]=null;for(;i===vl;)vl=Gs[--Rs],Gs[Rs]=null,ao=Gs[--Rs],Gs[Rs]=null,so=Gs[--Rs],Gs[Rs]=null}var Jr=null,_r=null,On=!1,Vo=null,Oa=!1,fd=Error(r(519));function xl(i){var a=Error(r(418,""));throw ic(Ts(a,i)),fd}function np(i){var a=i.stateNode,l=i.type,h=i.memoizedProps;switch(a[Gn]=i,a[Ln]=h,l){case"dialog":bn("cancel",a),bn("close",a);break;case"iframe":case"object":case"embed":bn("load",a);break;case"video":case"audio":for(l=0;l<Vd.length;l++)bn(Vd[l],a);break;case"source":bn("error",a);break;case"img":case"image":case"link":bn("error",a),bn("load",a);break;case"details":bn("toggle",a);break;case"input":bn("invalid",a),Ja(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),os(a);break;case"select":bn("invalid",a);break;case"textarea":bn("invalid",a),wa(a,h.value,h.defaultValue,h.children),os(a)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||h.suppressHydrationWarning===!0||y5(a.textContent,l)?(h.popover!=null&&(bn("beforetoggle",a),bn("toggle",a)),h.onScroll!=null&&bn("scroll",a),h.onScrollEnd!=null&&bn("scrollend",a),h.onClick!=null&&(a.onclick=Up),a=!0):a=!1,a||xl(i)}function oo(i){for(Jr=i.return;Jr;)switch(Jr.tag){case 5:case 13:Oa=!1;return;case 27:case 3:Oa=!0;return;default:Jr=Jr.return}}function Yi(i){if(i!==Jr)return!1;if(!On)return oo(i),On=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||C0(i.type,i.memoizedProps)),l=!l),l&&_r&&xl(i),oo(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){_r=go(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}_r=null}}else a===27?(a=_r,xc(i.type)?(i=k0,k0=null,_r=i):_r=a):_r=Jr?go(i.stateNode.nextSibling):null;return!0}function Is(){_r=Jr=null,On=!1}function rp(){var i=Vo;return i!==null&&(Ys===null?Ys=i:Ys.push.apply(Ys,i),Vo=null),i}function ic(i){Vo===null?Vo=[i]:Vo.push(i)}var Ma=me(null),fi=null,lo=null;function Fo(i,a,l){X(Ma,a._currentValue),a._currentValue=l}function Ua(i){i._currentValue=Ma.current,B(Ma)}function Ju(i,a,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===l)break;i=i.return}}function Zu(i,a,l,h){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var w=v.dependencies;if(w!==null){var U=v.child;w=w.firstContext;e:for(;w!==null;){var K=w;w=v;for(var he=0;he<a.length;he++)if(K.context===a[he]){w.lanes|=l,K=w.alternate,K!==null&&(K.lanes|=l),Ju(w.return,l,i),h||(U=null);break e}w=K.next}}else if(v.tag===18){if(U=v.return,U===null)throw Error(r(341));U.lanes|=l,w=U.alternate,w!==null&&(w.lanes|=l),Ju(U,l,i),U=null}else U=v.child;if(U!==null)U.return=v;else for(U=v;U!==null;){if(U===i){U=null;break}if(v=U.sibling,v!==null){v.return=U.return,U=v;break}U=U.return}v=U}}function sc(i,a,l,h){i=null;for(var v=a,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var U=v.alternate;if(U===null)throw Error(r(387));if(U=U.memoizedProps,U!==null){var K=v.type;hi(v.pendingProps.value,U.value)||(i!==null?i.push(K):i=[K])}}else if(v===_e.current){if(U=v.alternate,U===null)throw Error(r(387));U.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(Gd):i=[Gd])}v=v.return}i!==null&&Zu(a,i,l,h),a.flags|=262144}function eh(i){for(i=i.firstContext;i!==null;){if(!hi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Va(i){fi=i,lo=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Zr(i){return th(fi,i)}function Bo(i,a){return fi===null&&Va(i),th(i,a)}function th(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},lo===null){if(i===null)throw Error(r(308));lo=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else lo=lo.next=a;return l}var Mg=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},ip=n.unstable_scheduleCallback,Ug=n.unstable_NormalPriority,ei={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pd(){return{controller:new Mg,data:new Map,refCount:0}}function lu(i){i.refCount--,i.refCount===0&&ip(Ug,function(){i.controller.abort()})}var cu=null,md=0,wl=0,co=null;function Vg(i,a){if(cu===null){var l=cu=[];md=0,wl=b0(),co={status:"pending",value:void 0,then:function(h){l.push(h)}}}return md++,a.then(sp,sp),a}function sp(){if(--md===0&&cu!==null){co!==null&&(co.status="fulfilled");var i=cu;cu=null,wl=0,co=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function ap(i,a){var l=[],h={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return i.then(function(){h.status="fulfilled",h.value=a;for(var v=0;v<l.length;v++)(0,l[v])(a)},function(v){for(h.status="rejected",h.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),h}var m=ae.S;ae.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Vg(i,a),m!==null&&m(i,a)};var b=me(null);function E(){var i=b.current;return i!==null?i:hr.pooledCache}function C(i,a){a===null?X(b,b.current):X(b,a.pool)}function H(){var i=E();return i===null?null:{parent:ei._currentValue,pool:i}}var G=Error(r(460)),Y=Error(r(474)),Q=Error(r(542)),Z={then:function(){}};function ie(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ge(){}function Re(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(ge,ge),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Ee(i),i;default:if(typeof a.status=="string")a.then(ge,ge);else{if(i=hr,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(h){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=h}},function(h){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Ee(i),i}throw ne=a,G}}var ne=null;function be(){if(ne===null)throw Error(r(459));var i=ne;return ne=null,i}function Ee(i){if(i===G||i===Q)throw Error(r(483))}var Ue=!1;function Ce(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fe(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ve(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Xe(i,a,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Wn&2)!==0){var v=h.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),h.pending=a,a=gl(i),Ku(i,null,l),a}return ru(i,h,a,l),gl(i)}function $e(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,Qs(i,l)}}function vt(i,a){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var v=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var U={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};w===null?v=w=U:w=w.next=U,l=l.next}while(l!==null);w===null?v=w=a:w=w.next=a}else v=w=a;l={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var ot=!1;function $t(){if(ot){var i=co;if(i!==null)throw i}}function ct(i,a,l,h){ot=!1;var v=i.updateQueue;Ue=!1;var w=v.firstBaseUpdate,U=v.lastBaseUpdate,K=v.shared.pending;if(K!==null){v.shared.pending=null;var he=K,Ie=he.next;he.next=null,U===null?w=Ie:U.next=Ie,U=he;var qe=i.alternate;qe!==null&&(qe=qe.updateQueue,K=qe.lastBaseUpdate,K!==U&&(K===null?qe.firstBaseUpdate=Ie:K.next=Ie,qe.lastBaseUpdate=he))}if(w!==null){var Ye=v.baseState;U=0,qe=Ie=he=null,K=w;do{var Le=K.lane&-536870913,De=Le!==K.lane;if(De?(jn&Le)===Le:(h&Le)===Le){Le!==0&&Le===wl&&(ot=!0),qe!==null&&(qe=qe.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var Gt=i,Mt=K;Le=a;var nr=l;switch(Mt.tag){case 1:if(Gt=Mt.payload,typeof Gt=="function"){Ye=Gt.call(nr,Ye,Le);break e}Ye=Gt;break e;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=Mt.payload,Le=typeof Gt=="function"?Gt.call(nr,Ye,Le):Gt,Le==null)break e;Ye=y({},Ye,Le);break e;case 2:Ue=!0}}Le=K.callback,Le!==null&&(i.flags|=64,De&&(i.flags|=8192),De=v.callbacks,De===null?v.callbacks=[Le]:De.push(Le))}else De={lane:Le,tag:K.tag,payload:K.payload,callback:K.callback,next:null},qe===null?(Ie=qe=De,he=Ye):qe=qe.next=De,U|=Le;if(K=K.next,K===null){if(K=v.shared.pending,K===null)break;De=K,K=De.next,De.next=null,v.lastBaseUpdate=De,v.shared.pending=null}}while(!0);qe===null&&(he=Ye),v.baseState=he,v.firstBaseUpdate=Ie,v.lastBaseUpdate=qe,w===null&&(v.shared.lanes=0),gc|=U,i.lanes=U,i.memoizedState=Ye}}function pn(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Hr(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)pn(l[i],a)}var Ht=me(null),dt=me(0);function et(i,a){i=Rl,X(dt,i),X(Ht,a),Rl=i|a.baseLanes}function vr(){X(dt,Rl),X(Ht,Ht.current)}function Yt(){Rl=dt.current,B(Ht),B(dt)}var en=0,ft=null,Xt=null,_n=null,ar=!1,Lr=!1,Pr=!1,Nr=0,dn=0,Nn=null,Ar=0;function Ot(){throw Error(r(321))}function ti(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!hi(i[l],a[l]))return!1;return!0}function js(i,a,l,h,v,w){return en=w,ft=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ae.H=i===null||i.memoizedState===null?Qy:Jy,Pr=!1,w=l(h,v),Pr=!1,Lr&&(w=Wi(a,l,h,v)),Er(i),w}function Er(i){ae.H=vp;var a=Xt!==null&&Xt.next!==null;if(en=0,_n=Xt=ft=null,ar=!1,dn=0,Nn=null,a)throw Error(r(300));i===null||Li||(i=i.dependencies,i!==null&&eh(i)&&(Li=!0))}function Wi(i,a,l,h){ft=i;var v=0;do{if(Lr&&(Nn=null),dn=0,Lr=!1,25<=v)throw Error(r(301));if(v+=1,_n=Xt=null,i.updateQueue!=null){var w=i.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}ae.H=fA,w=a(l,h)}while(Lr);return w}function Yn(){var i=ae.H,a=i.useState()[0];return a=typeof a.then=="function"?Ni(a):a,i=i.useState()[0],(Xt!==null?Xt.memoizedState:null)!==i&&(ft.flags|=1024),a}function Dr(){var i=Nr!==0;return Nr=0,i}function Ki(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function _i(i){if(ar){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}ar=!1}en=0,_n=Xt=ft=null,Lr=!1,dn=Nr=0,Nn=null}function er(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?ft.memoizedState=_n=i:_n=_n.next=i,_n}function In(){if(Xt===null){var i=ft.alternate;i=i!==null?i.memoizedState:null}else i=Xt.next;var a=_n===null?ft.memoizedState:_n.next;if(a!==null)_n=a,Xt=i;else{if(i===null)throw ft.alternate===null?Error(r(467)):Error(r(310));Xt=i,i={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},_n===null?ft.memoizedState=_n=i:_n=_n.next=i}return _n}function ki(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ni(i){var a=dn;return dn+=1,Nn===null&&(Nn=[]),i=Re(Nn,i,a),a=ft,(_n===null?a.memoizedState:_n.next)===null&&(a=a.alternate,ae.H=a===null||a.memoizedState===null?Qy:Jy),i}function Vn(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ni(i);if(i.$$typeof===q)return Zr(i)}throw Error(r(438,String(i)))}function Xi(i){var a=null,l=ft.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var h=ft.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=ki(),ft.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),h=0;h<i;h++)l[h]=V;return a.index++,l}function ni(i,a){return typeof a=="function"?a(i):a}function Fa(i){var a=In();return ia(a,Xt,i)}function ia(i,a,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var v=i.baseQueue,w=h.pending;if(w!==null){if(v!==null){var U=v.next;v.next=w.next,w.next=U}a.baseQueue=v=w,h.pending=null}if(w=i.baseState,v===null)i.memoizedState=w;else{a=v.next;var K=U=null,he=null,Ie=a,qe=!1;do{var Ye=Ie.lane&-536870913;if(Ye!==Ie.lane?(jn&Ye)===Ye:(en&Ye)===Ye){var Le=Ie.revertLane;if(Le===0)he!==null&&(he=he.next={lane:0,revertLane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),Ye===wl&&(qe=!0);else if((en&Le)===Le){Ie=Ie.next,Le===wl&&(qe=!0);continue}else Ye={lane:0,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},he===null?(K=he=Ye,U=w):he=he.next=Ye,ft.lanes|=Le,gc|=Le;Ye=Ie.action,Pr&&l(w,Ye),w=Ie.hasEagerState?Ie.eagerState:l(w,Ye)}else Le={lane:Ye,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},he===null?(K=he=Le,U=w):he=he.next=Le,ft.lanes|=Ye,gc|=Ye;Ie=Ie.next}while(Ie!==null&&Ie!==a);if(he===null?U=w:he.next=K,!hi(w,i.memoizedState)&&(Li=!0,qe&&(l=co,l!==null)))throw l;i.memoizedState=w,i.baseState=U,i.baseQueue=he,h.lastRenderedState=w}return v===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function ri(i){var a=In(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,v=l.pending,w=a.memoizedState;if(v!==null){l.pending=null;var U=v=v.next;do w=i(w,U.action),U=U.next;while(U!==v);hi(w,a.memoizedState)||(Li=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),l.lastRenderedState=w}return[w,h]}function uu(i,a,l){var h=ft,v=In(),w=On;if(w){if(l===void 0)throw Error(r(407));l=l()}else l=a();var U=!hi((Xt||v).memoizedState,l);U&&(v.memoizedState=l,Li=!0),v=v.queue;var K=ac.bind(null,h,v,i);if(cc(2048,8,K,[i]),v.getSnapshot!==a||U||_n!==null&&_n.memoizedState.tag&1){if(h.flags|=2048,ho(9,pu(),hu.bind(null,h,v,l,a),null),hr===null)throw Error(r(349));w||(en&124)!==0||nh(h,a,l)}return l}function nh(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=ft.updateQueue,a===null?(a=ki(),ft.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function hu(i,a,l,h){a.value=l,a.getSnapshot=h,op(a)&&lp(i)}function ac(i,a,l){return l(function(){op(a)&&lp(i)})}function op(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!hi(i,l)}catch{return!0}}function lp(i){var a=ml(i,2);a!==null&&ua(a,i,2)}function du(i){var a=er();if(typeof i=="function"){var l=i;if(i=l(),Pr){St(!0);try{l()}finally{St(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:i},a}function uo(i,a,l,h){return i.baseState=l,ia(i,Xt,typeof h=="function"?h:ni)}function Fg(i,a,l,h,v){if(yp(i))throw Error(r(485));if(i=a.action,i!==null){var w={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){w.listeners.push(U)}};ae.T!==null?l(!0):w.isTransition=!1,h(w),l=a.pending,l===null?(w.next=a.pending=w,cp(a,w)):(w.next=l.next,a.pending=l.next=w)}}function cp(i,a){var l=a.action,h=a.payload,v=i.state;if(a.isTransition){var w=ae.T,U={};ae.T=U;try{var K=l(v,h),he=ae.S;he!==null&&he(U,K),up(i,a,K)}catch(Ie){oc(i,a,Ie)}finally{ae.T=w}}else try{w=l(v,h),up(i,a,w)}catch(Ie){oc(i,a,Ie)}}function up(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){gd(i,a,h)},function(h){return oc(i,a,h)}):gd(i,a,l)}function gd(i,a,l){a.status="fulfilled",a.value=l,yd(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,cp(i,l)))}function oc(i,a,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=l,yd(a),a=a.next;while(a!==h)}i.action=null}function yd(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function vd(i,a){return a}function fu(i,a){if(On){var l=hr.formState;if(l!==null){e:{var h=ft;if(On){if(_r){t:{for(var v=_r,w=Oa;v.nodeType!==8;){if(!w){v=null;break t}if(v=go(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){_r=go(v.nextSibling),h=v.data==="F!";break e}}xl(h)}h=!1}h&&(a=l[0])}}return l=er(),l.memoizedState=l.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vd,lastRenderedState:a},l.queue=h,l=Wy.bind(null,ft,h),h.dispatch=l,h=du(!1),w=Bg.bind(null,ft,!1,h.queue),h=er(),v={state:a,dispatch:null,action:i,pending:null},h.queue=v,l=Fg.bind(null,ft,v,w,l),v.dispatch=l,h.memoizedState=i,[a,l,!1]}function rh(i){var a=In();return lc(a,Xt,i)}function lc(i,a,l){if(a=ia(i,a,vd)[0],i=Fa(ni)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Ni(a)}catch(U){throw U===G?Q:U}else h=a;a=In();var v=a.queue,w=v.dispatch;return l!==a.memoizedState&&(ft.flags|=2048,ho(9,pu(),hp.bind(null,v,l),null)),[h,w,i]}function hp(i,a){i.action=a}function dp(i){var a=In(),l=Xt;if(l!==null)return lc(a,l,i);In(),a=a.memoizedState,l=In();var h=l.queue.dispatch;return l.memoizedState=i,[a,h,!1]}function ho(i,a,l,h){return i={tag:i,create:l,deps:h,inst:a,next:null},a=ft.updateQueue,a===null&&(a=ki(),ft.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,a.lastEffect=i),i}function pu(){return{destroy:void 0,resource:void 0}}function ih(){return In().memoizedState}function sa(i,a,l,h){var v=er();h=h===void 0?null:h,ft.flags|=i,v.memoizedState=ho(1|a,pu(),l,h)}function cc(i,a,l,h){var v=In();h=h===void 0?null:h;var w=v.memoizedState.inst;Xt!==null&&h!==null&&ti(h,Xt.memoizedState.deps)?v.memoizedState=ho(a,w,l,h):(ft.flags|=i,v.memoizedState=ho(1|a,w,l,h))}function bd(i,a){sa(8390656,8,i,a)}function fp(i,a){cc(2048,8,i,a)}function xd(i,a){return cc(4,2,i,a)}function _l(i,a){return cc(4,4,i,a)}function pp(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function wd(i,a,l){l=l!=null?l.concat([i]):null,cc(4,4,pp.bind(null,a,i),l)}function _d(){}function Nd(i,a){var l=In();a=a===void 0?null:a;var h=l.memoizedState;return a!==null&&ti(a,h[1])?h[0]:(l.memoizedState=[i,a],i)}function mp(i,a){var l=In();a=a===void 0?null:a;var h=l.memoizedState;if(a!==null&&ti(a,h[1]))return h[0];if(h=i(),Pr){St(!0);try{i()}finally{St(!1)}}return l.memoizedState=[h,a],h}function Nl(i,a,l){return l===void 0||(en&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=Hv(),ft.lanes|=i,gc|=i,l)}function sh(i,a,l,h){return hi(l,a)?l:Ht.current!==null?(i=Nl(i,l,h),hi(i,a)||(Li=!0),i):(en&42)===0?(Li=!0,i.memoizedState=l):(i=Hv(),ft.lanes|=i,gc|=i,a)}function mu(i,a,l,h,v){var w=ye.p;ye.p=w!==0&&8>w?w:8;var U=ae.T,K={};ae.T=K,Bg(i,!1,a,l);try{var he=v(),Ie=ae.S;if(Ie!==null&&Ie(K,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var qe=ap(he,h);Td(i,a,qe,ca(i))}else Td(i,a,h,ca(i))}catch(Ye){Td(i,a,{then:function(){},status:"rejected",reason:Ye},ca())}finally{ye.p=w,ae.T=U}}function fo(){}function Ba(i,a,l,h){if(i.tag!==5)throw Error(r(476));var v=po(i).queue;mu(i,v,a,pe,l===null?fo:function(){return gu(i),l(h)})}function po(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:pe},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function gu(i){var a=po(i).next.queue;Td(i,a,{},ca())}function yu(){return Zr(Gd)}function Ad(){return In().memoizedState}function gp(){return In().memoizedState}function Ed(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=ca();i=Ve(l);var h=Xe(a,i,l);h!==null&&(ua(h,a,l),$e(h,a,l)),a={cache:pd()},i.payload=a;return}a=a.return}}function Sd(i,a,l){var h=ca();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},yp(i)?Ky(a,l):(l=Wu(i,a,l,h),l!==null&&(ua(l,i,h),Xy(l,a,h)))}function Wy(i,a,l){var h=ca();Td(i,a,l,h)}function Td(i,a,l,h){var v={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(yp(i))Ky(a,v);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var U=a.lastRenderedState,K=w(U,l);if(v.hasEagerState=!0,v.eagerState=K,hi(K,U))return ru(i,a,v,0),hr===null&&nu(),!1}catch{}finally{}if(l=Wu(i,a,v,h),l!==null)return ua(l,i,h),Xy(l,a,h),!0}return!1}function Bg(i,a,l,h){if(h={lane:2,revertLane:b0(),action:h,hasEagerState:!1,eagerState:null,next:null},yp(i)){if(a)throw Error(r(479))}else a=Wu(i,l,h,2),a!==null&&ua(a,i,2)}function yp(i){var a=i.alternate;return i===ft||a!==null&&a===ft}function Ky(i,a){Lr=ar=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function Xy(i,a,l){if((l&4194048)!==0){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,Qs(i,l)}}var vp={readContext:Zr,use:Vn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot},Qy={readContext:Zr,use:Vn,useCallback:function(i,a){return er().memoizedState=[i,a===void 0?null:a],i},useContext:Zr,useEffect:bd,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,sa(4194308,4,pp.bind(null,a,i),l)},useLayoutEffect:function(i,a){return sa(4194308,4,i,a)},useInsertionEffect:function(i,a){sa(4,2,i,a)},useMemo:function(i,a){var l=er();a=a===void 0?null:a;var h=i();if(Pr){St(!0);try{i()}finally{St(!1)}}return l.memoizedState=[h,a],h},useReducer:function(i,a,l){var h=er();if(l!==void 0){var v=l(a);if(Pr){St(!0);try{l(a)}finally{St(!1)}}}else v=a;return h.memoizedState=h.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},h.queue=i,i=i.dispatch=Sd.bind(null,ft,i),[h.memoizedState,i]},useRef:function(i){var a=er();return i={current:i},a.memoizedState=i},useState:function(i){i=du(i);var a=i.queue,l=Wy.bind(null,ft,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:_d,useDeferredValue:function(i,a){var l=er();return Nl(l,i,a)},useTransition:function(){var i=du(!1);return i=mu.bind(null,ft,i.queue,!0,!1),er().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var h=ft,v=er();if(On){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),hr===null)throw Error(r(349));(jn&124)!==0||nh(h,a,l)}v.memoizedState=l;var w={value:l,getSnapshot:a};return v.queue=w,bd(ac.bind(null,h,w,i),[i]),h.flags|=2048,ho(9,pu(),hu.bind(null,h,w,l,a),null),l},useId:function(){var i=er(),a=hr.identifierPrefix;if(On){var l=ao,h=so;l=(h&~(1<<32-st(h)-1)).toString(32)+l,a="«"+a+"R"+l,l=Nr++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=Ar++,a="«"+a+"r"+l.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:yu,useFormState:fu,useActionState:fu,useOptimistic:function(i){var a=er();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Bg.bind(null,ft,!0,l),l.dispatch=a,[i,a]},useMemoCache:Xi,useCacheRefresh:function(){return er().memoizedState=Ed.bind(null,ft)}},Jy={readContext:Zr,use:Vn,useCallback:Nd,useContext:Zr,useEffect:fp,useImperativeHandle:wd,useInsertionEffect:xd,useLayoutEffect:_l,useMemo:mp,useReducer:Fa,useRef:ih,useState:function(){return Fa(ni)},useDebugValue:_d,useDeferredValue:function(i,a){var l=In();return sh(l,Xt.memoizedState,i,a)},useTransition:function(){var i=Fa(ni)[0],a=In().memoizedState;return[typeof i=="boolean"?i:Ni(i),a]},useSyncExternalStore:uu,useId:Ad,useHostTransitionStatus:yu,useFormState:rh,useActionState:rh,useOptimistic:function(i,a){var l=In();return uo(l,Xt,i,a)},useMemoCache:Xi,useCacheRefresh:gp},fA={readContext:Zr,use:Vn,useCallback:Nd,useContext:Zr,useEffect:fp,useImperativeHandle:wd,useInsertionEffect:xd,useLayoutEffect:_l,useMemo:mp,useReducer:ri,useRef:ih,useState:function(){return ri(ni)},useDebugValue:_d,useDeferredValue:function(i,a){var l=In();return Xt===null?Nl(l,i,a):sh(l,Xt.memoizedState,i,a)},useTransition:function(){var i=ri(ni)[0],a=In().memoizedState;return[typeof i=="boolean"?i:Ni(i),a]},useSyncExternalStore:uu,useId:Ad,useHostTransitionStatus:yu,useFormState:dp,useActionState:dp,useOptimistic:function(i,a){var l=In();return Xt!==null?uo(l,Xt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Xi,useCacheRefresh:gp},ah=null,Cd=0;function bp(i){var a=Cd;return Cd+=1,ah===null&&(ah=[]),Re(ah,i,a)}function Rd(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function xp(i,a){throw a.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function Zy(i){var a=i._init;return a(i._payload)}function ev(i){function a(Ne,ve){if(i){var Te=Ne.deletions;Te===null?(Ne.deletions=[ve],Ne.flags|=16):Te.push(ve)}}function l(Ne,ve){if(!i)return null;for(;ve!==null;)a(Ne,ve),ve=ve.sibling;return null}function h(Ne){for(var ve=new Map;Ne!==null;)Ne.key!==null?ve.set(Ne.key,Ne):ve.set(Ne.index,Ne),Ne=Ne.sibling;return ve}function v(Ne,ve){return Ne=Da(Ne,ve),Ne.index=0,Ne.sibling=null,Ne}function w(Ne,ve,Te){return Ne.index=Te,i?(Te=Ne.alternate,Te!==null?(Te=Te.index,Te<ve?(Ne.flags|=67108866,ve):Te):(Ne.flags|=67108866,ve)):(Ne.flags|=1048576,ve)}function U(Ne){return i&&Ne.alternate===null&&(Ne.flags|=67108866),Ne}function K(Ne,ve,Te,Ge){return ve===null||ve.tag!==6?(ve=Xu(Te,Ne.mode,Ge),ve.return=Ne,ve):(ve=v(ve,Te),ve.return=Ne,ve)}function he(Ne,ve,Te,Ge){var mt=Te.type;return mt===k?qe(Ne,ve,Te.props.children,Ge,Te.key):ve!==null&&(ve.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===I&&Zy(mt)===ve.type)?(ve=v(ve,Te.props),Rd(ve,Te),ve.return=Ne,ve):(ve=yl(Te.type,Te.key,Te.props,null,Ne.mode,Ge),Rd(ve,Te),ve.return=Ne,ve)}function Ie(Ne,ve,Te,Ge){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Te.containerInfo||ve.stateNode.implementation!==Te.implementation?(ve=su(Te,Ne.mode,Ge),ve.return=Ne,ve):(ve=v(ve,Te.children||[]),ve.return=Ne,ve)}function qe(Ne,ve,Te,Ge,mt){return ve===null||ve.tag!==7?(ve=ro(Te,Ne.mode,Ge,mt),ve.return=Ne,ve):(ve=v(ve,Te),ve.return=Ne,ve)}function Ye(Ne,ve,Te){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=Xu(""+ve,Ne.mode,Te),ve.return=Ne,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case A:return Te=yl(ve.type,ve.key,ve.props,null,Ne.mode,Te),Rd(Te,ve),Te.return=Ne,Te;case x:return ve=su(ve,Ne.mode,Te),ve.return=Ne,ve;case I:var Ge=ve._init;return ve=Ge(ve._payload),Ye(Ne,ve,Te)}if(Se(ve)||D(ve))return ve=ro(ve,Ne.mode,Te,null),ve.return=Ne,ve;if(typeof ve.then=="function")return Ye(Ne,bp(ve),Te);if(ve.$$typeof===q)return Ye(Ne,Bo(Ne,ve),Te);xp(Ne,ve)}return null}function Le(Ne,ve,Te,Ge){var mt=ve!==null?ve.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return mt!==null?null:K(Ne,ve,""+Te,Ge);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case A:return Te.key===mt?he(Ne,ve,Te,Ge):null;case x:return Te.key===mt?Ie(Ne,ve,Te,Ge):null;case I:return mt=Te._init,Te=mt(Te._payload),Le(Ne,ve,Te,Ge)}if(Se(Te)||D(Te))return mt!==null?null:qe(Ne,ve,Te,Ge,null);if(typeof Te.then=="function")return Le(Ne,ve,bp(Te),Ge);if(Te.$$typeof===q)return Le(Ne,ve,Bo(Ne,Te),Ge);xp(Ne,Te)}return null}function De(Ne,ve,Te,Ge,mt){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Ne=Ne.get(Te)||null,K(ve,Ne,""+Ge,mt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case A:return Ne=Ne.get(Ge.key===null?Te:Ge.key)||null,he(ve,Ne,Ge,mt);case x:return Ne=Ne.get(Ge.key===null?Te:Ge.key)||null,Ie(ve,Ne,Ge,mt);case I:var mn=Ge._init;return Ge=mn(Ge._payload),De(Ne,ve,Te,Ge,mt)}if(Se(Ge)||D(Ge))return Ne=Ne.get(Te)||null,qe(ve,Ne,Ge,mt,null);if(typeof Ge.then=="function")return De(Ne,ve,Te,bp(Ge),mt);if(Ge.$$typeof===q)return De(Ne,ve,Te,Bo(ve,Ge),mt);xp(ve,Ge)}return null}function Gt(Ne,ve,Te,Ge){for(var mt=null,mn=null,At=ve,Ut=ve=0,Di=null;At!==null&&Ut<Te.length;Ut++){At.index>Ut?(Di=At,At=null):Di=At.sibling;var Un=Le(Ne,At,Te[Ut],Ge);if(Un===null){At===null&&(At=Di);break}i&&At&&Un.alternate===null&&a(Ne,At),ve=w(Un,ve,Ut),mn===null?mt=Un:mn.sibling=Un,mn=Un,At=Di}if(Ut===Te.length)return l(Ne,At),On&&bl(Ne,Ut),mt;if(At===null){for(;Ut<Te.length;Ut++)At=Ye(Ne,Te[Ut],Ge),At!==null&&(ve=w(At,ve,Ut),mn===null?mt=At:mn.sibling=At,mn=At);return On&&bl(Ne,Ut),mt}for(At=h(At);Ut<Te.length;Ut++)Di=De(At,Ne,Ut,Te[Ut],Ge),Di!==null&&(i&&Di.alternate!==null&&At.delete(Di.key===null?Ut:Di.key),ve=w(Di,ve,Ut),mn===null?mt=Di:mn.sibling=Di,mn=Di);return i&&At.forEach(function(Ec){return a(Ne,Ec)}),On&&bl(Ne,Ut),mt}function Mt(Ne,ve,Te,Ge){if(Te==null)throw Error(r(151));for(var mt=null,mn=null,At=ve,Ut=ve=0,Di=null,Un=Te.next();At!==null&&!Un.done;Ut++,Un=Te.next()){At.index>Ut?(Di=At,At=null):Di=At.sibling;var Ec=Le(Ne,At,Un.value,Ge);if(Ec===null){At===null&&(At=Di);break}i&&At&&Ec.alternate===null&&a(Ne,At),ve=w(Ec,ve,Ut),mn===null?mt=Ec:mn.sibling=Ec,mn=Ec,At=Di}if(Un.done)return l(Ne,At),On&&bl(Ne,Ut),mt;if(At===null){for(;!Un.done;Ut++,Un=Te.next())Un=Ye(Ne,Un.value,Ge),Un!==null&&(ve=w(Un,ve,Ut),mn===null?mt=Un:mn.sibling=Un,mn=Un);return On&&bl(Ne,Ut),mt}for(At=h(At);!Un.done;Ut++,Un=Te.next())Un=De(At,Ne,Ut,Un.value,Ge),Un!==null&&(i&&Un.alternate!==null&&At.delete(Un.key===null?Ut:Un.key),ve=w(Un,ve,Ut),mn===null?mt=Un:mn.sibling=Un,mn=Un);return i&&At.forEach(function(p6){return a(Ne,p6)}),On&&bl(Ne,Ut),mt}function nr(Ne,ve,Te,Ge){if(typeof Te=="object"&&Te!==null&&Te.type===k&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case A:e:{for(var mt=Te.key;ve!==null;){if(ve.key===mt){if(mt=Te.type,mt===k){if(ve.tag===7){l(Ne,ve.sibling),Ge=v(ve,Te.props.children),Ge.return=Ne,Ne=Ge;break e}}else if(ve.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===I&&Zy(mt)===ve.type){l(Ne,ve.sibling),Ge=v(ve,Te.props),Rd(Ge,Te),Ge.return=Ne,Ne=Ge;break e}l(Ne,ve);break}else a(Ne,ve);ve=ve.sibling}Te.type===k?(Ge=ro(Te.props.children,Ne.mode,Ge,Te.key),Ge.return=Ne,Ne=Ge):(Ge=yl(Te.type,Te.key,Te.props,null,Ne.mode,Ge),Rd(Ge,Te),Ge.return=Ne,Ne=Ge)}return U(Ne);case x:e:{for(mt=Te.key;ve!==null;){if(ve.key===mt)if(ve.tag===4&&ve.stateNode.containerInfo===Te.containerInfo&&ve.stateNode.implementation===Te.implementation){l(Ne,ve.sibling),Ge=v(ve,Te.children||[]),Ge.return=Ne,Ne=Ge;break e}else{l(Ne,ve);break}else a(Ne,ve);ve=ve.sibling}Ge=su(Te,Ne.mode,Ge),Ge.return=Ne,Ne=Ge}return U(Ne);case I:return mt=Te._init,Te=mt(Te._payload),nr(Ne,ve,Te,Ge)}if(Se(Te))return Gt(Ne,ve,Te,Ge);if(D(Te)){if(mt=D(Te),typeof mt!="function")throw Error(r(150));return Te=mt.call(Te),Mt(Ne,ve,Te,Ge)}if(typeof Te.then=="function")return nr(Ne,ve,bp(Te),Ge);if(Te.$$typeof===q)return nr(Ne,ve,Bo(Ne,Te),Ge);xp(Ne,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,ve!==null&&ve.tag===6?(l(Ne,ve.sibling),Ge=v(ve,Te),Ge.return=Ne,Ne=Ge):(l(Ne,ve),Ge=Xu(Te,Ne.mode,Ge),Ge.return=Ne,Ne=Ge),U(Ne)):l(Ne,ve)}return function(Ne,ve,Te,Ge){try{Cd=0;var mt=nr(Ne,ve,Te,Ge);return ah=null,mt}catch(At){if(At===G||At===Q)throw At;var mn=ji(29,At,null,Ne.mode);return mn.lanes=Ge,mn.return=Ne,mn}finally{}}}var oh=ev(!0),tv=ev(!1),qa=me(null),qo=null;function uc(i){var a=i.alternate;X(Ai,Ai.current&1),X(qa,i),qo===null&&(a===null||Ht.current!==null||a.memoizedState!==null)&&(qo=i)}function nv(i){if(i.tag===22){if(X(Ai,Ai.current),X(qa,i),qo===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(qo=i)}}else hc()}function hc(){X(Ai,Ai.current),X(qa,qa.current)}function Al(i){B(qa),qo===i&&(qo=null),B(Ai)}var Ai=me(0);function wp(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||j0(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function qg(i,a,l,h){a=i.memoizedState,l=l(h,a),l=l==null?a:y({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var zg={enqueueSetState:function(i,a,l){i=i._reactInternals;var h=ca(),v=Ve(h);v.payload=a,l!=null&&(v.callback=l),a=Xe(i,v,h),a!==null&&(ua(a,i,h),$e(a,i,h))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var h=ca(),v=Ve(h);v.tag=1,v.payload=a,l!=null&&(v.callback=l),a=Xe(i,v,h),a!==null&&(ua(a,i,h),$e(a,i,h))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=ca(),h=Ve(l);h.tag=2,a!=null&&(h.callback=a),a=Xe(i,h,l),a!==null&&(ua(a,i,l),$e(a,i,l))}};function rv(i,a,l,h,v,w,U){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,w,U):a.prototype&&a.prototype.isPureReactComponent?!ja(l,h)||!ja(v,w):!0}function iv(i,a,l,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,h),a.state!==i&&zg.enqueueReplaceState(a,a.state,null)}function vu(i,a){var l=a;if("ref"in a){l={};for(var h in a)h!=="ref"&&(l[h]=a[h])}if(i=i.defaultProps){l===a&&(l=y({},l));for(var v in i)l[v]===void 0&&(l[v]=i[v])}return l}var _p=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function sv(i){_p(i)}function av(i){console.error(i)}function ov(i){_p(i)}function Np(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function lv(i,a,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Hg(i,a,l){return l=Ve(l),l.tag=3,l.payload={element:null},l.callback=function(){Np(i,a)},l}function cv(i){return i=Ve(i),i.tag=3,i}function uv(i,a,l,h){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var w=h.value;i.payload=function(){return v(w)},i.callback=function(){lv(a,l,h)}}var U=l.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(i.callback=function(){lv(a,l,h),typeof v!="function"&&(yc===null?yc=new Set([this]):yc.add(this));var K=h.stack;this.componentDidCatch(h.value,{componentStack:K!==null?K:""})})}function pA(i,a,l,h,v){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=l.alternate,a!==null&&sc(a,l,v,!0),l=qa.current,l!==null){switch(l.tag){case 13:return qo===null?p0():l.alternate===null&&Gr===0&&(Gr=3),l.flags&=-257,l.flags|=65536,l.lanes=v,h===Z?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([h]):a.add(h),g0(i,h,v)),!1;case 22:return l.flags|=65536,h===Z?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([h]):l.add(h)),g0(i,h,v)),!1}throw Error(r(435,l.tag))}return g0(i,h,v),p0(),!1}if(On)return a=qa.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,h!==fd&&(i=Error(r(422),{cause:h}),ic(Ts(i,l)))):(h!==fd&&(a=Error(r(423),{cause:h}),ic(Ts(a,l))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,h=Ts(h,l),v=Hg(i.stateNode,h,v),vt(i,v),Gr!==4&&(Gr=2)),!1;var w=Error(r(520),{cause:h});if(w=Ts(w,l),Od===null?Od=[w]:Od.push(w),Gr!==4&&(Gr=2),a===null)return!0;h=Ts(h,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=v&-v,l.lanes|=i,i=Hg(l.stateNode,h,i),vt(l,i),!1;case 1:if(a=l.type,w=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(yc===null||!yc.has(w))))return l.flags|=65536,v&=-v,l.lanes|=v,v=cv(v),uv(v,i,l,h),vt(l,v),!1}l=l.return}while(l!==null);return!1}var hv=Error(r(461)),Li=!1;function Qi(i,a,l,h){a.child=i===null?tv(a,null,l,h):oh(a,i.child,l,h)}function dv(i,a,l,h,v){l=l.render;var w=a.ref;if("ref"in h){var U={};for(var K in h)K!=="ref"&&(U[K]=h[K])}else U=h;return Va(a),h=js(i,a,l,U,w,v),K=Dr(),i!==null&&!Li?(Ki(i,a,v),El(i,a,v)):(On&&K&&au(a),a.flags|=1,Qi(i,a,h,v),a.child)}function fv(i,a,l,h,v){if(i===null){var w=l.type;return typeof w=="function"&&!nc(w)&&w.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=w,pv(i,a,w,h,v)):(i=yl(l.type,null,h,a,a.mode,v),i.ref=a.ref,i.return=a,a.child=i)}if(w=i.child,!Jg(i,v)){var U=w.memoizedProps;if(l=l.compare,l=l!==null?l:ja,l(U,h)&&i.ref===a.ref)return El(i,a,v)}return a.flags|=1,i=Da(w,h),i.ref=a.ref,i.return=a,a.child=i}function pv(i,a,l,h,v){if(i!==null){var w=i.memoizedProps;if(ja(w,h)&&i.ref===a.ref)if(Li=!1,a.pendingProps=h=w,Jg(i,v))(i.flags&131072)!==0&&(Li=!0);else return a.lanes=i.lanes,El(i,a,v)}return Gg(i,a,l,h,v)}function mv(i,a,l){var h=a.pendingProps,v=h.children,w=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=w!==null?w.baseLanes|l:l,i!==null){for(v=a.child=i.child,w=0;v!==null;)w=w|v.lanes|v.childLanes,v=v.sibling;a.childLanes=w&~h}else a.childLanes=0,a.child=null;return gv(i,a,h,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&C(a,w!==null?w.cachePool:null),w!==null?et(a,w):vr(),nv(a);else return a.lanes=a.childLanes=536870912,gv(i,a,w!==null?w.baseLanes|l:l,l)}else w!==null?(C(a,w.cachePool),et(a,w),hc(),a.memoizedState=null):(i!==null&&C(a,null),vr(),hc());return Qi(i,a,v,l),a.child}function gv(i,a,l,h){var v=E();return v=v===null?null:{parent:ei._currentValue,pool:v},a.memoizedState={baseLanes:l,cachePool:v},i!==null&&C(a,null),vr(),nv(a),i!==null&&sc(i,a,h,!0),null}function Ap(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function Gg(i,a,l,h,v){return Va(a),l=js(i,a,l,h,void 0,v),h=Dr(),i!==null&&!Li?(Ki(i,a,v),El(i,a,v)):(On&&h&&au(a),a.flags|=1,Qi(i,a,l,v),a.child)}function yv(i,a,l,h,v,w){return Va(a),a.updateQueue=null,l=Wi(a,h,l,v),Er(i),h=Dr(),i!==null&&!Li?(Ki(i,a,w),El(i,a,w)):(On&&h&&au(a),a.flags|=1,Qi(i,a,l,w),a.child)}function vv(i,a,l,h,v){if(Va(a),a.stateNode===null){var w=di,U=l.contextType;typeof U=="object"&&U!==null&&(w=Zr(U)),w=new l(h,w),a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=zg,a.stateNode=w,w._reactInternals=a,w=a.stateNode,w.props=h,w.state=a.memoizedState,w.refs={},Ce(a),U=l.contextType,w.context=typeof U=="object"&&U!==null?Zr(U):di,w.state=a.memoizedState,U=l.getDerivedStateFromProps,typeof U=="function"&&(qg(a,l,U,h),w.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(U=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),U!==w.state&&zg.enqueueReplaceState(w,w.state,null),ct(a,h,w,v),$t(),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(i===null){w=a.stateNode;var K=a.memoizedProps,he=vu(l,K);w.props=he;var Ie=w.context,qe=l.contextType;U=di,typeof qe=="object"&&qe!==null&&(U=Zr(qe));var Ye=l.getDerivedStateFromProps;qe=typeof Ye=="function"||typeof w.getSnapshotBeforeUpdate=="function",K=a.pendingProps!==K,qe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(K||Ie!==U)&&iv(a,w,h,U),Ue=!1;var Le=a.memoizedState;w.state=Le,ct(a,h,w,v),$t(),Ie=a.memoizedState,K||Le!==Ie||Ue?(typeof Ye=="function"&&(qg(a,l,Ye,h),Ie=a.memoizedState),(he=Ue||rv(a,l,he,h,Le,Ie,U))?(qe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Ie),w.props=h,w.state=Ie,w.context=U,h=he):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{w=a.stateNode,Fe(i,a),U=a.memoizedProps,qe=vu(l,U),w.props=qe,Ye=a.pendingProps,Le=w.context,Ie=l.contextType,he=di,typeof Ie=="object"&&Ie!==null&&(he=Zr(Ie)),K=l.getDerivedStateFromProps,(Ie=typeof K=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(U!==Ye||Le!==he)&&iv(a,w,h,he),Ue=!1,Le=a.memoizedState,w.state=Le,ct(a,h,w,v),$t();var De=a.memoizedState;U!==Ye||Le!==De||Ue||i!==null&&i.dependencies!==null&&eh(i.dependencies)?(typeof K=="function"&&(qg(a,l,K,h),De=a.memoizedState),(qe=Ue||rv(a,l,qe,h,Le,De,he)||i!==null&&i.dependencies!==null&&eh(i.dependencies))?(Ie||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,De,he),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,De,he)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||U===i.memoizedProps&&Le===i.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&Le===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=De),w.props=h,w.state=De,w.context=he,h=qe):(typeof w.componentDidUpdate!="function"||U===i.memoizedProps&&Le===i.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&Le===i.memoizedState||(a.flags|=1024),h=!1)}return w=h,Ap(i,a),h=(a.flags&128)!==0,w||h?(w=a.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:w.render(),a.flags|=1,i!==null&&h?(a.child=oh(a,i.child,null,v),a.child=oh(a,null,l,v)):Qi(i,a,l,v),a.memoizedState=w.state,i=a.child):i=El(i,a,v),i}function bv(i,a,l,h){return Is(),a.flags|=256,Qi(i,a,l,h),a.child}var $g={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yg(i){return{baseLanes:i,cachePool:H()}}function Wg(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=za),i}function xv(i,a,l){var h=a.pendingProps,v=!1,w=(a.flags&128)!==0,U;if((U=w)||(U=i!==null&&i.memoizedState===null?!1:(Ai.current&2)!==0),U&&(v=!0,a.flags&=-129),U=(a.flags&32)!==0,a.flags&=-33,i===null){if(On){if(v?uc(a):hc(),On){var K=_r,he;if(he=K){e:{for(he=K,K=Oa;he.nodeType!==8;){if(!K){K=null;break e}if(he=go(he.nextSibling),he===null){K=null;break e}}K=he}K!==null?(a.memoizedState={dehydrated:K,treeContext:vl!==null?{id:so,overflow:ao}:null,retryLane:536870912,hydrationErrors:null},he=ji(18,null,null,0),he.stateNode=K,he.return=a,a.child=he,Jr=a,_r=null,he=!0):he=!1}he||xl(a)}if(K=a.memoizedState,K!==null&&(K=K.dehydrated,K!==null))return j0(K)?a.lanes=32:a.lanes=536870912,null;Al(a)}return K=h.children,h=h.fallback,v?(hc(),v=a.mode,K=Ep({mode:"hidden",children:K},v),h=ro(h,v,l,null),K.return=a,h.return=a,K.sibling=h,a.child=K,v=a.child,v.memoizedState=Yg(l),v.childLanes=Wg(i,U,l),a.memoizedState=$g,h):(uc(a),Kg(a,K))}if(he=i.memoizedState,he!==null&&(K=he.dehydrated,K!==null)){if(w)a.flags&256?(uc(a),a.flags&=-257,a=Xg(i,a,l)):a.memoizedState!==null?(hc(),a.child=i.child,a.flags|=128,a=null):(hc(),v=h.fallback,K=a.mode,h=Ep({mode:"visible",children:h.children},K),v=ro(v,K,l,null),v.flags|=2,h.return=a,v.return=a,h.sibling=v,a.child=h,oh(a,i.child,null,l),h=a.child,h.memoizedState=Yg(l),h.childLanes=Wg(i,U,l),a.memoizedState=$g,a=v);else if(uc(a),j0(K)){if(U=K.nextSibling&&K.nextSibling.dataset,U)var Ie=U.dgst;U=Ie,h=Error(r(419)),h.stack="",h.digest=U,ic({value:h,source:null,stack:null}),a=Xg(i,a,l)}else if(Li||sc(i,a,l,!1),U=(l&i.childLanes)!==0,Li||U){if(U=hr,U!==null&&(h=l&-l,h=(h&42)!==0?1:pr(h),h=(h&(U.suspendedLanes|l))!==0?0:h,h!==0&&h!==he.retryLane))throw he.retryLane=h,ml(i,h),ua(U,i,h),hv;K.data==="$?"||p0(),a=Xg(i,a,l)}else K.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=he.treeContext,_r=go(K.nextSibling),Jr=a,On=!0,Vo=null,Oa=!1,i!==null&&(Gs[Rs++]=so,Gs[Rs++]=ao,Gs[Rs++]=vl,so=i.id,ao=i.overflow,vl=a),a=Kg(a,h.children),a.flags|=4096);return a}return v?(hc(),v=h.fallback,K=a.mode,he=i.child,Ie=he.sibling,h=Da(he,{mode:"hidden",children:h.children}),h.subtreeFlags=he.subtreeFlags&65011712,Ie!==null?v=Da(Ie,v):(v=ro(v,K,l,null),v.flags|=2),v.return=a,h.return=a,h.sibling=v,a.child=h,h=v,v=a.child,K=i.child.memoizedState,K===null?K=Yg(l):(he=K.cachePool,he!==null?(Ie=ei._currentValue,he=he.parent!==Ie?{parent:Ie,pool:Ie}:he):he=H(),K={baseLanes:K.baseLanes|l,cachePool:he}),v.memoizedState=K,v.childLanes=Wg(i,U,l),a.memoizedState=$g,h):(uc(a),l=i.child,i=l.sibling,l=Da(l,{mode:"visible",children:h.children}),l.return=a,l.sibling=null,i!==null&&(U=a.deletions,U===null?(a.deletions=[i],a.flags|=16):U.push(i)),a.child=l,a.memoizedState=null,l)}function Kg(i,a){return a=Ep({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Ep(i,a){return i=ji(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Xg(i,a,l){return oh(a,i.child,null,l),i=Kg(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function wv(i,a,l){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),Ju(i.return,a,l)}function Qg(i,a,l,h,v){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:v}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=l,w.tailMode=v)}function _v(i,a,l){var h=a.pendingProps,v=h.revealOrder,w=h.tail;if(Qi(i,a,h.children,l),h=Ai.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wv(i,l,a);else if(i.tag===19)wv(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(X(Ai,h),v){case"forwards":for(l=a.child,v=null;l!==null;)i=l.alternate,i!==null&&wp(i)===null&&(v=l),l=l.sibling;l=v,l===null?(v=a.child,a.child=null):(v=l.sibling,l.sibling=null),Qg(a,!1,v,l,w);break;case"backwards":for(l=null,v=a.child,a.child=null;v!==null;){if(i=v.alternate,i!==null&&wp(i)===null){a.child=v;break}i=v.sibling,v.sibling=l,l=v,v=i}Qg(a,!0,l,null,w);break;case"together":Qg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function El(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),gc|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(sc(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Da(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Da(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Jg(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&eh(i)))}function mA(i,a,l){switch(a.tag){case 3:ke(a,a.stateNode.containerInfo),Fo(a,ei,i.memoizedState.cache),Is();break;case 27:case 5:ze(a);break;case 4:ke(a,a.stateNode.containerInfo);break;case 10:Fo(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(uc(a),a.flags|=128,null):(l&a.child.childLanes)!==0?xv(i,a,l):(uc(a),i=El(i,a,l),i!==null?i.sibling:null);uc(a);break;case 19:var v=(i.flags&128)!==0;if(h=(l&a.childLanes)!==0,h||(sc(i,a,l,!1),h=(l&a.childLanes)!==0),v){if(h)return _v(i,a,l);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),X(Ai,Ai.current),h)break;return null;case 22:case 23:return a.lanes=0,mv(i,a,l);case 24:Fo(a,ei,i.memoizedState.cache)}return El(i,a,l)}function Nv(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)Li=!0;else{if(!Jg(i,l)&&(a.flags&128)===0)return Li=!1,mA(i,a,l);Li=(i.flags&131072)!==0}else Li=!1,On&&(a.flags&1048576)!==0&&tp(a,Qu,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var h=a.elementType,v=h._init;if(h=v(h._payload),a.type=h,typeof h=="function")nc(h)?(i=vu(h,i),a.tag=1,a=vv(null,a,h,i,l)):(a.tag=0,a=Gg(null,a,h,i,l));else{if(h!=null){if(v=h.$$typeof,v===W){a.tag=11,a=dv(null,a,h,i,l);break e}else if(v===$){a.tag=14,a=fv(null,a,h,i,l);break e}}throw a=le(h)||h,Error(r(306,a,""))}}return a;case 0:return Gg(i,a,a.type,a.pendingProps,l);case 1:return h=a.type,v=vu(h,a.pendingProps),vv(i,a,h,v,l);case 3:e:{if(ke(a,a.stateNode.containerInfo),i===null)throw Error(r(387));h=a.pendingProps;var w=a.memoizedState;v=w.element,Fe(i,a),ct(a,h,null,l);var U=a.memoizedState;if(h=U.cache,Fo(a,ei,h),h!==w.cache&&Zu(a,[ei],l,!0),$t(),h=U.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:U.cache},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){a=bv(i,a,h,l);break e}else if(h!==v){v=Ts(Error(r(424)),a),ic(v),a=bv(i,a,h,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(_r=go(i.firstChild),Jr=a,On=!0,Vo=null,Oa=!0,l=tv(a,null,h,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Is(),h===v){a=El(i,a,l);break e}Qi(i,a,h,l)}a=a.child}return a;case 26:return Ap(i,a),i===null?(l=T5(a.type,null,a.pendingProps,null))?a.memoizedState=l:On||(l=a.type,i=a.pendingProps,h=Vp(de.current).createElement(l),h[Gn]=a,h[Ln]=i,Zi(h,l,i),$n(h),a.stateNode=h):a.memoizedState=T5(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return ze(a),i===null&&On&&(h=a.stateNode=A5(a.type,a.pendingProps,de.current),Jr=a,Oa=!0,v=_r,xc(a.type)?(k0=v,_r=go(h.firstChild)):_r=v),Qi(i,a,a.pendingProps.children,l),Ap(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&On&&((v=h=_r)&&(h=zA(h,a.type,a.pendingProps,Oa),h!==null?(a.stateNode=h,Jr=a,_r=go(h.firstChild),Oa=!1,v=!0):v=!1),v||xl(a)),ze(a),v=a.type,w=a.pendingProps,U=i!==null?i.memoizedProps:null,h=w.children,C0(v,w)?h=null:U!==null&&C0(v,U)&&(a.flags|=32),a.memoizedState!==null&&(v=js(i,a,Yn,null,null,l),Gd._currentValue=v),Ap(i,a),Qi(i,a,h,l),a.child;case 6:return i===null&&On&&((i=l=_r)&&(l=HA(l,a.pendingProps,Oa),l!==null?(a.stateNode=l,Jr=a,_r=null,i=!0):i=!1),i||xl(a)),null;case 13:return xv(i,a,l);case 4:return ke(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=oh(a,null,h,l):Qi(i,a,h,l),a.child;case 11:return dv(i,a,a.type,a.pendingProps,l);case 7:return Qi(i,a,a.pendingProps,l),a.child;case 8:return Qi(i,a,a.pendingProps.children,l),a.child;case 12:return Qi(i,a,a.pendingProps.children,l),a.child;case 10:return h=a.pendingProps,Fo(a,a.type,h.value),Qi(i,a,h.children,l),a.child;case 9:return v=a.type._context,h=a.pendingProps.children,Va(a),v=Zr(v),h=h(v),a.flags|=1,Qi(i,a,h,l),a.child;case 14:return fv(i,a,a.type,a.pendingProps,l);case 15:return pv(i,a,a.type,a.pendingProps,l);case 19:return _v(i,a,l);case 31:return h=a.pendingProps,l=a.mode,h={mode:h.mode,children:h.children},i===null?(l=Ep(h,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Da(i.child,h),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return mv(i,a,l);case 24:return Va(a),h=Zr(ei),i===null?(v=E(),v===null&&(v=hr,w=pd(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=l),v=w),a.memoizedState={parent:h,cache:v},Ce(a),Fo(a,ei,v)):((i.lanes&l)!==0&&(Fe(i,a),ct(a,null,null,l),$t()),v=i.memoizedState,w=a.memoizedState,v.parent!==h?(v={parent:h,cache:h},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),Fo(a,ei,h)):(h=w.cache,Fo(a,ei,h),h!==v.cache&&Zu(a,[ei],l,!0))),Qi(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Sl(i){i.flags|=4}function Av(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!k5(a)){if(a=qa.current,a!==null&&((jn&4194048)===jn?qo!==null:(jn&62914560)!==jn&&(jn&536870912)===0||a!==qo))throw ne=Z,Y;i.flags|=8192}}function Sp(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?rr():536870912,i.lanes|=a,hh|=a)}function Id(i,a){if(!On)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Or(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(a)for(var v=i.child;v!==null;)l|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)l|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=h,i.childLanes=l,a}function gA(i,a,l){var h=a.pendingProps;switch(ou(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(a),null;case 1:return Or(a),null;case 3:return l=a.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Ua(ei),Pe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Yi(a)?Sl(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,rp())),Or(a),null;case 26:return l=a.memoizedState,i===null?(Sl(a),l!==null?(Or(a),Av(a,l)):(Or(a),a.flags&=-16777217)):l?l!==i.memoizedState?(Sl(a),Or(a),Av(a,l)):(Or(a),a.flags&=-16777217):(i.memoizedProps!==h&&Sl(a),Or(a),a.flags&=-16777217),null;case 27:Qe(a),l=de.current;var v=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Sl(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Or(a),null}i=te.current,Yi(a)?np(a):(i=A5(v,h,l),a.stateNode=i,Sl(a))}return Or(a),null;case 5:if(Qe(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Sl(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Or(a),null}if(i=te.current,Yi(a))np(a);else{switch(v=Vp(de.current),i){case 1:i=v.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=v.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=v.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?v.createElement("select",{is:h.is}):v.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?v.createElement(l,{is:h.is}):v.createElement(l)}}i[Gn]=a,i[Ln]=h;e:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)i.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break e;for(;v.sibling===null;){if(v.return===null||v.return===a)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=i;e:switch(Zi(i,l,h),l){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Sl(a)}}return Or(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==h&&Sl(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(i=de.current,Yi(a)){if(i=a.stateNode,l=a.memoizedProps,h=null,v=Jr,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}i[Gn]=a,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||y5(i.nodeValue,l)),i||xl(a)}else i=Vp(i).createTextNode(h),i[Gn]=a,a.stateNode=i}return Or(a),null;case 13:if(h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=Yi(a),h!==null&&h.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Gn]=a}else Is(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Or(a),v=!1}else v=rp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(Al(a),a):(Al(a),null)}if(Al(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=h!==null,i=i!==null&&i.memoizedState!==null,l){h=a.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool);var w=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==v&&(h.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),Sp(a,a.updateQueue),Or(a),null;case 4:return Pe(),i===null&&N0(a.stateNode.containerInfo),Or(a),null;case 10:return Ua(a.type),Or(a),null;case 19:if(B(Ai),v=a.memoizedState,v===null)return Or(a),null;if(h=(a.flags&128)!==0,w=v.rendering,w===null)if(h)Id(v,!1);else{if(Gr!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(w=wp(i),w!==null){for(a.flags|=128,Id(v,!1),i=w.updateQueue,a.updateQueue=i,Sp(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)iu(l,i),l=l.sibling;return X(Ai,Ai.current&1|2),a.child}i=i.sibling}v.tail!==null&&Tt()>Rp&&(a.flags|=128,h=!0,Id(v,!1),a.lanes=4194304)}else{if(!h)if(i=wp(w),i!==null){if(a.flags|=128,h=!0,i=i.updateQueue,a.updateQueue=i,Sp(a,i),Id(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!On)return Or(a),null}else 2*Tt()-v.renderingStartTime>Rp&&l!==536870912&&(a.flags|=128,h=!0,Id(v,!1),a.lanes=4194304);v.isBackwards?(w.sibling=a.child,a.child=w):(i=v.last,i!==null?i.sibling=w:a.child=w,v.last=w)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=Tt(),a.sibling=null,i=Ai.current,X(Ai,h?i&1|2:i&1),a):(Or(a),null);case 22:case 23:return Al(a),Yt(),h=a.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(l&536870912)!==0&&(a.flags&128)===0&&(Or(a),a.subtreeFlags&6&&(a.flags|=8192)):Or(a),l=a.updateQueue,l!==null&&Sp(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==l&&(a.flags|=2048),i!==null&&B(b),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ua(ei),Or(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function yA(i,a){switch(ou(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ua(ei),Pe(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Qe(a),null;case 13:if(Al(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Is()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return B(Ai),null;case 4:return Pe(),null;case 10:return Ua(a.type),null;case 22:case 23:return Al(a),Yt(),i!==null&&B(b),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Ua(ei),null;case 25:return null;default:return null}}function Ev(i,a){switch(ou(a),a.tag){case 3:Ua(ei),Pe();break;case 26:case 27:case 5:Qe(a);break;case 4:Pe();break;case 13:Al(a);break;case 19:B(Ai);break;case 10:Ua(a.type);break;case 22:case 23:Al(a),Yt(),i!==null&&B(b);break;case 24:Ua(ei)}}function jd(i,a){try{var l=a.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var v=h.next;l=v;do{if((l.tag&i)===i){h=void 0;var w=l.create,U=l.inst;h=w(),U.destroy=h}l=l.next}while(l!==v)}}catch(K){or(a,a.return,K)}}function dc(i,a,l){try{var h=a.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var w=v.next;h=w;do{if((h.tag&i)===i){var U=h.inst,K=U.destroy;if(K!==void 0){U.destroy=void 0,v=a;var he=l,Ie=K;try{Ie()}catch(qe){or(v,he,qe)}}}h=h.next}while(h!==w)}}catch(qe){or(a,a.return,qe)}}function Sv(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{Hr(a,l)}catch(h){or(i,i.return,h)}}}function Tv(i,a,l){l.props=vu(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){or(i,a,h)}}function kd(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(v){or(i,a,v)}}function zo(i,a){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(v){or(i,a,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){or(i,a,v)}else l.current=null}function Cv(i){var a=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(v){or(i,i.return,v)}}function Zg(i,a,l){try{var h=i.stateNode;UA(h,i.type,l,a),h[Ln]=a}catch(v){or(i,i.return,v)}}function Rv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&xc(i.type)||i.tag===4}function e0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Rv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&xc(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function t0(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Up));else if(h!==4&&(h===27&&xc(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(t0(i,a,l),i=i.sibling;i!==null;)t0(i,a,l),i=i.sibling}function Tp(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(h!==4&&(h===27&&xc(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Tp(i,a,l),i=i.sibling;i!==null;)Tp(i,a,l),i=i.sibling}function Iv(i){var a=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);Zi(a,h,l),a[Gn]=i,a[Ln]=l}catch(w){or(i,i.return,w)}}var Tl=!1,ii=!1,n0=!1,jv=typeof WeakSet=="function"?WeakSet:Set,Pi=null;function vA(i,a){if(i=i.containerInfo,S0=Gp,i=ec(i),Gi(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var v=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var U=0,K=-1,he=-1,Ie=0,qe=0,Ye=i,Le=null;t:for(;;){for(var De;Ye!==l||v!==0&&Ye.nodeType!==3||(K=U+v),Ye!==w||h!==0&&Ye.nodeType!==3||(he=U+h),Ye.nodeType===3&&(U+=Ye.nodeValue.length),(De=Ye.firstChild)!==null;)Le=Ye,Ye=De;for(;;){if(Ye===i)break t;if(Le===l&&++Ie===v&&(K=U),Le===w&&++qe===h&&(he=U),(De=Ye.nextSibling)!==null)break;Ye=Le,Le=Ye.parentNode}Ye=De}l=K===-1||he===-1?null:{start:K,end:he}}else l=null}l=l||{start:0,end:0}}else l=null;for(T0={focusedElem:i,selectionRange:l},Gp=!1,Pi=a;Pi!==null;)if(a=Pi,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,Pi=i;else for(;Pi!==null;){switch(a=Pi,w=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&w!==null){i=void 0,l=a,v=w.memoizedProps,w=w.memoizedState,h=l.stateNode;try{var Gt=vu(l.type,v,l.elementType===l.type);i=h.getSnapshotBeforeUpdate(Gt,w),h.__reactInternalSnapshotBeforeUpdate=i}catch(Mt){or(l,l.return,Mt)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)I0(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":I0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Pi=i;break}Pi=a.return}}function kv(i,a,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:fc(i,l),h&4&&jd(5,l);break;case 1:if(fc(i,l),h&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(U){or(l,l.return,U)}else{var v=vu(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(v,a,i.__reactInternalSnapshotBeforeUpdate)}catch(U){or(l,l.return,U)}}h&64&&Sv(l),h&512&&kd(l,l.return);break;case 3:if(fc(i,l),h&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Hr(i,a)}catch(U){or(l,l.return,U)}}break;case 27:a===null&&h&4&&Iv(l);case 26:case 5:fc(i,l),a===null&&h&4&&Cv(l),h&512&&kd(l,l.return);break;case 12:fc(i,l);break;case 13:fc(i,l),h&4&&Dv(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=TA.bind(null,l),GA(i,l))));break;case 22:if(h=l.memoizedState!==null||Tl,!h){a=a!==null&&a.memoizedState!==null||ii,v=Tl;var w=ii;Tl=h,(ii=a)&&!w?pc(i,l,(l.subtreeFlags&8772)!==0):fc(i,l),Tl=v,ii=w}break;case 30:break;default:fc(i,l)}}function Lv(i){var a=i.alternate;a!==null&&(i.alternate=null,Lv(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&ci(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Sr=null,$s=!1;function Cl(i,a,l){for(l=l.child;l!==null;)Pv(i,a,l),l=l.sibling}function Pv(i,a,l){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(ut,l)}catch{}switch(l.tag){case 26:ii||zo(l,a),Cl(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ii||zo(l,a);var h=Sr,v=$s;xc(l.type)&&(Sr=l.stateNode,$s=!1),Cl(i,a,l),Bd(l.stateNode),Sr=h,$s=v;break;case 5:ii||zo(l,a);case 6:if(h=Sr,v=$s,Sr=null,Cl(i,a,l),Sr=h,$s=v,Sr!==null)if($s)try{(Sr.nodeType===9?Sr.body:Sr.nodeName==="HTML"?Sr.ownerDocument.body:Sr).removeChild(l.stateNode)}catch(w){or(l,a,w)}else try{Sr.removeChild(l.stateNode)}catch(w){or(l,a,w)}break;case 18:Sr!==null&&($s?(i=Sr,_5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Kd(i)):_5(Sr,l.stateNode));break;case 4:h=Sr,v=$s,Sr=l.stateNode.containerInfo,$s=!0,Cl(i,a,l),Sr=h,$s=v;break;case 0:case 11:case 14:case 15:ii||dc(2,l,a),ii||dc(4,l,a),Cl(i,a,l);break;case 1:ii||(zo(l,a),h=l.stateNode,typeof h.componentWillUnmount=="function"&&Tv(l,a,h)),Cl(i,a,l);break;case 21:Cl(i,a,l);break;case 22:ii=(h=ii)||l.memoizedState!==null,Cl(i,a,l),ii=h;break;default:Cl(i,a,l)}}function Dv(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Kd(i)}catch(l){or(a,a.return,l)}}function bA(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new jv),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new jv),a;default:throw Error(r(435,i.tag))}}function r0(i,a){var l=bA(i);a.forEach(function(h){var v=CA.bind(null,i,h);l.has(h)||(l.add(h),h.then(v,v))})}function aa(i,a){var l=a.deletions;if(l!==null)for(var h=0;h<l.length;h++){var v=l[h],w=i,U=a,K=U;e:for(;K!==null;){switch(K.tag){case 27:if(xc(K.type)){Sr=K.stateNode,$s=!1;break e}break;case 5:Sr=K.stateNode,$s=!1;break e;case 3:case 4:Sr=K.stateNode.containerInfo,$s=!0;break e}K=K.return}if(Sr===null)throw Error(r(160));Pv(w,U,v),Sr=null,$s=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Ov(a,i),a=a.sibling}var mo=null;function Ov(i,a){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:aa(a,i),oa(i),h&4&&(dc(3,i,i.return),jd(3,i),dc(5,i,i.return));break;case 1:aa(a,i),oa(i),h&512&&(ii||l===null||zo(l,l.return)),h&64&&Tl&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var v=mo;if(aa(a,i),oa(i),h&512&&(ii||l===null||zo(l,l.return)),h&4){var w=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":w=v.getElementsByTagName("title")[0],(!w||w[is]||w[Gn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(h),v.head.insertBefore(w,v.querySelector("head > title"))),Zi(w,h,l),w[Gn]=i,$n(w),h=w;break e;case"link":var U=I5("link","href",v).get(h+(l.href||""));if(U){for(var K=0;K<U.length;K++)if(w=U[K],w.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&w.getAttribute("rel")===(l.rel==null?null:l.rel)&&w.getAttribute("title")===(l.title==null?null:l.title)&&w.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){U.splice(K,1);break t}}w=v.createElement(h),Zi(w,h,l),v.head.appendChild(w);break;case"meta":if(U=I5("meta","content",v).get(h+(l.content||""))){for(K=0;K<U.length;K++)if(w=U[K],w.getAttribute("content")===(l.content==null?null:""+l.content)&&w.getAttribute("name")===(l.name==null?null:l.name)&&w.getAttribute("property")===(l.property==null?null:l.property)&&w.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&w.getAttribute("charset")===(l.charSet==null?null:l.charSet)){U.splice(K,1);break t}}w=v.createElement(h),Zi(w,h,l),v.head.appendChild(w);break;default:throw Error(r(468,h))}w[Gn]=i,$n(w),h=w}i.stateNode=h}else j5(v,i.type,i.stateNode);else i.stateNode=R5(v,h,i.memoizedProps);else w!==h?(w===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):w.count--,h===null?j5(v,i.type,i.stateNode):R5(v,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Zg(i,i.memoizedProps,l.memoizedProps)}break;case 27:aa(a,i),oa(i),h&512&&(ii||l===null||zo(l,l.return)),l!==null&&h&4&&Zg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(aa(a,i),oa(i),h&512&&(ii||l===null||zo(l,l.return)),i.flags&32){v=i.stateNode;try{Ui(v,"")}catch(De){or(i,i.return,De)}}h&4&&i.stateNode!=null&&(v=i.memoizedProps,Zg(i,v,l!==null?l.memoizedProps:v)),h&1024&&(n0=!0);break;case 6:if(aa(a,i),oa(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(De){or(i,i.return,De)}}break;case 3:if(qp=null,v=mo,mo=Fp(a.containerInfo),aa(a,i),mo=v,oa(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Kd(a.containerInfo)}catch(De){or(i,i.return,De)}n0&&(n0=!1,Mv(i));break;case 4:h=mo,mo=Fp(i.stateNode.containerInfo),aa(a,i),oa(i),mo=h;break;case 12:aa(a,i),oa(i);break;case 13:aa(a,i),oa(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(c0=Tt()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,r0(i,h)));break;case 22:v=i.memoizedState!==null;var he=l!==null&&l.memoizedState!==null,Ie=Tl,qe=ii;if(Tl=Ie||v,ii=qe||he,aa(a,i),ii=qe,Tl=Ie,oa(i),h&8192)e:for(a=i.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(l===null||he||Tl||ii||bu(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){he=l=a;try{if(w=he.stateNode,v)U=w.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{K=he.stateNode;var Ye=he.memoizedProps.style,Le=Ye!=null&&Ye.hasOwnProperty("display")?Ye.display:null;K.style.display=Le==null||typeof Le=="boolean"?"":(""+Le).trim()}}catch(De){or(he,he.return,De)}}}else if(a.tag===6){if(l===null){he=a;try{he.stateNode.nodeValue=v?"":he.memoizedProps}catch(De){or(he,he.return,De)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,r0(i,l))));break;case 19:aa(a,i),oa(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,r0(i,h)));break;case 30:break;case 21:break;default:aa(a,i),oa(i)}}function oa(i){var a=i.flags;if(a&2){try{for(var l,h=i.return;h!==null;){if(Rv(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var v=l.stateNode,w=e0(i);Tp(i,w,v);break;case 5:var U=l.stateNode;l.flags&32&&(Ui(U,""),l.flags&=-33);var K=e0(i);Tp(i,K,U);break;case 3:case 4:var he=l.stateNode.containerInfo,Ie=e0(i);t0(i,Ie,he);break;default:throw Error(r(161))}}catch(qe){or(i,i.return,qe)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Mv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;Mv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function fc(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)kv(i,a.alternate,a),a=a.sibling}function bu(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:dc(4,a,a.return),bu(a);break;case 1:zo(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Tv(a,a.return,l),bu(a);break;case 27:Bd(a.stateNode);case 26:case 5:zo(a,a.return),bu(a);break;case 22:a.memoizedState===null&&bu(a);break;case 30:bu(a);break;default:bu(a)}i=i.sibling}}function pc(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,v=i,w=a,U=w.flags;switch(w.tag){case 0:case 11:case 15:pc(v,w,l),jd(4,w);break;case 1:if(pc(v,w,l),h=w,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Ie){or(h,h.return,Ie)}if(h=w,v=h.updateQueue,v!==null){var K=h.stateNode;try{var he=v.shared.hiddenCallbacks;if(he!==null)for(v.shared.hiddenCallbacks=null,v=0;v<he.length;v++)pn(he[v],K)}catch(Ie){or(h,h.return,Ie)}}l&&U&64&&Sv(w),kd(w,w.return);break;case 27:Iv(w);case 26:case 5:pc(v,w,l),l&&h===null&&U&4&&Cv(w),kd(w,w.return);break;case 12:pc(v,w,l);break;case 13:pc(v,w,l),l&&U&4&&Dv(v,w);break;case 22:w.memoizedState===null&&pc(v,w,l),kd(w,w.return);break;case 30:break;default:pc(v,w,l)}a=a.sibling}}function i0(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&lu(l))}function s0(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&lu(i))}function Ho(i,a,l,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Uv(i,a,l,h),a=a.sibling}function Uv(i,a,l,h){var v=a.flags;switch(a.tag){case 0:case 11:case 15:Ho(i,a,l,h),v&2048&&jd(9,a);break;case 1:Ho(i,a,l,h);break;case 3:Ho(i,a,l,h),v&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&lu(i)));break;case 12:if(v&2048){Ho(i,a,l,h),i=a.stateNode;try{var w=a.memoizedProps,U=w.id,K=w.onPostCommit;typeof K=="function"&&K(U,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(he){or(a,a.return,he)}}else Ho(i,a,l,h);break;case 13:Ho(i,a,l,h);break;case 23:break;case 22:w=a.stateNode,U=a.alternate,a.memoizedState!==null?w._visibility&2?Ho(i,a,l,h):Ld(i,a):w._visibility&2?Ho(i,a,l,h):(w._visibility|=2,lh(i,a,l,h,(a.subtreeFlags&10256)!==0)),v&2048&&i0(U,a);break;case 24:Ho(i,a,l,h),v&2048&&s0(a.alternate,a);break;default:Ho(i,a,l,h)}}function lh(i,a,l,h,v){for(v=v&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var w=i,U=a,K=l,he=h,Ie=U.flags;switch(U.tag){case 0:case 11:case 15:lh(w,U,K,he,v),jd(8,U);break;case 23:break;case 22:var qe=U.stateNode;U.memoizedState!==null?qe._visibility&2?lh(w,U,K,he,v):Ld(w,U):(qe._visibility|=2,lh(w,U,K,he,v)),v&&Ie&2048&&i0(U.alternate,U);break;case 24:lh(w,U,K,he,v),v&&Ie&2048&&s0(U.alternate,U);break;default:lh(w,U,K,he,v)}a=a.sibling}}function Ld(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,h=a,v=h.flags;switch(h.tag){case 22:Ld(l,h),v&2048&&i0(h.alternate,h);break;case 24:Ld(l,h),v&2048&&s0(h.alternate,h);break;default:Ld(l,h)}a=a.sibling}}var Pd=8192;function ch(i){if(i.subtreeFlags&Pd)for(i=i.child;i!==null;)Vv(i),i=i.sibling}function Vv(i){switch(i.tag){case 26:ch(i),i.flags&Pd&&i.memoizedState!==null&&i6(mo,i.memoizedState,i.memoizedProps);break;case 5:ch(i);break;case 3:case 4:var a=mo;mo=Fp(i.stateNode.containerInfo),ch(i),mo=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Pd,Pd=16777216,ch(i),Pd=a):ch(i));break;default:ch(i)}}function Fv(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Dd(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];Pi=h,qv(h,i)}Fv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Bv(i),i=i.sibling}function Bv(i){switch(i.tag){case 0:case 11:case 15:Dd(i),i.flags&2048&&dc(9,i,i.return);break;case 3:Dd(i);break;case 12:Dd(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Cp(i)):Dd(i);break;default:Dd(i)}}function Cp(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];Pi=h,qv(h,i)}Fv(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:dc(8,a,a.return),Cp(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Cp(a));break;default:Cp(a)}i=i.sibling}}function qv(i,a){for(;Pi!==null;){var l=Pi;switch(l.tag){case 0:case 11:case 15:dc(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:lu(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Pi=h;else e:for(l=i;Pi!==null;){h=Pi;var v=h.sibling,w=h.return;if(Lv(h),h===l){Pi=null;break e}if(v!==null){v.return=w,Pi=v;break e}Pi=w}}}var xA={getCacheForType:function(i){var a=Zr(ei),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},wA=typeof WeakMap=="function"?WeakMap:Map,Wn=0,hr=null,vn=null,jn=0,Kn=0,la=null,mc=!1,uh=!1,a0=!1,Rl=0,Gr=0,gc=0,xu=0,o0=0,za=0,hh=0,Od=null,Ys=null,l0=!1,c0=0,Rp=1/0,Ip=null,yc=null,Ji=0,vc=null,dh=null,fh=0,u0=0,h0=null,zv=null,Md=0,d0=null;function ca(){if((Wn&2)!==0&&jn!==0)return jn&-jn;if(ae.T!==null){var i=wl;return i!==0?i:b0()}return yi()}function Hv(){za===0&&(za=(jn&536870912)===0||On?Vt():536870912);var i=qa.current;return i!==null&&(i.flags|=32),za}function ua(i,a,l){(i===hr&&(Kn===2||Kn===9)||i.cancelPendingCommit!==null)&&(ph(i,0),bc(i,jn,za,!1)),yn(i,l),((Wn&2)===0||i!==hr)&&(i===hr&&((Wn&2)===0&&(xu|=l),Gr===4&&bc(i,jn,za,!1)),Go(i))}function Gv(i,a,l){if((Wn&6)!==0)throw Error(r(327));var h=!l&&(a&124)===0&&(a&i.expiredLanes)===0||_t(i,a),v=h?AA(i,a):m0(i,a,!0),w=h;do{if(v===0){uh&&!h&&bc(i,a,0,!1);break}else{if(l=i.current.alternate,w&&!_A(l)){v=m0(i,a,!1),w=!1;continue}if(v===2){if(w=a,i.errorRecoveryDisabledLanes&w)var U=0;else U=i.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){a=U;e:{var K=i;v=Od;var he=K.current.memoizedState.isDehydrated;if(he&&(ph(K,U).flags|=256),U=m0(K,U,!1),U!==2){if(a0&&!he){K.errorRecoveryDisabledLanes|=w,xu|=w,v=4;break e}w=Ys,Ys=v,w!==null&&(Ys===null?Ys=w:Ys.push.apply(Ys,w))}v=U}if(w=!1,v!==2)continue}}if(v===1){ph(i,0),bc(i,a,0,!0);break}e:{switch(h=i,w=v,w){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:bc(h,a,za,!mc);break e;case 2:Ys=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(v=c0+300-Tt(),10<v)){if(bc(h,a,za,!mc),Cn(h,0,!0)!==0)break e;h.timeoutHandle=x5($v.bind(null,h,l,Ys,Ip,l0,a,za,xu,hh,mc,w,2,-0,0),v);break e}$v(h,l,Ys,Ip,l0,a,za,xu,hh,mc,w,0,-0,0)}}break}while(!0);Go(i)}function $v(i,a,l,h,v,w,U,K,he,Ie,qe,Ye,Le,De){if(i.timeoutHandle=-1,Ye=a.subtreeFlags,(Ye&8192||(Ye&16785408)===16785408)&&(Hd={stylesheets:null,count:0,unsuspend:r6},Vv(a),Ye=s6(),Ye!==null)){i.cancelPendingCommit=Ye(Zv.bind(null,i,a,w,l,h,v,U,K,he,qe,1,Le,De)),bc(i,w,U,!Ie);return}Zv(i,a,w,l,h,v,U,K,he)}function _A(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var v=l[h],w=v.getSnapshot;v=v.value;try{if(!hi(w(),v))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function bc(i,a,l,h){a&=~o0,a&=~xu,i.suspendedLanes|=a,i.pingedLanes&=~a,h&&(i.warmLanes|=a),h=i.expirationTimes;for(var v=a;0<v;){var w=31-st(v),U=1<<w;h[w]=-1,v&=~U}l!==0&&sn(i,l,a)}function jp(){return(Wn&6)===0?(Ud(0),!1):!0}function f0(){if(vn!==null){if(Kn===0)var i=vn.return;else i=vn,lo=fi=null,_i(i),ah=null,Cd=0,i=vn;for(;i!==null;)Ev(i.alternate,i),i=i.return;vn=null}}function ph(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,FA(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),f0(),hr=i,vn=l=Da(i.current,null),jn=a,Kn=0,la=null,mc=!1,uh=_t(i,a),a0=!1,hh=za=o0=xu=gc=Gr=0,Ys=Od=null,l0=!1,(a&8)!==0&&(a|=a&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=a;0<h;){var v=31-st(h),w=1<<v;a|=i[v],h&=~w}return Rl=a,nu(),l}function Yv(i,a){ft=null,ae.H=vp,a===G||a===Q?(a=be(),Kn=3):a===Y?(a=be(),Kn=4):Kn=a===hv?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,la=a,vn===null&&(Gr=1,Np(i,Ts(a,i.current)))}function Wv(){var i=ae.H;return ae.H=vp,i===null?vp:i}function Kv(){var i=ae.A;return ae.A=xA,i}function p0(){Gr=4,mc||(jn&4194048)!==jn&&qa.current!==null||(uh=!0),(gc&134217727)===0&&(xu&134217727)===0||hr===null||bc(hr,jn,za,!1)}function m0(i,a,l){var h=Wn;Wn|=2;var v=Wv(),w=Kv();(hr!==i||jn!==a)&&(Ip=null,ph(i,a)),a=!1;var U=Gr;e:do try{if(Kn!==0&&vn!==null){var K=vn,he=la;switch(Kn){case 8:f0(),U=6;break e;case 3:case 2:case 9:case 6:qa.current===null&&(a=!0);var Ie=Kn;if(Kn=0,la=null,mh(i,K,he,Ie),l&&uh){U=0;break e}break;default:Ie=Kn,Kn=0,la=null,mh(i,K,he,Ie)}}NA(),U=Gr;break}catch(qe){Yv(i,qe)}while(!0);return a&&i.shellSuspendCounter++,lo=fi=null,Wn=h,ae.H=v,ae.A=w,vn===null&&(hr=null,jn=0,nu()),U}function NA(){for(;vn!==null;)Xv(vn)}function AA(i,a){var l=Wn;Wn|=2;var h=Wv(),v=Kv();hr!==i||jn!==a?(Ip=null,Rp=Tt()+500,ph(i,a)):uh=_t(i,a);e:do try{if(Kn!==0&&vn!==null){a=vn;var w=la;t:switch(Kn){case 1:Kn=0,la=null,mh(i,a,w,1);break;case 2:case 9:if(ie(w)){Kn=0,la=null,Qv(a);break}a=function(){Kn!==2&&Kn!==9||hr!==i||(Kn=7),Go(i)},w.then(a,a);break e;case 3:Kn=7;break e;case 4:Kn=5;break e;case 7:ie(w)?(Kn=0,la=null,Qv(a)):(Kn=0,la=null,mh(i,a,w,7));break;case 5:var U=null;switch(vn.tag){case 26:U=vn.memoizedState;case 5:case 27:var K=vn;if(!U||k5(U)){Kn=0,la=null;var he=K.sibling;if(he!==null)vn=he;else{var Ie=K.return;Ie!==null?(vn=Ie,kp(Ie)):vn=null}break t}}Kn=0,la=null,mh(i,a,w,5);break;case 6:Kn=0,la=null,mh(i,a,w,6);break;case 8:f0(),Gr=6;break e;default:throw Error(r(462))}}EA();break}catch(qe){Yv(i,qe)}while(!0);return lo=fi=null,ae.H=h,ae.A=v,Wn=l,vn!==null?0:(hr=null,jn=0,nu(),Gr)}function EA(){for(;vn!==null&&!se();)Xv(vn)}function Xv(i){var a=Nv(i.alternate,i,Rl);i.memoizedProps=i.pendingProps,a===null?kp(i):vn=a}function Qv(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=yv(l,a,a.pendingProps,a.type,void 0,jn);break;case 11:a=yv(l,a,a.pendingProps,a.type.render,a.ref,jn);break;case 5:_i(a);default:Ev(l,a),a=vn=iu(a,Rl),a=Nv(l,a,Rl)}i.memoizedProps=i.pendingProps,a===null?kp(i):vn=a}function mh(i,a,l,h){lo=fi=null,_i(a),ah=null,Cd=0;var v=a.return;try{if(pA(i,v,a,l,jn)){Gr=1,Np(i,Ts(l,i.current)),vn=null;return}}catch(w){if(v!==null)throw vn=v,w;Gr=1,Np(i,Ts(l,i.current)),vn=null;return}a.flags&32768?(On||h===1?i=!0:uh||(jn&536870912)!==0?i=!1:(mc=i=!0,(h===2||h===9||h===3||h===6)&&(h=qa.current,h!==null&&h.tag===13&&(h.flags|=16384))),Jv(a,i)):kp(a)}function kp(i){var a=i;do{if((a.flags&32768)!==0){Jv(a,mc);return}i=a.return;var l=gA(a.alternate,a,Rl);if(l!==null){vn=l;return}if(a=a.sibling,a!==null){vn=a;return}vn=a=i}while(a!==null);Gr===0&&(Gr=5)}function Jv(i,a){do{var l=yA(i.alternate,i);if(l!==null){l.flags&=32767,vn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){vn=i;return}vn=i=l}while(i!==null);Gr=6,vn=null}function Zv(i,a,l,h,v,w,U,K,he){i.cancelPendingCommit=null;do Lp();while(Ji!==0);if((Wn&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(w=a.lanes|a.childLanes,w|=Yu,Pt(i,l,w,U,K,he),i===hr&&(vn=hr=null,jn=0),dh=a,vc=i,fh=l,u0=w,h0=v,zv=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,RA(tt,function(){return i5(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=ae.T,ae.T=null,v=ye.p,ye.p=2,U=Wn,Wn|=4;try{vA(i,a,l)}finally{Wn=U,ye.p=v,ae.T=h}}Ji=1,e5(),t5(),n5()}}function e5(){if(Ji===1){Ji=0;var i=vc,a=dh,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=ae.T,ae.T=null;var h=ye.p;ye.p=2;var v=Wn;Wn|=4;try{Ov(a,i);var w=T0,U=ec(i.containerInfo),K=w.focusedElem,he=w.selectionRange;if(U!==K&&K&&K.ownerDocument&&ka(K.ownerDocument.documentElement,K)){if(he!==null&&Gi(K)){var Ie=he.start,qe=he.end;if(qe===void 0&&(qe=Ie),"selectionStart"in K)K.selectionStart=Ie,K.selectionEnd=Math.min(qe,K.value.length);else{var Ye=K.ownerDocument||document,Le=Ye&&Ye.defaultView||window;if(Le.getSelection){var De=Le.getSelection(),Gt=K.textContent.length,Mt=Math.min(he.start,Gt),nr=he.end===void 0?Mt:Math.min(he.end,Gt);!De.extend&&Mt>nr&&(U=nr,nr=Mt,Mt=U);var Ne=Oo(K,Mt),ve=Oo(K,nr);if(Ne&&ve&&(De.rangeCount!==1||De.anchorNode!==Ne.node||De.anchorOffset!==Ne.offset||De.focusNode!==ve.node||De.focusOffset!==ve.offset)){var Te=Ye.createRange();Te.setStart(Ne.node,Ne.offset),De.removeAllRanges(),Mt>nr?(De.addRange(Te),De.extend(ve.node,ve.offset)):(Te.setEnd(ve.node,ve.offset),De.addRange(Te))}}}}for(Ye=[],De=K;De=De.parentNode;)De.nodeType===1&&Ye.push({element:De,left:De.scrollLeft,top:De.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<Ye.length;K++){var Ge=Ye[K];Ge.element.scrollLeft=Ge.left,Ge.element.scrollTop=Ge.top}}Gp=!!S0,T0=S0=null}finally{Wn=v,ye.p=h,ae.T=l}}i.current=a,Ji=2}}function t5(){if(Ji===2){Ji=0;var i=vc,a=dh,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=ae.T,ae.T=null;var h=ye.p;ye.p=2;var v=Wn;Wn|=4;try{kv(i,a.alternate,a)}finally{Wn=v,ye.p=h,ae.T=l}}Ji=3}}function n5(){if(Ji===4||Ji===3){Ji=0,nn();var i=vc,a=dh,l=fh,h=zv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ji=5:(Ji=0,dh=vc=null,r5(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(yc=null),rs(l),a=a.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(ut,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=ae.T,v=ye.p,ye.p=2,ae.T=null;try{for(var w=i.onRecoverableError,U=0;U<h.length;U++){var K=h[U];w(K.value,{componentStack:K.stack})}}finally{ae.T=a,ye.p=v}}(fh&3)!==0&&Lp(),Go(i),v=i.pendingLanes,(l&4194090)!==0&&(v&42)!==0?i===d0?Md++:(Md=0,d0=i):Md=0,Ud(0)}}function r5(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,lu(a)))}function Lp(i){return e5(),t5(),n5(),i5()}function i5(){if(Ji!==5)return!1;var i=vc,a=u0;u0=0;var l=rs(fh),h=ae.T,v=ye.p;try{ye.p=32>l?32:l,ae.T=null,l=h0,h0=null;var w=vc,U=fh;if(Ji=0,dh=vc=null,fh=0,(Wn&6)!==0)throw Error(r(331));var K=Wn;if(Wn|=4,Bv(w.current),Uv(w,w.current,U,l),Wn=K,Ud(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(ut,w)}catch{}return!0}finally{ye.p=v,ae.T=h,r5(i,a)}}function s5(i,a,l){a=Ts(l,a),a=Hg(i.stateNode,a,2),i=Xe(i,a,2),i!==null&&(yn(i,2),Go(i))}function or(i,a,l){if(i.tag===3)s5(i,i,l);else for(;a!==null;){if(a.tag===3){s5(a,i,l);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(yc===null||!yc.has(h))){i=Ts(l,i),l=cv(2),h=Xe(a,l,2),h!==null&&(uv(l,h,a,i),yn(h,2),Go(h));break}}a=a.return}}function g0(i,a,l){var h=i.pingCache;if(h===null){h=i.pingCache=new wA;var v=new Set;h.set(a,v)}else v=h.get(a),v===void 0&&(v=new Set,h.set(a,v));v.has(l)||(a0=!0,v.add(l),i=SA.bind(null,i,a,l),a.then(i,i))}function SA(i,a,l){var h=i.pingCache;h!==null&&h.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,hr===i&&(jn&l)===l&&(Gr===4||Gr===3&&(jn&62914560)===jn&&300>Tt()-c0?(Wn&2)===0&&ph(i,0):o0|=l,hh===jn&&(hh=0)),Go(i)}function a5(i,a){a===0&&(a=rr()),i=ml(i,a),i!==null&&(yn(i,a),Go(i))}function TA(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),a5(i,l)}function CA(i,a){var l=0;switch(i.tag){case 13:var h=i.stateNode,v=i.memoizedState;v!==null&&(l=v.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),a5(i,l)}function RA(i,a){return rt(i,a)}var Pp=null,gh=null,y0=!1,Dp=!1,v0=!1,wu=0;function Go(i){i!==gh&&i.next===null&&(gh===null?Pp=gh=i:gh=gh.next=i),Dp=!0,y0||(y0=!0,jA())}function Ud(i,a){if(!v0&&Dp){v0=!0;do for(var l=!1,h=Pp;h!==null;){if(i!==0){var v=h.pendingLanes;if(v===0)var w=0;else{var U=h.suspendedLanes,K=h.pingedLanes;w=(1<<31-st(42|i)+1)-1,w&=v&~(U&~K),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(l=!0,u5(h,w))}else w=jn,w=Cn(h,h===hr?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||_t(h,w)||(l=!0,u5(h,w));h=h.next}while(l);v0=!1}}function IA(){o5()}function o5(){Dp=y0=!1;var i=0;wu!==0&&(VA()&&(i=wu),wu=0);for(var a=Tt(),l=null,h=Pp;h!==null;){var v=h.next,w=l5(h,a);w===0?(h.next=null,l===null?Pp=v:l.next=v,v===null&&(gh=l)):(l=h,(i!==0||(w&3)!==0)&&(Dp=!0)),h=v}Ud(i)}function l5(i,a){for(var l=i.suspendedLanes,h=i.pingedLanes,v=i.expirationTimes,w=i.pendingLanes&-62914561;0<w;){var U=31-st(w),K=1<<U,he=v[U];he===-1?((K&l)===0||(K&h)!==0)&&(v[U]=rn(K,a)):he<=a&&(i.expiredLanes|=K),w&=~K}if(a=hr,l=jn,l=Cn(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===a&&(Kn===2||Kn===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Me(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||_t(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(h!==null&&Me(h),rs(l)){case 2:case 8:l=yt;break;case 32:l=tt;break;case 268435456:l=bt;break;default:l=tt}return h=c5.bind(null,i),l=rt(l,h),i.callbackPriority=a,i.callbackNode=l,a}return h!==null&&h!==null&&Me(h),i.callbackPriority=2,i.callbackNode=null,2}function c5(i,a){if(Ji!==0&&Ji!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Lp()&&i.callbackNode!==l)return null;var h=jn;return h=Cn(i,i===hr?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(Gv(i,h,a),l5(i,Tt()),i.callbackNode!=null&&i.callbackNode===l?c5.bind(null,i):null)}function u5(i,a){if(Lp())return null;Gv(i,a,!0)}function jA(){BA(function(){(Wn&6)!==0?rt(Ze,IA):o5()})}function b0(){return wu===0&&(wu=Vt()),wu}function h5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ms(""+i)}function d5(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function kA(i,a,l,h,v){if(a==="submit"&&l&&l.stateNode===v){var w=h5((v[Ln]||null).action),U=h.submitter;U&&(a=(a=U[Ln]||null)?h5(a.formAction):U.getAttribute("formAction"),a!==null&&(w=a,U=null));var K=new Aa("action","action",null,h,v);i.push({event:K,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(wu!==0){var he=U?d5(v,U):new FormData(v);Ba(l,{pending:!0,data:he,method:v.method,action:w},null,he)}}else typeof w=="function"&&(K.preventDefault(),he=U?d5(v,U):new FormData(v),Ba(l,{pending:!0,data:he,method:v.method,action:w},w,he))},currentTarget:v}]})}}for(var x0=0;x0<$u.length;x0++){var w0=$u[x0],LA=w0.toLowerCase(),PA=w0[0].toUpperCase()+w0.slice(1);zs(LA,"on"+PA)}zs(ld,"onAnimationEnd"),zs(cd,"onAnimationIteration"),zs(ud,"onAnimationStart"),zs("dblclick","onDoubleClick"),zs("focusin","onFocus"),zs("focusout","onBlur"),zs(Jf,"onTransitionRun"),zs(Zf,"onTransitionStart"),zs(ep,"onTransitionCancel"),zs(hd,"onTransitionEnd"),as("onMouseEnter",["mouseout","mouseover"]),as("onMouseLeave",["mouseout","mouseover"]),as("onPointerEnter",["pointerout","pointerover"]),as("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vd));function f5(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],v=h.event;h=h.listeners;e:{var w=void 0;if(a)for(var U=h.length-1;0<=U;U--){var K=h[U],he=K.instance,Ie=K.currentTarget;if(K=K.listener,he!==w&&v.isPropagationStopped())break e;w=K,v.currentTarget=Ie;try{w(v)}catch(qe){_p(qe)}v.currentTarget=null,w=he}else for(U=0;U<h.length;U++){if(K=h[U],he=K.instance,Ie=K.currentTarget,K=K.listener,he!==w&&v.isPropagationStopped())break e;w=K,v.currentTarget=Ie;try{w(v)}catch(qe){_p(qe)}v.currentTarget=null,w=he}}}}function bn(i,a){var l=a[Qn];l===void 0&&(l=a[Qn]=new Set);var h=i+"__bubble";l.has(h)||(p5(a,i,2,!1),l.add(h))}function _0(i,a,l){var h=0;a&&(h|=4),p5(l,i,h,a)}var Op="_reactListening"+Math.random().toString(36).slice(2);function N0(i){if(!i[Op]){i[Op]=!0,ss.forEach(function(l){l!=="selectionchange"&&(DA.has(l)||_0(l,!1,i),_0(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Op]||(a[Op]=!0,_0("selectionchange",!1,a))}}function p5(i,a,l,h){switch(U5(a)){case 2:var v=l6;break;case 8:v=c6;break;default:v=M0}l=v.bind(null,a,l,i),v=void 0,!Br||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),h?v!==void 0?i.addEventListener(a,l,{capture:!0,passive:v}):i.addEventListener(a,l,!0):v!==void 0?i.addEventListener(a,l,{passive:v}):i.addEventListener(a,l,!1)}function A0(i,a,l,h,v){var w=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var U=h.tag;if(U===3||U===4){var K=h.stateNode.containerInfo;if(K===v)break;if(U===4)for(U=h.return;U!==null;){var he=U.tag;if((he===3||he===4)&&U.stateNode.containerInfo===v)return;U=U.return}for(;K!==null;){if(U=ui(K),U===null)return;if(he=U.tag,he===5||he===6||he===26||he===27){h=w=U;continue e}K=K.parentNode}}h=h.return}Xl(function(){var Ie=w,qe=cs(l),Ye=[];e:{var Le=dd.get(i);if(Le!==void 0){var De=Aa,Gt=i;switch(i){case"keypress":if(Ci(l)===0)break e;case"keydown":case"keyup":De=ir;break;case"focusin":Gt="focus",De=N;break;case"focusout":Gt="blur",De=N;break;case"beforeblur":case"afterblur":De=N;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=Ri;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=qi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=zr;break;case ld:case cd:case ud:De=re;break;case hd:De=ra;break;case"scroll":case"scrollend":De=Ea;break;case"wheel":De=to;break;case"copy":case"cut":case"paste":De=we;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=gr;break;case"toggle":case"beforetoggle":De=ds}var Mt=(a&4)!==0,nr=!Mt&&(i==="scroll"||i==="scrollend"),Ne=Mt?Le!==null?Le+"Capture":null:Le;Mt=[];for(var ve=Ie,Te;ve!==null;){var Ge=ve;if(Te=Ge.stateNode,Ge=Ge.tag,Ge!==5&&Ge!==26&&Ge!==27||Te===null||Ne===null||(Ge=Za(ve,Ne),Ge!=null&&Mt.push(Fd(ve,Ge,Te))),nr)break;ve=ve.return}0<Mt.length&&(Le=new De(Le,Gt,null,l,qe),Ye.push({event:Le,listeners:Mt}))}}if((a&7)===0){e:{if(Le=i==="mouseover"||i==="pointerover",De=i==="mouseout"||i==="pointerout",Le&&l!==Ti&&(Gt=l.relatedTarget||l.fromElement)&&(ui(Gt)||Gt[mr]))break e;if((De||Le)&&(Le=qe.window===qe?qe:(Le=qe.ownerDocument)?Le.defaultView||Le.parentWindow:window,De?(Gt=l.relatedTarget||l.toElement,De=Ie,Gt=Gt?ui(Gt):null,Gt!==null&&(nr=o(Gt),Mt=Gt.tag,Gt!==nr||Mt!==5&&Mt!==27&&Mt!==6)&&(Gt=null)):(De=null,Gt=Ie),De!==Gt)){if(Mt=Ri,Ge="onMouseLeave",Ne="onMouseEnter",ve="mouse",(i==="pointerout"||i==="pointerover")&&(Mt=gr,Ge="onPointerLeave",Ne="onPointerEnter",ve="pointer"),nr=De==null?Le:Fr(De),Te=Gt==null?Le:Fr(Gt),Le=new Mt(Ge,ve+"leave",De,l,qe),Le.target=nr,Le.relatedTarget=Te,Ge=null,ui(qe)===Ie&&(Mt=new Mt(Ne,ve+"enter",Gt,l,qe),Mt.target=Te,Mt.relatedTarget=nr,Ge=Mt),nr=Ge,De&&Gt)t:{for(Mt=De,Ne=Gt,ve=0,Te=Mt;Te;Te=yh(Te))ve++;for(Te=0,Ge=Ne;Ge;Ge=yh(Ge))Te++;for(;0<ve-Te;)Mt=yh(Mt),ve--;for(;0<Te-ve;)Ne=yh(Ne),Te--;for(;ve--;){if(Mt===Ne||Ne!==null&&Mt===Ne.alternate)break t;Mt=yh(Mt),Ne=yh(Ne)}Mt=null}else Mt=null;De!==null&&m5(Ye,Le,De,Mt,!1),Gt!==null&&nr!==null&&m5(Ye,nr,Gt,Mt,!0)}}e:{if(Le=Ie?Fr(Ie):window,De=Le.nodeName&&Le.nodeName.toLowerCase(),De==="select"||De==="input"&&Le.type==="file")var mt=Hi;else if(Mn(Le))if(Po)mt=Zl;else{mt=Ra;var mn=ad}else De=Le.nodeName,!De||De.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?Ie&&hl(Ie.elementType)&&(mt=Hi):mt=Ia;if(mt&&(mt=mt(i,Ie))){Ss(Ye,mt,l,qe);break e}mn&&mn(i,Le,Ie),i==="focusout"&&Ie&&Le.type==="number"&&Ie.memoizedProps.value!=null&&xa(Le,"number",Le.value)}switch(mn=Ie?Fr(Ie):window,i){case"focusin":(Mn(mn)||mn.contentEditable==="true")&&(Dn=mn,Bn=Ie,sr=null);break;case"focusout":sr=Bn=Dn=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,Pa(Ye,l,qe);break;case"selectionchange":if(La)break;case"keydown":case"keyup":Pa(Ye,l,qe)}var At;if(zi)e:{switch(i){case"compositionstart":var Ut="onCompositionStart";break e;case"compositionend":Ut="onCompositionEnd";break e;case"compositionupdate":Ut="onCompositionUpdate";break e}Ut=void 0}else un?Oe(i,l)&&(Ut="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ut="onCompositionStart");Ut&&(L&&l.locale!=="ko"&&(un||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&un&&(At=eo()):(Vs=qe,_a="value"in Vs?Vs.value:Vs.textContent,un=!0)),mn=Mp(Ie,Ut),0<mn.length&&(Ut=new We(Ut,i,null,l,qe),Ye.push({event:Ut,listeners:mn}),At?Ut.data=At:(At=Je(l),At!==null&&(Ut.data=At)))),(At=S?ur(i,l):hn(i,l))&&(Ut=Mp(Ie,"onBeforeInput"),0<Ut.length&&(mn=new We("onBeforeInput","beforeinput",null,l,qe),Ye.push({event:mn,listeners:Ut}),mn.data=At)),kA(Ye,i,Ie,l,qe)}f5(Ye,a)})}function Fd(i,a,l){return{instance:i,listener:a,currentTarget:l}}function Mp(i,a){for(var l=a+"Capture",h=[];i!==null;){var v=i,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=Za(i,l),v!=null&&h.unshift(Fd(i,v,w)),v=Za(i,a),v!=null&&h.push(Fd(i,v,w))),i.tag===3)return h;i=i.return}return[]}function yh(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function m5(i,a,l,h,v){for(var w=a._reactName,U=[];l!==null&&l!==h;){var K=l,he=K.alternate,Ie=K.stateNode;if(K=K.tag,he!==null&&he===h)break;K!==5&&K!==26&&K!==27||Ie===null||(he=Ie,v?(Ie=Za(l,w),Ie!=null&&U.unshift(Fd(l,Ie,he))):v||(Ie=Za(l,w),Ie!=null&&U.push(Fd(l,Ie,he)))),l=l.return}U.length!==0&&i.push({event:a,listeners:U})}var OA=/\r\n?/g,MA=/\u0000|\uFFFD/g;function g5(i){return(typeof i=="string"?i:""+i).replace(OA,`
`).replace(MA,"")}function y5(i,a){return a=g5(a),g5(i)===a}function Up(){}function tr(i,a,l,h,v,w){switch(l){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Ui(i,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Ui(i,""+h);break;case"className":Rr(i,"class",h);break;case"tabIndex":Rr(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Rr(i,l,h);break;case"style":ul(i,h,w);break;case"data":if(a!=="object"){Rr(i,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Ms(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(l==="formAction"?(a!=="input"&&tr(i,a,"name",v.name,v,null),tr(i,a,"formEncType",v.formEncType,v,null),tr(i,a,"formMethod",v.formMethod,v,null),tr(i,a,"formTarget",v.formTarget,v,null)):(tr(i,a,"encType",v.encType,v,null),tr(i,a,"method",v.method,v,null),tr(i,a,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Ms(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=Up);break;case"onScroll":h!=null&&bn("scroll",i);break;case"onScrollEnd":h!=null&&bn("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Ms(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":bn("beforetoggle",i),bn("toggle",i),Zs(i,"popover",h);break;case"xlinkActuate":Ir(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ir(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ir(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ir(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ir(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ir(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ir(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ir(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ir(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Zs(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=eu.get(l)||l,Zs(i,l,h))}}function E0(i,a,l,h,v,w){switch(l){case"style":ul(i,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?Ui(i,h):(typeof h=="number"||typeof h=="bigint")&&Ui(i,""+h);break;case"onScroll":h!=null&&bn("scroll",i);break;case"onScrollEnd":h!=null&&bn("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Up);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ds.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),a=l.slice(2,v?l.length-7:void 0),w=i[Ln]||null,w=w!=null?w[l]:null,typeof w=="function"&&i.removeEventListener(a,w,v),typeof h=="function")){typeof w!="function"&&w!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,h,v);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):Zs(i,l,h)}}}function Zi(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bn("error",i),bn("load",i);var h=!1,v=!1,w;for(w in l)if(l.hasOwnProperty(w)){var U=l[w];if(U!=null)switch(w){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:tr(i,a,w,U,l,null)}}v&&tr(i,a,"srcSet",l.srcSet,l,null),h&&tr(i,a,"src",l.src,l,null);return;case"input":bn("invalid",i);var K=w=U=v=null,he=null,Ie=null;for(h in l)if(l.hasOwnProperty(h)){var qe=l[h];if(qe!=null)switch(h){case"name":v=qe;break;case"type":U=qe;break;case"checked":he=qe;break;case"defaultChecked":Ie=qe;break;case"value":w=qe;break;case"defaultValue":K=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(r(137,a));break;default:tr(i,a,h,qe,l,null)}}Ja(i,w,K,he,Ie,U,v,!1),os(i);return;case"select":bn("invalid",i),h=U=w=null;for(v in l)if(l.hasOwnProperty(v)&&(K=l[v],K!=null))switch(v){case"value":w=K;break;case"defaultValue":U=K;break;case"multiple":h=K;default:tr(i,a,v,K,l,null)}a=w,l=U,i.multiple=!!h,a!=null?ta(i,!!h,a,!1):l!=null&&ta(i,!!h,l,!0);return;case"textarea":bn("invalid",i),w=v=h=null;for(U in l)if(l.hasOwnProperty(U)&&(K=l[U],K!=null))switch(U){case"value":h=K;break;case"defaultValue":v=K;break;case"children":w=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(91));break;default:tr(i,a,U,K,l,null)}wa(i,h,v,w),os(i);return;case"option":for(he in l)if(l.hasOwnProperty(he)&&(h=l[he],h!=null))switch(he){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:tr(i,a,he,h,l,null)}return;case"dialog":bn("beforetoggle",i),bn("toggle",i),bn("cancel",i),bn("close",i);break;case"iframe":case"object":bn("load",i);break;case"video":case"audio":for(h=0;h<Vd.length;h++)bn(Vd[h],i);break;case"image":bn("error",i),bn("load",i);break;case"details":bn("toggle",i);break;case"embed":case"source":case"link":bn("error",i),bn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ie in l)if(l.hasOwnProperty(Ie)&&(h=l[Ie],h!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:tr(i,a,Ie,h,l,null)}return;default:if(hl(a)){for(qe in l)l.hasOwnProperty(qe)&&(h=l[qe],h!==void 0&&E0(i,a,qe,h,l,void 0));return}}for(K in l)l.hasOwnProperty(K)&&(h=l[K],h!=null&&tr(i,a,K,h,l,null))}function UA(i,a,l,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,U=null,K=null,he=null,Ie=null,qe=null;for(De in l){var Ye=l[De];if(l.hasOwnProperty(De)&&Ye!=null)switch(De){case"checked":break;case"value":break;case"defaultValue":he=Ye;default:h.hasOwnProperty(De)||tr(i,a,De,null,h,Ye)}}for(var Le in h){var De=h[Le];if(Ye=l[Le],h.hasOwnProperty(Le)&&(De!=null||Ye!=null))switch(Le){case"type":w=De;break;case"name":v=De;break;case"checked":Ie=De;break;case"defaultChecked":qe=De;break;case"value":U=De;break;case"defaultValue":K=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,a));break;default:De!==Ye&&tr(i,a,Le,De,h,Ye)}}bi(i,U,K,he,Ie,qe,w,v);return;case"select":De=U=K=Le=null;for(w in l)if(he=l[w],l.hasOwnProperty(w)&&he!=null)switch(w){case"value":break;case"multiple":De=he;default:h.hasOwnProperty(w)||tr(i,a,w,null,h,he)}for(v in h)if(w=h[v],he=l[v],h.hasOwnProperty(v)&&(w!=null||he!=null))switch(v){case"value":Le=w;break;case"defaultValue":K=w;break;case"multiple":U=w;default:w!==he&&tr(i,a,v,w,h,he)}a=K,l=U,h=De,Le!=null?ta(i,!!l,Le,!1):!!h!=!!l&&(a!=null?ta(i,!!l,a,!0):ta(i,!!l,l?[]:"",!1));return;case"textarea":De=Le=null;for(K in l)if(v=l[K],l.hasOwnProperty(K)&&v!=null&&!h.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:tr(i,a,K,null,h,v)}for(U in h)if(v=h[U],w=l[U],h.hasOwnProperty(U)&&(v!=null||w!=null))switch(U){case"value":Le=v;break;case"defaultValue":De=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==w&&tr(i,a,U,v,h,w)}ln(i,Le,De);return;case"option":for(var Gt in l)if(Le=l[Gt],l.hasOwnProperty(Gt)&&Le!=null&&!h.hasOwnProperty(Gt))switch(Gt){case"selected":i.selected=!1;break;default:tr(i,a,Gt,null,h,Le)}for(he in h)if(Le=h[he],De=l[he],h.hasOwnProperty(he)&&Le!==De&&(Le!=null||De!=null))switch(he){case"selected":i.selected=Le&&typeof Le!="function"&&typeof Le!="symbol";break;default:tr(i,a,he,Le,h,De)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in l)Le=l[Mt],l.hasOwnProperty(Mt)&&Le!=null&&!h.hasOwnProperty(Mt)&&tr(i,a,Mt,null,h,Le);for(Ie in h)if(Le=h[Ie],De=l[Ie],h.hasOwnProperty(Ie)&&Le!==De&&(Le!=null||De!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(r(137,a));break;default:tr(i,a,Ie,Le,h,De)}return;default:if(hl(a)){for(var nr in l)Le=l[nr],l.hasOwnProperty(nr)&&Le!==void 0&&!h.hasOwnProperty(nr)&&E0(i,a,nr,void 0,h,Le);for(qe in h)Le=h[qe],De=l[qe],!h.hasOwnProperty(qe)||Le===De||Le===void 0&&De===void 0||E0(i,a,qe,Le,h,De);return}}for(var Ne in l)Le=l[Ne],l.hasOwnProperty(Ne)&&Le!=null&&!h.hasOwnProperty(Ne)&&tr(i,a,Ne,null,h,Le);for(Ye in h)Le=h[Ye],De=l[Ye],!h.hasOwnProperty(Ye)||Le===De||Le==null&&De==null||tr(i,a,Ye,Le,h,De)}var S0=null,T0=null;function Vp(i){return i.nodeType===9?i:i.ownerDocument}function v5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b5(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function C0(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var R0=null;function VA(){var i=window.event;return i&&i.type==="popstate"?i===R0?!1:(R0=i,!0):(R0=null,!1)}var x5=typeof setTimeout=="function"?setTimeout:void 0,FA=typeof clearTimeout=="function"?clearTimeout:void 0,w5=typeof Promise=="function"?Promise:void 0,BA=typeof queueMicrotask=="function"?queueMicrotask:typeof w5<"u"?function(i){return w5.resolve(null).then(i).catch(qA)}:x5;function qA(i){setTimeout(function(){throw i})}function xc(i){return i==="head"}function _5(i,a){var l=a,h=0,v=0;do{var w=l.nextSibling;if(i.removeChild(l),w&&w.nodeType===8)if(l=w.data,l==="/$"){if(0<h&&8>h){l=h;var U=i.ownerDocument;if(l&1&&Bd(U.documentElement),l&2&&Bd(U.body),l&4)for(l=U.head,Bd(l),U=l.firstChild;U;){var K=U.nextSibling,he=U.nodeName;U[is]||he==="SCRIPT"||he==="STYLE"||he==="LINK"&&U.rel.toLowerCase()==="stylesheet"||l.removeChild(U),U=K}}if(v===0){i.removeChild(w),Kd(a);return}v--}else l==="$"||l==="$?"||l==="$!"?v++:h=l.charCodeAt(0)-48;else h=0;l=w}while(l);Kd(a)}function I0(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":I0(l),ci(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function zA(i,a,l,h){for(;i.nodeType===1;){var v=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[is])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(w=i.getAttribute("rel"),w==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(w!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(w=i.getAttribute("src"),(w!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===w)return i}else return i;if(i=go(i.nextSibling),i===null)break}return null}function HA(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=go(i.nextSibling),i===null))return null;return i}function j0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function GA(i,a){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")a();else{var h=function(){a(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function go(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var k0=null;function N5(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function A5(i,a,l){switch(a=Vp(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Bd(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);ci(i)}var Ha=new Map,E5=new Set;function Fp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Il=ye.d;ye.d={f:$A,r:YA,D:WA,C:KA,L:XA,m:QA,X:ZA,S:JA,M:e6};function $A(){var i=Il.f(),a=jp();return i||a}function YA(i){var a=Vr(i);a!==null&&a.tag===5&&a.type==="form"?gu(a):Il.r(i)}var vh=typeof document>"u"?null:document;function S5(i,a,l){var h=vh;if(h&&typeof a=="string"&&a){var v=tn(a);v='link[rel="'+i+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),E5.has(v)||(E5.add(v),i={rel:i,crossOrigin:l,href:a},h.querySelector(v)===null&&(a=h.createElement("link"),Zi(a,"link",i),$n(a),h.head.appendChild(a)))}}function WA(i){Il.D(i),S5("dns-prefetch",i,null)}function KA(i,a){Il.C(i,a),S5("preconnect",i,a)}function XA(i,a,l){Il.L(i,a,l);var h=vh;if(h&&i&&a){var v='link[rel="preload"][as="'+tn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+tn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+tn(l.imageSizes)+'"]')):v+='[href="'+tn(i)+'"]';var w=v;switch(a){case"style":w=bh(i);break;case"script":w=xh(i)}Ha.has(w)||(i=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Ha.set(w,i),h.querySelector(v)!==null||a==="style"&&h.querySelector(qd(w))||a==="script"&&h.querySelector(zd(w))||(a=h.createElement("link"),Zi(a,"link",i),$n(a),h.head.appendChild(a)))}}function QA(i,a){Il.m(i,a);var l=vh;if(l&&i){var h=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+tn(h)+'"][href="'+tn(i)+'"]',w=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=xh(i)}if(!Ha.has(w)&&(i=y({rel:"modulepreload",href:i},a),Ha.set(w,i),l.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(zd(w)))return}h=l.createElement("link"),Zi(h,"link",i),$n(h),l.head.appendChild(h)}}}function JA(i,a,l){Il.S(i,a,l);var h=vh;if(h&&i){var v=Jn(h).hoistableStyles,w=bh(i);a=a||"default";var U=v.get(w);if(!U){var K={loading:0,preload:null};if(U=h.querySelector(qd(w)))K.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Ha.get(w))&&L0(i,l);var he=U=h.createElement("link");$n(he),Zi(he,"link",i),he._p=new Promise(function(Ie,qe){he.onload=Ie,he.onerror=qe}),he.addEventListener("load",function(){K.loading|=1}),he.addEventListener("error",function(){K.loading|=2}),K.loading|=4,Bp(U,a,h)}U={type:"stylesheet",instance:U,count:1,state:K},v.set(w,U)}}}function ZA(i,a){Il.X(i,a);var l=vh;if(l&&i){var h=Jn(l).hoistableScripts,v=xh(i),w=h.get(v);w||(w=l.querySelector(zd(v)),w||(i=y({src:i,async:!0},a),(a=Ha.get(v))&&P0(i,a),w=l.createElement("script"),$n(w),Zi(w,"link",i),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(v,w))}}function e6(i,a){Il.M(i,a);var l=vh;if(l&&i){var h=Jn(l).hoistableScripts,v=xh(i),w=h.get(v);w||(w=l.querySelector(zd(v)),w||(i=y({src:i,async:!0,type:"module"},a),(a=Ha.get(v))&&P0(i,a),w=l.createElement("script"),$n(w),Zi(w,"link",i),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(v,w))}}function T5(i,a,l,h){var v=(v=de.current)?Fp(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=bh(l.href),l=Jn(v).hoistableStyles,h=l.get(a),h||(h={type:"style",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=bh(l.href);var w=Jn(v).hoistableStyles,U=w.get(i);if(U||(v=v.ownerDocument||v,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(i,U),(w=v.querySelector(qd(i)))&&!w._p&&(U.instance=w,U.state.loading=5),Ha.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ha.set(i,l),w||t6(v,i,l,U.state))),a&&h===null)throw Error(r(528,""));return U}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=xh(l),l=Jn(v).hoistableScripts,h=l.get(a),h||(h={type:"script",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function bh(i){return'href="'+tn(i)+'"'}function qd(i){return'link[rel="stylesheet"]['+i+"]"}function C5(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function t6(i,a,l,h){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=i.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),Zi(a,"link",l),$n(a),i.head.appendChild(a))}function xh(i){return'[src="'+tn(i)+'"]'}function zd(i){return"script[async]"+i}function R5(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var h=i.querySelector('style[data-href~="'+tn(l.href)+'"]');if(h)return a.instance=h,$n(h),h;var v=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),$n(h),Zi(h,"style",v),Bp(h,l.precedence,i),a.instance=h;case"stylesheet":v=bh(l.href);var w=i.querySelector(qd(v));if(w)return a.state.loading|=4,a.instance=w,$n(w),w;h=C5(l),(v=Ha.get(v))&&L0(h,v),w=(i.ownerDocument||i).createElement("link"),$n(w);var U=w;return U._p=new Promise(function(K,he){U.onload=K,U.onerror=he}),Zi(w,"link",h),a.state.loading|=4,Bp(w,l.precedence,i),a.instance=w;case"script":return w=xh(l.src),(v=i.querySelector(zd(w)))?(a.instance=v,$n(v),v):(h=l,(v=Ha.get(w))&&(h=y({},l),P0(h,v)),i=i.ownerDocument||i,v=i.createElement("script"),$n(v),Zi(v,"link",h),i.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Bp(h,l.precedence,i));return a.instance}function Bp(i,a,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,w=v,U=0;U<h.length;U++){var K=h[U];if(K.dataset.precedence===a)w=K;else if(w!==v)break}w?w.parentNode.insertBefore(i,w.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function L0(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function P0(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var qp=null;function I5(i,a,l){if(qp===null){var h=new Map,v=qp=new Map;v.set(l,h)}else v=qp,h=v.get(l),h||(h=new Map,v.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),v=0;v<l.length;v++){var w=l[v];if(!(w[is]||w[Gn]||i==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var U=w.getAttribute(a)||"";U=i+U;var K=h.get(U);K?K.push(w):h.set(U,[w])}}return h}function j5(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function n6(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function k5(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Hd=null;function r6(){}function i6(i,a,l){if(Hd===null)throw Error(r(475));var h=Hd;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var v=bh(l.href),w=i.querySelector(qd(v));if(w){i=w._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=zp.bind(h),i.then(h,h)),a.state.loading|=4,a.instance=w,$n(w);return}w=i.ownerDocument||i,l=C5(l),(v=Ha.get(v))&&L0(l,v),w=w.createElement("link"),$n(w);var U=w;U._p=new Promise(function(K,he){U.onload=K,U.onerror=he}),Zi(w,"link",l),a.instance=w}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=zp.bind(h),i.addEventListener("load",a),i.addEventListener("error",a))}}function s6(){if(Hd===null)throw Error(r(475));var i=Hd;return i.stylesheets&&i.count===0&&D0(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&D0(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function zp(){if(this.count--,this.count===0){if(this.stylesheets)D0(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Hp=null;function D0(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Hp=new Map,a.forEach(a6,i),Hp=null,zp.call(i))}function a6(i,a){if(!(a.state.loading&4)){var l=Hp.get(i);if(l)var h=l.get(null);else{l=new Map,Hp.set(i,l);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var U=v[w];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(l.set(U.dataset.precedence,U),h=U)}h&&l.set(null,h)}v=a.instance,U=v.getAttribute("data-precedence"),w=l.get(U)||h,w===h&&l.set(null,v),l.set(U,v),this.count++,h=zp.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),w?w.parentNode.insertBefore(v,w.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),a.state.loading|=4}}var Gd={$$typeof:q,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function o6(i,a,l,h,v,w,U,K){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function L5(i,a,l,h,v,w,U,K,he,Ie,qe,Ye){return i=new o6(i,a,l,U,K,he,Ie,Ye),a=1,w===!0&&(a|=24),w=ji(3,null,null,a),i.current=w,w.stateNode=i,a=pd(),a.refCount++,i.pooledCache=a,a.refCount++,w.memoizedState={element:h,isDehydrated:l,cache:a},Ce(w),i}function P5(i){return i?(i=di,i):di}function D5(i,a,l,h,v,w){v=P5(v),h.context===null?h.context=v:h.pendingContext=v,h=Ve(a),h.payload={element:l},w=w===void 0?null:w,w!==null&&(h.callback=w),l=Xe(i,h,a),l!==null&&(ua(l,i,a),$e(l,i,a))}function O5(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function O0(i,a){O5(i,a),(i=i.alternate)&&O5(i,a)}function M5(i){if(i.tag===13){var a=ml(i,67108864);a!==null&&ua(a,i,67108864),O0(i,67108864)}}var Gp=!0;function l6(i,a,l,h){var v=ae.T;ae.T=null;var w=ye.p;try{ye.p=2,M0(i,a,l,h)}finally{ye.p=w,ae.T=v}}function c6(i,a,l,h){var v=ae.T;ae.T=null;var w=ye.p;try{ye.p=8,M0(i,a,l,h)}finally{ye.p=w,ae.T=v}}function M0(i,a,l,h){if(Gp){var v=U0(h);if(v===null)A0(i,a,h,$p,l),V5(i,h);else if(h6(v,i,a,l,h))h.stopPropagation();else if(V5(i,h),a&4&&-1<u6.indexOf(i)){for(;v!==null;){var w=Vr(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var U=Ct(w.pendingLanes);if(U!==0){var K=w;for(K.pendingLanes|=2,K.entangledLanes|=2;U;){var he=1<<31-st(U);K.entanglements[1]|=he,U&=~he}Go(w),(Wn&6)===0&&(Rp=Tt()+500,Ud(0))}}break;case 13:K=ml(w,2),K!==null&&ua(K,w,2),jp(),O0(w,2)}if(w=U0(h),w===null&&A0(i,a,h,$p,l),w===v)break;v=w}v!==null&&h.stopPropagation()}else A0(i,a,h,null,l)}}function U0(i){return i=cs(i),V0(i)}var $p=null;function V0(i){if($p=null,i=ui(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=c(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return $p=i,null}function U5(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Et()){case Ze:return 2;case yt:return 8;case tt:case Kt:return 32;case bt:return 268435456;default:return 32}default:return 32}}var F0=!1,wc=null,_c=null,Nc=null,$d=new Map,Yd=new Map,Ac=[],u6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V5(i,a){switch(i){case"focusin":case"focusout":wc=null;break;case"dragenter":case"dragleave":_c=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":$d.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yd.delete(a.pointerId)}}function Wd(i,a,l,h,v,w){return i===null||i.nativeEvent!==w?(i={blockedOn:a,domEventName:l,eventSystemFlags:h,nativeEvent:w,targetContainers:[v]},a!==null&&(a=Vr(a),a!==null&&M5(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),i)}function h6(i,a,l,h,v){switch(a){case"focusin":return wc=Wd(wc,i,a,l,h,v),!0;case"dragenter":return _c=Wd(_c,i,a,l,h,v),!0;case"mouseover":return Nc=Wd(Nc,i,a,l,h,v),!0;case"pointerover":var w=v.pointerId;return $d.set(w,Wd($d.get(w)||null,i,a,l,h,v)),!0;case"gotpointercapture":return w=v.pointerId,Yd.set(w,Wd(Yd.get(w)||null,i,a,l,h,v)),!0}return!1}function F5(i){var a=ui(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){i.blockedOn=a,Rt(i.priority,function(){if(l.tag===13){var h=ca();h=pr(h);var v=ml(l,h);v!==null&&ua(v,l,h),O0(l,h)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Yp(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=U0(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Ti=h,l.target.dispatchEvent(h),Ti=null}else return a=Vr(l),a!==null&&M5(a),i.blockedOn=l,!1;a.shift()}return!0}function B5(i,a,l){Yp(i)&&l.delete(a)}function d6(){F0=!1,wc!==null&&Yp(wc)&&(wc=null),_c!==null&&Yp(_c)&&(_c=null),Nc!==null&&Yp(Nc)&&(Nc=null),$d.forEach(B5),Yd.forEach(B5)}function Wp(i,a){i.blockedOn===a&&(i.blockedOn=null,F0||(F0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,d6)))}var Kp=null;function q5(i){Kp!==i&&(Kp=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Kp===i&&(Kp=null);for(var a=0;a<i.length;a+=3){var l=i[a],h=i[a+1],v=i[a+2];if(typeof h!="function"){if(V0(h||l)===null)continue;break}var w=Vr(l);w!==null&&(i.splice(a,3),a-=3,Ba(w,{pending:!0,data:v,method:l.method,action:h},h,v))}}))}function Kd(i){function a(he){return Wp(he,i)}wc!==null&&Wp(wc,i),_c!==null&&Wp(_c,i),Nc!==null&&Wp(Nc,i),$d.forEach(a),Yd.forEach(a);for(var l=0;l<Ac.length;l++){var h=Ac[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Ac.length&&(l=Ac[0],l.blockedOn===null);)F5(l),l.blockedOn===null&&Ac.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var v=l[h],w=l[h+1],U=v[Ln]||null;if(typeof w=="function")U||q5(l);else if(U){var K=null;if(w&&w.hasAttribute("formAction")){if(v=w,U=w[Ln]||null)K=U.formAction;else if(V0(v)!==null)continue}else K=U.action;typeof K=="function"?l[h+1]=K:(l.splice(h,3),h-=3),q5(l)}}}function B0(i){this._internalRoot=i}Xp.prototype.render=B0.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,h=ca();D5(l,h,i,a,null,null)},Xp.prototype.unmount=B0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;D5(i.current,2,null,i,null,null),jp(),a[mr]=null}};function Xp(i){this._internalRoot=i}Xp.prototype.unstable_scheduleHydration=function(i){if(i){var a=yi();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Ac.length&&a!==0&&a<Ac[l].priority;l++);Ac.splice(l,0,i),l===0&&F5(i)}};var z5=e.version;if(z5!=="19.1.1")throw Error(r(527,z5,"19.1.1"));ye.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(a),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var f6={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qp.isDisabled&&Qp.supportsFiber)try{ut=Qp.inject(f6),wt=Qp}catch{}}return Qd.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,h="",v=sv,w=av,U=ov,K=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(U=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(K=a.unstable_transitionCallbacks)),a=L5(i,1,!1,null,null,l,h,v,w,U,K,null),i[mr]=a.current,N0(i),new B0(a)},Qd.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var h=!1,v="",w=sv,U=av,K=ov,he=null,Ie=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(U=l.onCaughtError),l.onRecoverableError!==void 0&&(K=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(he=l.unstable_transitionCallbacks),l.formState!==void 0&&(Ie=l.formState)),a=L5(i,1,!0,a,l??null,h,v,w,U,K,he,Ie),a.context=P5(null),l=a.current,h=ca(),h=pr(h),v=Ve(h),v.callback=null,Xe(l,v,h),l=h,a.current.lanes=l,yn(a,l),Go(a),i[mr]=a.current,N0(i),new Xp(a)},Qd.version="19.1.1",Qd}var Z5;function N6(){if(Z5)return H0.exports;Z5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),H0.exports=_6(),H0.exports}var A6=N6();const E6=i_(A6);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eb="popstate";function S6(n={}){function e(r,s){let{pathname:o,search:c,hash:u}=r.location;return D1("",{pathname:o,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:bf(s)}return C6(e,t,null,n)}function Cr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xo(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function T6(){return Math.random().toString(36).substring(2,10)}function tb(n,e){return{usr:n.state,key:n.key,idx:e}}function D1(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Wh(e):e,state:t,key:e&&e.key||r||T6()}}function bf({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Wh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function C6(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,c=s.history,u="POP",d=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){u="POP";let M=y(),R=M==null?null:M-p;p=M,d&&d({action:u,location:j.location,delta:R})}function A(M,R){u="PUSH";let F=D1(j.location,M,R);p=y()+1;let q=tb(F,p),W=j.createHref(F);try{c.pushState(q,"",W)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;s.location.assign(W)}o&&d&&d({action:u,location:j.location,delta:1})}function x(M,R){u="REPLACE";let F=D1(j.location,M,R);p=y();let q=tb(F,p),W=j.createHref(F);c.replaceState(q,"",W),o&&d&&d({action:u,location:j.location,delta:0})}function k(M){return R6(M)}let j={get action(){return u},get location(){return n(s,c)},listen(M){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(eb,_),d=M,()=>{s.removeEventListener(eb,_),d=null}},createHref(M){return e(s,M)},createURL:k,encodeLocation(M){let R=k(M);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:A,replace:x,go(M){return c.go(M)}};return j}function R6(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Cr(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:bf(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function s_(n,e,t="/"){return I6(n,e,t,!1)}function I6(n,e,t,r){let s=typeof e=="string"?Wh(e):e,o=Fl(s.pathname||"/",t);if(o==null)return null;let c=a_(n);j6(c);let u=null;for(let d=0;u==null&&d<c.length;++d){let p=q6(o);u=F6(c[d],p,r)}return u}function a_(n,e=[],t=[],r="",s=!1){let o=(c,u,d=s,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&d)return;Cr(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let _=Ml([r,y.relativePath]),A=t.concat(y);c.children&&c.children.length>0&&(Cr(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),a_(c.children,e,A,_,d)),!(c.path==null&&!c.index)&&e.push({path:_,score:U6(_,c.index),routesMeta:A})};return n.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))o(c,u);else for(let d of o_(c.path))o(c,u,!0,d)}),e}function o_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let c=o_(r.join("/")),u=[];return u.push(...c.map(d=>d===""?o:[o,d].join("/"))),s&&u.push(...c),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function j6(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:V6(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var k6=/^:[\w-]+$/,L6=3,P6=2,D6=1,O6=10,M6=-2,nb=n=>n==="*";function U6(n,e){let t=n.split("/"),r=t.length;return t.some(nb)&&(r+=M6),e&&(r+=P6),t.filter(s=>!nb(s)).reduce((s,o)=>s+(k6.test(o)?L6:o===""?D6:O6),r)}function V6(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function F6(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",c=[];for(let u=0;u<r.length;++u){let d=r[u],p=u===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",_=Om({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),A=d.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=Om({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!_)return null;Object.assign(s,_.params),c.push({params:s,pathname:Ml([o,_.pathname]),pathnameBase:$6(Ml([o,_.pathnameBase])),route:A}),_.pathnameBase!=="/"&&(o=Ml([o,_.pathnameBase]))}return c}function Om(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=B6(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:_},A)=>{if(y==="*"){let k=u[A]||"";c=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const x=u[A];return _&&!x?p[y]=void 0:p[y]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:n}}function B6(n,e=!1,t=!0){xo(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function q6(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xo(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Fl(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function z6(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Wh(n):n;return{pathname:t?t.startsWith("/")?t:H6(t,e):e,search:Y6(r),hash:W6(s)}}function H6(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function W0(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function G6(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function T2(n){let e=G6(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function C2(n,e,t,r=!1){let s;typeof n=="string"?s=Wh(n):(s={...n},Cr(!s.pathname||!s.pathname.includes("?"),W0("?","pathname","search",s)),Cr(!s.pathname||!s.pathname.includes("#"),W0("#","pathname","hash",s)),Cr(!s.search||!s.search.includes("#"),W0("#","search","hash",s)));let o=n===""||s.pathname==="",c=o?"/":s.pathname,u;if(c==null)u=t;else{let _=e.length-1;if(!r&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),_-=1;s.pathname=A.join("/")}u=_>=0?e[_]:"/"}let d=z6(s,u),p=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}var Ml=n=>n.join("/").replace(/\/\/+/g,"/"),$6=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Y6=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,W6=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function K6(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var l_=["POST","PUT","PATCH","DELETE"];new Set(l_);var X6=["GET",...l_];new Set(X6);var Kh=oe.createContext(null);Kh.displayName="DataRouter";var lg=oe.createContext(null);lg.displayName="DataRouterState";oe.createContext(!1);var c_=oe.createContext({isTransitioning:!1});c_.displayName="ViewTransition";var Q6=oe.createContext(new Map);Q6.displayName="Fetchers";var J6=oe.createContext(null);J6.displayName="Await";var Ao=oe.createContext(null);Ao.displayName="Navigation";var Lf=oe.createContext(null);Lf.displayName="Location";var Eo=oe.createContext({outlet:null,matches:[],isDataRoute:!1});Eo.displayName="Route";var R2=oe.createContext(null);R2.displayName="RouteError";function Z6(n,{relative:e}={}){Cr(Xh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=oe.useContext(Ao),{hash:s,pathname:o,search:c}=Pf(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:Ml([t,o])),r.createHref({pathname:u,search:c,hash:s})}function Xh(){return oe.useContext(Lf)!=null}function $l(){return Cr(Xh(),"useLocation() may be used only in the context of a <Router> component."),oe.useContext(Lf).location}var u_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function h_(n){oe.useContext(Ao).static||oe.useLayoutEffect(n)}function al(){let{isDataRoute:n}=oe.useContext(Eo);return n?dE():eE()}function eE(){Cr(Xh(),"useNavigate() may be used only in the context of a <Router> component.");let n=oe.useContext(Kh),{basename:e,navigator:t}=oe.useContext(Ao),{matches:r}=oe.useContext(Eo),{pathname:s}=$l(),o=JSON.stringify(T2(r)),c=oe.useRef(!1);return h_(()=>{c.current=!0}),oe.useCallback((d,p={})=>{if(xo(c.current,u_),!c.current)return;if(typeof d=="number"){t.go(d);return}let y=C2(d,JSON.parse(o),s,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ml([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,o,s,n])}oe.createContext(null);function d_(){let{matches:n}=oe.useContext(Eo),e=n[n.length-1];return e?e.params:{}}function Pf(n,{relative:e}={}){let{matches:t}=oe.useContext(Eo),{pathname:r}=$l(),s=JSON.stringify(T2(t));return oe.useMemo(()=>C2(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function tE(n,e){return f_(n,e)}function f_(n,e,t,r,s){Cr(Xh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=oe.useContext(Ao),{matches:c}=oe.useContext(Eo),u=c[c.length-1],d=u?u.params:{},p=u?u.pathname:"/",y=u?u.pathnameBase:"/",_=u&&u.route;{let F=_&&_.path||"";p_(p,!_||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let A=$l(),x;if(e){let F=typeof e=="string"?Wh(e):e;Cr(y==="/"||F.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${F.pathname}" was given in the \`location\` prop.`),x=F}else x=A;let k=x.pathname||"/",j=k;if(y!=="/"){let F=y.replace(/^\//,"").split("/");j="/"+k.replace(/^\//,"").split("/").slice(F.length).join("/")}let M=s_(n,{pathname:j});xo(_||M!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),xo(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=aE(M&&M.map(F=>Object.assign({},F,{params:Object.assign({},d,F.params),pathname:Ml([y,o.encodeLocation?o.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?y:Ml([y,o.encodeLocation?o.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),c,t,r,s);return e&&R?oe.createElement(Lf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},R):R}function nE(){let n=hE(),e=K6(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=oe.createElement(oe.Fragment,null,oe.createElement("p",null,"💿 Hey developer 👋"),oe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",oe.createElement("code",{style:o},"ErrorBoundary")," or"," ",oe.createElement("code",{style:o},"errorElement")," prop on your route.")),oe.createElement(oe.Fragment,null,oe.createElement("h2",null,"Unexpected Application Error!"),oe.createElement("h3",{style:{fontStyle:"italic"}},e),t?oe.createElement("pre",{style:s},t):null,c)}var rE=oe.createElement(nE,null),iE=class extends oe.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?oe.createElement(Eo.Provider,{value:this.props.routeContext},oe.createElement(R2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sE({routeContext:n,match:e,children:t}){let r=oe.useContext(Kh);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),oe.createElement(Eo.Provider,{value:n},t)}function aE(n,e=[],t=null,r=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t?.errors;if(c!=null){let p=o.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);Cr(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=p),y.route.id){let{loaderData:_,errors:A}=t,x=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||x){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,y,_)=>{let A,x=!1,k=null,j=null;t&&(A=c&&y.route.id?c[y.route.id]:void 0,k=y.route.errorElement||rE,u&&(d<0&&_===0?(p_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,j=null):d===_&&(x=!0,j=y.route.hydrateFallbackElement||null)));let M=e.concat(o.slice(0,_+1)),R=()=>{let F;return A?F=k:x?F=j:y.route.Component?F=oe.createElement(y.route.Component,null):y.route.element?F=y.route.element:F=p,oe.createElement(sE,{match:y,routeContext:{outlet:p,matches:M,isDataRoute:t!=null},children:F})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?oe.createElement(iE,{location:t.location,revalidation:t.revalidation,component:k,error:A,children:R(),routeContext:{outlet:null,matches:M,isDataRoute:!0},unstable_onError:r}):R()},null)}function I2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oE(n){let e=oe.useContext(Kh);return Cr(e,I2(n)),e}function lE(n){let e=oe.useContext(lg);return Cr(e,I2(n)),e}function cE(n){let e=oe.useContext(Eo);return Cr(e,I2(n)),e}function j2(n){let e=cE(n),t=e.matches[e.matches.length-1];return Cr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function uE(){return j2("useRouteId")}function hE(){let n=oe.useContext(R2),e=lE("useRouteError"),t=j2("useRouteError");return n!==void 0?n:e.errors?.[t]}function dE(){let{router:n}=oE("useNavigate"),e=j2("useNavigate"),t=oe.useRef(!1);return h_(()=>{t.current=!0}),oe.useCallback(async(s,o={})=>{xo(t.current,u_),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var rb={};function p_(n,e,t){!e&&!rb[n]&&(rb[n]=!0,xo(!1,t))}oe.memo(fE);function fE({routes:n,future:e,state:t,unstable_onError:r}){return f_(n,void 0,t,r,e)}function pE({to:n,replace:e,state:t,relative:r}){Cr(Xh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=oe.useContext(Ao);xo(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=oe.useContext(Eo),{pathname:c}=$l(),u=al(),d=C2(n,T2(o),c,r==="path"),p=JSON.stringify(d);return oe.useEffect(()=>{u(JSON.parse(p),{replace:e,state:t,relative:r})},[u,p,r,e,t]),null}function Ga(n){Cr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mE({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){Cr(!Xh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),u=oe.useMemo(()=>({basename:c,navigator:s,static:o,future:{}}),[c,s,o]);typeof t=="string"&&(t=Wh(t));let{pathname:d="/",search:p="",hash:y="",state:_=null,key:A="default"}=t,x=oe.useMemo(()=>{let k=Fl(d,c);return k==null?null:{location:{pathname:k,search:p,hash:y,state:_,key:A},navigationType:r}},[c,d,p,y,_,A,r]);return xo(x!=null,`<Router basename="${c}"> is not able to match the URL "${d}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:oe.createElement(Ao.Provider,{value:u},oe.createElement(Lf.Provider,{children:e,value:x}))}function gE({children:n,location:e}){return tE(O1(n),e)}function O1(n,e=[]){let t=[];return oe.Children.forEach(n,(r,s)=>{if(!oe.isValidElement(r))return;let o=[...e,s];if(r.type===oe.Fragment){t.push.apply(t,O1(r.props.children,o));return}Cr(r.type===Ga,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Cr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=O1(r.props.children,o)),t.push(c)}),t}var vm="get",bm="application/x-www-form-urlencoded";function cg(n){return n!=null&&typeof n.tagName=="string"}function yE(n){return cg(n)&&n.tagName.toLowerCase()==="button"}function vE(n){return cg(n)&&n.tagName.toLowerCase()==="form"}function bE(n){return cg(n)&&n.tagName.toLowerCase()==="input"}function xE(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function wE(n,e){return n.button===0&&(!e||e==="_self")&&!xE(n)}var Jp=null;function _E(){if(Jp===null)try{new FormData(document.createElement("form"),0),Jp=!1}catch{Jp=!0}return Jp}var NE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function K0(n){return n!=null&&!NE.has(n)?(xo(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bm}"`),null):n}function AE(n,e){let t,r,s,o,c;if(vE(n)){let u=n.getAttribute("action");r=u?Fl(u,e):null,t=n.getAttribute("method")||vm,s=K0(n.getAttribute("enctype"))||bm,o=new FormData(n)}else if(yE(n)||bE(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?Fl(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||vm,s=K0(n.getAttribute("formenctype"))||K0(u.getAttribute("enctype"))||bm,o=new FormData(u,n),!_E()){let{name:p,type:y,value:_}=n;if(y==="image"){let A=p?`${p}.`:"";o.append(`${A}x`,"0"),o.append(`${A}y`,"0")}else p&&o.append(p,_)}}else{if(cg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=vm,r=null,s=bm,c=n}return o&&s==="text/plain"&&(c=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function k2(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function EE(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Fl(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function SE(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TE(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function CE(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let c=await SE(o,t);return c.links?c.links():[]}return[]}));return kE(r.flat(1).filter(TE).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function ib(n,e,t,r,s,o){let c=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,u=(d,p)=>t[p].pathname!==d.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,p)=>c(d,p)||u(d,p)):o==="data"?e.filter((d,p)=>{let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(c(d,p)||u(d,p))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function RE(n,e,{includeHydrateFallback:t}={}){return IE(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function IE(n){return[...new Set(n)]}function jE(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function kE(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(jE(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}function m_(){let n=oe.useContext(Kh);return k2(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function LE(){let n=oe.useContext(lg);return k2(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var L2=oe.createContext(void 0);L2.displayName="FrameworkContext";function g_(){let n=oe.useContext(L2);return k2(n,"You must render this element inside a <HydratedRouter> element"),n}function PE(n,e){let t=oe.useContext(L2),[r,s]=oe.useState(!1),[o,c]=oe.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,A=oe.useRef(null);oe.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let j=R=>{R.forEach(F=>{c(F.isIntersecting)})},M=new IntersectionObserver(j,{threshold:.5});return A.current&&M.observe(A.current),()=>{M.disconnect()}}},[n]),oe.useEffect(()=>{if(r){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[r]);let x=()=>{s(!0)},k=()=>{s(!1),c(!1)};return t?n!=="intent"?[o,A,{}]:[o,A,{onFocus:Jd(u,x),onBlur:Jd(d,k),onMouseEnter:Jd(p,x),onMouseLeave:Jd(y,k),onTouchStart:Jd(_,x)}]:[!1,A,{}]}function Jd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function DE({page:n,...e}){let{router:t}=m_(),r=oe.useMemo(()=>s_(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?oe.createElement(ME,{page:n,matches:r,...e}):null}function OE(n){let{manifest:e,routeModules:t}=g_(),[r,s]=oe.useState([]);return oe.useEffect(()=>{let o=!1;return CE(n,e,t).then(c=>{o||s(c)}),()=>{o=!0}},[n,e,t]),r}function ME({page:n,matches:e,...t}){let r=$l(),{manifest:s,routeModules:o}=g_(),{basename:c}=m_(),{loaderData:u,matches:d}=LE(),p=oe.useMemo(()=>ib(n,e,d,s,r,"data"),[n,e,d,s,r]),y=oe.useMemo(()=>ib(n,e,d,s,r,"assets"),[n,e,d,s,r]),_=oe.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let k=new Set,j=!1;if(e.forEach(R=>{let F=s.routes[R.route.id];!F||!F.hasLoader||(!p.some(q=>q.route.id===R.route.id)&&R.route.id in u&&o[R.route.id]?.shouldRevalidate||F.hasClientLoader?j=!0:k.add(R.route.id))}),k.size===0)return[];let M=EE(n,c,"data");return j&&k.size>0&&M.searchParams.set("_routes",e.filter(R=>k.has(R.route.id)).map(R=>R.route.id).join(",")),[M.pathname+M.search]},[c,u,r,s,p,e,n,o]),A=oe.useMemo(()=>RE(y,s),[y,s]),x=OE(y);return oe.createElement(oe.Fragment,null,_.map(k=>oe.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),A.map(k=>oe.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),x.map(({key:k,link:j})=>oe.createElement("link",{key:k,nonce:t.nonce,...j})))}function UE(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var y_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{y_&&(window.__reactRouterVersion="7.8.2")}catch{}function VE({basename:n,children:e,window:t}){let r=oe.useRef();r.current==null&&(r.current=S6({window:t,v5Compat:!0}));let s=r.current,[o,c]=oe.useState({action:s.action,location:s.location}),u=oe.useCallback(d=>{oe.startTransition(()=>c(d))},[c]);return oe.useLayoutEffect(()=>s.listen(u),[s,u]),oe.createElement(mE,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var v_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qn=oe.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:c,state:u,target:d,to:p,preventScrollReset:y,viewTransition:_,...A},x){let{basename:k}=oe.useContext(Ao),j=typeof p=="string"&&v_.test(p),M,R=!1;if(typeof p=="string"&&j&&(M=p,y_))try{let P=new URL(window.location.href),V=p.startsWith("//")?new URL(P.protocol+p):new URL(p),T=Fl(V.pathname,k);V.origin===P.origin&&T!=null?p=T+V.search+V.hash:R=!0}catch{xo(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=Z6(p,{relative:s}),[q,W,ce]=PE(r,A),xe=zE(p,{replace:c,state:u,target:d,preventScrollReset:y,relative:s,viewTransition:_});function $(P){e&&e(P),P.defaultPrevented||xe(P)}let I=oe.createElement("a",{...A,...ce,href:M||F,onClick:R||o?e:$,ref:UE(x,W),target:d,"data-discover":!j&&t==="render"?"true":void 0});return q&&!j?oe.createElement(oe.Fragment,null,I,oe.createElement(DE,{page:F})):I});qn.displayName="Link";var FE=oe.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:c,viewTransition:u,children:d,...p},y){let _=Pf(c,{relative:p.relative}),A=$l(),x=oe.useContext(lg),{navigator:k,basename:j}=oe.useContext(Ao),M=x!=null&&WE(_)&&u===!0,R=k.encodeLocation?k.encodeLocation(_).pathname:_.pathname,F=A.pathname,q=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(F=F.toLowerCase(),q=q?q.toLowerCase():null,R=R.toLowerCase()),q&&j&&(q=Fl(q,j)||q);const W=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let ce=F===R||!s&&F.startsWith(R)&&F.charAt(W)==="/",xe=q!=null&&(q===R||!s&&q.startsWith(R)&&q.charAt(R.length)==="/"),$={isActive:ce,isPending:xe,isTransitioning:M},I=ce?e:void 0,P;typeof r=="function"?P=r($):P=[r,ce?"active":null,xe?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o($):o;return oe.createElement(qn,{...p,"aria-current":I,className:P,ref:y,style:V,to:c,viewTransition:u},typeof d=="function"?d($):d)});FE.displayName="NavLink";var BE=oe.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:c=vm,action:u,onSubmit:d,relative:p,preventScrollReset:y,viewTransition:_,...A},x)=>{let k=$E(),j=YE(u,{relative:p}),M=c.toLowerCase()==="get"?"get":"post",R=typeof u=="string"&&v_.test(u),F=q=>{if(d&&d(q),q.defaultPrevented)return;q.preventDefault();let W=q.nativeEvent.submitter,ce=W?.getAttribute("formmethod")||c;k(W||q.currentTarget,{fetcherKey:e,method:ce,navigate:t,replace:s,state:o,relative:p,preventScrollReset:y,viewTransition:_})};return oe.createElement("form",{ref:x,method:M,action:j,onSubmit:r?d:F,...A,"data-discover":!R&&n==="render"?"true":void 0})});BE.displayName="Form";function qE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b_(n){let e=oe.useContext(Kh);return Cr(e,qE(n)),e}function zE(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:c}={}){let u=al(),d=$l(),p=Pf(n,{relative:o});return oe.useCallback(y=>{if(wE(y,e)){y.preventDefault();let _=t!==void 0?t:bf(d)===bf(p);u(n,{replace:_,state:r,preventScrollReset:s,relative:o,viewTransition:c})}},[d,u,p,t,r,e,n,s,o,c])}var HE=0,GE=()=>`__${String(++HE)}__`;function $E(){let{router:n}=b_("useSubmit"),{basename:e}=oe.useContext(Ao),t=uE();return oe.useCallback(async(r,s={})=>{let{action:o,method:c,encType:u,formData:d,body:p}=AE(r,e);if(s.navigate===!1){let y=s.fetcherKey||GE();await n.fetch(y,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||c,formEncType:s.encType||u,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||c,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function YE(n,{relative:e}={}){let{basename:t}=oe.useContext(Ao),r=oe.useContext(Eo);Cr(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Pf(n||".",{relative:e})},c=$l();if(n==null){o.search=c.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(y=>y==="")){u.delete("index"),d.filter(_=>_).forEach(_=>u.append("index",_));let y=u.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ml([t,o.pathname])),bf(o)}function WE(n,{relative:e}={}){let t=oe.useContext(c_);Cr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=b_("useViewTransitionState"),s=Pf(n,{relative:e});if(!t.isTransitioning)return!1;let o=Fl(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=Fl(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Om(s.pathname,c)!=null||Om(s.pathname,o)!=null}const P2="https://wa.me/573163026089",M1=5e6,U1={searchTerm:"",category:"",priceRange:{min:0,max:M1},stockOnly:!1},Mm={TELEVISOR:"📺",ENTRETENIMIENTO:"🎬","AUDIO Y SONIDO":"🎧","CUIDADO PERSONAL":"💇‍♀️","SALUD Y BELLEZA":"💅",COCINA:"🍳",HOGAR:"🏠",DEFAULT:"🛍️"},x_=n=>f.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",...n,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),KE=n=>f.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",...n,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"})}),D2=n=>f.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",...n,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m0 0H17M9 18h8"})}),w_=n=>f.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",...n,children:f.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),XE=n=>f.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",...n,children:f.jsx("path",{d:"M12.04 2C6.58 2 2.13 6.45 2.13 11.91C2.13 13.98 2.7 15.95 3.71 17.61L2.05 22L6.59 20.33C8.16 21.23 10.05 21.78 12.04 21.78H12.05C17.5 21.78 21.95 17.33 21.95 11.87C21.95 6.41 17.5 2 12.04 2M17 14.28C16.73 14.15 15.42 13.5 15.18 13.41C14.94 13.32 14.76 13.28 14.58 13.55C14.4 13.82 13.91 14.41 13.77 14.59C13.63 14.77 13.49 14.79 13.22 14.66C12.95 14.53 11.81 14.12 10.42 12.89C9.32 11.91 8.65 10.74 8.47 10.47C8.29 10.2 8.41 10.08 8.54 9.95C8.66 9.84 8.81 9.66 8.95 9.5C9.09 9.34 9.14 9.22 9.23 9.04C9.32 8.86 9.28 8.7 9.21 8.57C9.14 8.44 8.55 6.95 8.31 6.39C8.07 5.83 7.84 5.7 7.62 5.7C7.42 5.7 7.21 5.7 7.01 5.7C6.81 5.7 6.5 5.8 6.27 6.07C6.04 6.34 5.38 6.94 5.38 8.24C5.38 9.54 6.29 10.74 6.43 10.92C6.57 11.1 7.92 13.23 10.05 14.17C11.39 14.81 11.98 15.04 12.42 15.18C12.93 15.34 13.62 15.29 14.05 15.03C14.53 14.73 15.3 14.07 15.52 13.56C15.74 13.05 15.74 12.61 15.65 12.48C15.56 12.35 15.34 12.26 15.07 12.13C14.8 12 17.25 14.41 17 14.28Z"})}),__=n=>f.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",...n,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),sb=n=>f.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",...n,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),QE=n=>f.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",...n,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),JE=n=>f.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",...n,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 12H6"})}),O2=n=>f.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",...n,children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),N_=n=>f.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",...n,children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),ZE=n=>f.jsx("svg",{fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",...n,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),X0=n=>f.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",...n,children:f.jsx("path",{fillRule:"evenodd",d:"M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm0 9a1 1 0 011 1v1h1a1 1 0 110 2H6v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zM9 2a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0V6H6a1 1 0 010-2h1V3a1 1 0 011-1zm0 9a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0v-1H6a1 1 0 110-2h1v-1a1 1 0 011-1zm6-9a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0V6h-1a1 1 0 110-2h1V3a1 1 0 011-1zm0 9a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0v-1h-1a1 1 0 110-2h1v-1a1 1 0 011-1z",clipRule:"evenodd"})}),eS=n=>f.jsxs("svg",{fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",...n,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"})]}),tS=n=>f.jsx("svg",{fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",...n,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),nS=n=>f.jsx("svg",{fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",...n,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.623 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})}),rS=n=>f.jsxs("svg",{fill:"currentColor",stroke:"currentColor",strokeWidth:"0.5",viewBox:"0 0 24 24",...n,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1.001A3.75 3.75 0 0012 18z"})]}),iS=n=>f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[f.jsx("path",{d:"M18 7V4a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v3"}),f.jsx("path",{d:"M15 17v2a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1v-2"}),f.jsx("path",{d:"M6 7h12v10H6z"})]}),sS=n=>f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:f.jsx("path",{d:"m7 7 10 10-5 5V2l5 5L7 17"})}),aS=n=>f.jsxs("svg",{...n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:["    ",f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"}),"  "]}),oS=n=>f.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",...n,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),lS=n=>f.jsxs("svg",{fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",...n,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 11.25v8.25a2.25 2.25 0 01-2.25 2.25H5.25a2.25 2.25 0 01-2.25-2.25v-8.25M12 4.875l-2.625 5.25h5.25L12 4.875z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15.75v5.25m-3.75-5.25v5.25m7.5-5.25v5.25M3 11.25h18"})]}),cS="/assets/lilutecnologo-BZn5bnsb.png",uS=()=>{};var ab={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},hS=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],c=n[t++],u=n[t++],d=((s&7)<<18|(o&63)<<12|(c&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},E_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],c=s+1<n.length,u=c?n[s+1]:0,d=s+2<n.length,p=d?n[s+2]:0,y=o>>2,_=(o&3)<<4|u>>4;let A=(u&15)<<2|p>>6,x=p&63;d||(x=64,c||(A=64)),r.push(t[y],t[_],t[A],t[x])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(A_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):hS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],u=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||u==null||p==null||_==null)throw new dS;const A=o<<2|u>>4;if(r.push(A),p!==64){const x=u<<4&240|p>>2;if(r.push(x),_!==64){const k=p<<6&192|_;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class dS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fS=function(n){const e=A_(n);return E_.encodeByteArray(e,!0)},Um=function(n){return fS(n).replace(/\./g,"")},S_=function(n){try{return E_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=()=>pS().__FIREBASE_DEFAULTS__,gS=()=>{if(typeof process>"u"||typeof ab>"u")return;const n=ab.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},yS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&S_(n[1]);return e&&JSON.parse(e)},ug=()=>{try{return uS()||mS()||gS()||yS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},T_=n=>ug()?.emulatorHosts?.[n],C_=n=>{const e=T_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},R_=()=>ug()?.config,I_=n=>ug()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function M2(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Um(JSON.stringify(t)),Um(JSON.stringify(c)),""].join(".")}const uf={};function bS(){const n={prod:[],emulator:[]};for(const e of Object.keys(uf))uf[e]?n.emulator.push(e):n.prod.push(e);return n}function xS(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let ob=!1;function U2(n,e){if(typeof window>"u"||typeof document>"u"||!Kc(window.location.host)||uf[n]===e||uf[n]||ob)return;uf[n]=e;function t(A){return`__firebase__banner__${A}`}const r="__firebase__banner",o=bS().prod.length>0;function c(){const A=document.getElementById(r);A&&A.remove()}function u(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function d(A,x){A.setAttribute("width","24"),A.setAttribute("id",x),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{ob=!0,c()},A}function y(A,x){A.setAttribute("id",x),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function _(){const A=xS(r),x=t("text"),k=document.getElementById(x)||document.createElement("span"),j=t("learnmore"),M=document.getElementById(j)||document.createElement("a"),R=t("preprendIcon"),F=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const q=A.element;u(q),y(M,j);const W=p();d(F,R),q.append(F,k,M,W),document.body.appendChild(q)}o?(k.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ws())}function _S(){const n=ug()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ES(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SS(){const n=ws();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function TS(){return!_S()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CS(){try{return typeof indexedDB=="object"}catch{return!1}}function RS(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="FirebaseError";class ol extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=IS,Object.setPrototypeOf(this,ol.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Df.prototype.create)}}class Df{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?jS(o,r):"Error",u=`${this.serviceName}: ${c} (${s}).`;return new ol(s,u,r)}}function jS(n,e){return n.replace(kS,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const kS=/\{\$([^}]+)}/g;function LS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Iu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],c=e[s];if(lb(o)&&lb(c)){if(!Iu(o,c))return!1}else if(o!==c)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function lb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nf(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function rf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function PS(n,e){const t=new DS(n,e);return t.subscribe.bind(t)}class DS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");OS(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Q0),s.error===void 0&&(s.error=Q0),s.complete===void 0&&(s.complete=Q0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Q0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(n){return n&&n._delegate?n._delegate:n}class Bc{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new vS;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VS(e))try{this.getOrInitializeService({instanceIdentifier:_u})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=_u){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_u){return this.instances.has(e)}getOptions(e=_u){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&c.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:US(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_u){return this.component?this.component.multipleInstances?e:_u:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function US(n){return n===_u?void 0:n}function VS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new MS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(An||(An={}));const BS={debug:An.DEBUG,verbose:An.VERBOSE,info:An.INFO,warn:An.WARN,error:An.ERROR,silent:An.SILENT},qS=An.INFO,zS={[An.DEBUG]:"log",[An.VERBOSE]:"log",[An.INFO]:"info",[An.WARN]:"warn",[An.ERROR]:"error"},HS=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=zS[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class V2{constructor(e){this.name=e,this._logLevel=qS,this._logHandler=HS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in An))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,An.DEBUG,...e),this._logHandler(this,An.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,An.VERBOSE,...e),this._logHandler(this,An.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,An.INFO,...e),this._logHandler(this,An.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,An.WARN,...e),this._logHandler(this,An.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,An.ERROR,...e),this._logHandler(this,An.ERROR,...e)}}const GS=(n,e)=>e.some(t=>n instanceof t);let cb,ub;function $S(){return cb||(cb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YS(){return ub||(ub=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k_=new WeakMap,V1=new WeakMap,L_=new WeakMap,J0=new WeakMap,F2=new WeakMap;function WS(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Oc(n.result)),s()},c=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&k_.set(t,n)}).catch(()=>{}),F2.set(e,n),e}function KS(n){if(V1.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),s()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});V1.set(n,e)}let F1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return V1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||L_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Oc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function XS(n){F1=n(F1)}function QS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Z0(this),e,...t);return L_.set(r,e.sort?e.sort():[e]),Oc(r)}:YS().includes(n)?function(...e){return n.apply(Z0(this),e),Oc(k_.get(this))}:function(...e){return Oc(n.apply(Z0(this),e))}}function JS(n){return typeof n=="function"?QS(n):(n instanceof IDBTransaction&&KS(n),GS(n,$S())?new Proxy(n,F1):n)}function Oc(n){if(n instanceof IDBRequest)return WS(n);if(J0.has(n))return J0.get(n);const e=JS(n);return e!==n&&(J0.set(n,e),F2.set(e,n)),e}const Z0=n=>F2.get(n);function ZS(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const c=indexedDB.open(n,e),u=Oc(c);return r&&c.addEventListener("upgradeneeded",d=>{r(Oc(c.result),d.oldVersion,d.newVersion,Oc(c.transaction),d)}),t&&c.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const eT=["get","getKey","getAll","getAllKeys","count"],tT=["put","add","delete","clear"],e1=new Map;function hb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(e1.get(e))return e1.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=tT.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||eT.includes(t)))return;const o=async function(c,...u){const d=this.transaction(c,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),s&&d.done]))[0]};return e1.set(e,o),o}XS(n=>({...n,get:(e,t,r)=>hb(e,t)||n.get(e,t,r),has:(e,t)=>!!hb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rT(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function rT(n){return n.getComponent()?.type==="VERSION"}const B1="@firebase/app",db="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=new V2("@firebase/app"),iT="@firebase/app-compat",sT="@firebase/analytics-compat",aT="@firebase/analytics",oT="@firebase/app-check-compat",lT="@firebase/app-check",cT="@firebase/auth",uT="@firebase/auth-compat",hT="@firebase/database",dT="@firebase/data-connect",fT="@firebase/database-compat",pT="@firebase/functions",mT="@firebase/functions-compat",gT="@firebase/installations",yT="@firebase/installations-compat",vT="@firebase/messaging",bT="@firebase/messaging-compat",xT="@firebase/performance",wT="@firebase/performance-compat",_T="@firebase/remote-config",NT="@firebase/remote-config-compat",AT="@firebase/storage",ET="@firebase/storage-compat",ST="@firebase/firestore",TT="@firebase/ai",CT="@firebase/firestore-compat",RT="firebase",IT="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="[DEFAULT]",jT={[B1]:"fire-core",[iT]:"fire-core-compat",[aT]:"fire-analytics",[sT]:"fire-analytics-compat",[lT]:"fire-app-check",[oT]:"fire-app-check-compat",[cT]:"fire-auth",[uT]:"fire-auth-compat",[hT]:"fire-rtdb",[dT]:"fire-data-connect",[fT]:"fire-rtdb-compat",[pT]:"fire-fn",[mT]:"fire-fn-compat",[gT]:"fire-iid",[yT]:"fire-iid-compat",[vT]:"fire-fcm",[bT]:"fire-fcm-compat",[xT]:"fire-perf",[wT]:"fire-perf-compat",[_T]:"fire-rc",[NT]:"fire-rc-compat",[AT]:"fire-gcs",[ET]:"fire-gcs-compat",[ST]:"fire-fst",[CT]:"fire-fst-compat",[TT]:"fire-vertex","fire-js":"fire-js",[RT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=new Map,kT=new Map,z1=new Map;function fb(n,e){try{n.container.addComponent(e)}catch(t){Bl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ju(n){const e=n.name;if(z1.has(e))return Bl.debug(`There were multiple attempts to register component ${e}.`),!1;z1.set(e,n);for(const t of Vm.values())fb(t,n);for(const t of kT.values())fb(t,n);return!0}function hg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function da(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mc=new Df("app","Firebase",LT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=IT;function P_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:q1,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Mc.create("bad-app-name",{appName:String(s)});if(t||(t=R_()),!t)throw Mc.create("no-options");const o=Vm.get(s);if(o){if(Iu(t,o.options)&&Iu(r,o.config))return o;throw Mc.create("duplicate-app",{appName:s})}const c=new FS(s);for(const d of z1.values())c.addComponent(d);const u=new PT(t,r,c);return Vm.set(s,u),u}function B2(n=q1){const e=Vm.get(n);if(!e&&n===q1&&R_())return P_();if(!e)throw Mc.create("no-app",{appName:n});return e}function Qo(n,e,t){let r=jT[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bl.warn(c.join(" "));return}ju(new Bc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="firebase-heartbeat-database",OT=1,xf="firebase-heartbeat-store";let t1=null;function D_(){return t1||(t1=ZS(DT,OT,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(xf)}catch(t){console.warn(t)}}}}).catch(n=>{throw Mc.create("idb-open",{originalErrorMessage:n.message})})),t1}async function MT(n){try{const t=(await D_()).transaction(xf),r=await t.objectStore(xf).get(O_(n));return await t.done,r}catch(e){if(e instanceof ol)Bl.warn(e.message);else{const t=Mc.create("idb-get",{originalErrorMessage:e?.message});Bl.warn(t.message)}}}async function pb(n,e){try{const r=(await D_()).transaction(xf,"readwrite");await r.objectStore(xf).put(e,O_(n)),await r.done}catch(t){if(t instanceof ol)Bl.warn(t.message);else{const r=Mc.create("idb-set",{originalErrorMessage:t?.message});Bl.warn(r.message)}}}function O_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=1024,VT=30;class FT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qT(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=mb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>VT){const s=zT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Bl.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=mb(),{heartbeatsToSend:t,unsentEntries:r}=BT(this._heartbeatsCache.heartbeats),s=Um(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Bl.warn(e),""}}}function mb(){return new Date().toISOString().substring(0,10)}function BT(n,e=UT){const t=[];let r=n.slice();for(const s of n){const o=t.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),gb(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),gb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class qT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CS()?RS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await MT(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function gb(n){return Um(JSON.stringify({version:2,heartbeats:n})).length}function zT(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(n){ju(new Bc("platform-logger",e=>new nT(e),"PRIVATE")),ju(new Bc("heartbeat",e=>new FT(e),"PRIVATE")),Qo(B1,db,n),Qo(B1,db,"esm2020"),Qo("fire-js","")}HT("");function M_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GT=M_,U_=new Df("auth","Firebase",M_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm=new V2("@firebase/auth");function $T(n,...e){Fm.logLevel<=An.WARN&&Fm.warn(`Auth (${Vu}): ${n}`,...e)}function xm(n,...e){Fm.logLevel<=An.ERROR&&Fm.error(`Auth (${Vu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(n,...e){throw q2(n,...e)}function Jo(n,...e){return q2(n,...e)}function V_(n,e,t){const r={...GT(),[e]:t};return new Df("auth","Firebase",r).create(e,{appName:n.name})}function Ul(n){return V_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function q2(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return U_.create(n,...e)}function Ft(n,e,...t){if(!n)throw q2(e,...t)}function Pl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw xm(e),new Error(e)}function ql(n,e){n||Pl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(){return typeof self<"u"&&self.location?.href||""}function YT(){return yb()==="http:"||yb()==="https:"}function yb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YT()||AS()||"connection"in navigator)?navigator.onLine:!0}function KT(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,t){this.shortDelay=e,this.longDelay=t,ql(t>e,"Short delay should be less than long delay!"),this.isMobile=wS()||ES()}get(){return WT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(n,e){ql(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JT=new Mf(3e4,6e4);function Xc(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Yl(n,e,t,r,s={}){return B_(n,s,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const u=Of({key:n.config.apiKey,...c}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:d,...o};return NS()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Kc(n.emulatorConfig.host)&&(p.credentials="include"),F_.fetch()(await q_(n,n.config.apiHost,t,u),p)})}async function B_(n,e,t){n._canInitEmulator=!1;const r={...XT,...e};try{const s=new eC(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Zp(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const u=o.ok?c.errorMessage:c.error.message,[d,p]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zp(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Zp(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw Zp(n,"user-disabled",c);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw V_(n,y,p);wo(n,y)}}catch(s){if(s instanceof ol)throw s;wo(n,"network-request-failed",{message:String(s)})}}async function Uf(n,e,t,r,s={}){const o=await Yl(n,e,t,r,s);return"mfaPendingCredential"in o&&wo(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function q_(n,e,t,r){const s=`${e}${t}?${r}`,o=n,c=o.config.emulator?z2(n.config,s):`${n.config.apiScheme}://${s}`;return QT.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function ZT(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Jo(this.auth,"network-request-failed")),JT.get())})}}function Zp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Jo(n,e,r);return s.customData._tokenResponse=t,s}function vb(n){return n!==void 0&&n.enterprise!==void 0}class tC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ZT(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nC(n,e){return Yl(n,"GET","/v2/recaptchaConfig",Xc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(n,e){return Yl(n,"POST","/v1/accounts:delete",e)}async function Bm(n,e){return Yl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iC(n,e=!1){const t=fr(n),r=await t.getIdToken(e),s=H2(r);Ft(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o?.sign_in_provider;return{claims:s,token:r,authTime:hf(n1(s.auth_time)),issuedAtTime:hf(n1(s.iat)),expirationTime:hf(n1(s.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function n1(n){return Number(n)*1e3}function H2(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return xm("JWT malformed, contained fewer than 3 sections"),null;try{const s=S_(t);return s?JSON.parse(s):(xm("Failed to decode base64 JWT payload"),null)}catch(s){return xm("Caught error parsing JWT payload as JSON",s?.toString()),null}}function bb(n){const e=H2(n);return Ft(e,"internal-error"),Ft(typeof e.exp<"u","internal-error"),Ft(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ol&&sC(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function sC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hf(this.lastLoginAt),this.creationTime=hf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qm(n){const e=n.auth,t=await n.getIdToken(),r=await Bh(n,Bm(e,{idToken:t}));Ft(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=s.providerUserInfo?.length?z_(s.providerUserInfo):[],c=lC(n.providerData,o),u=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!c?.length,p=u?d:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new G1(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function oC(n){const e=fr(n);await qm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lC(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function z_(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(n,e){const t=await B_(n,{},async()=>{const r=Of({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,c=await q_(n,s,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return n.emulatorConfig&&Kc(n.emulatorConfig.host)&&(d.credentials="include"),F_.fetch()(c,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function uC(n,e){return Yl(n,"POST","/v2/accounts:revokeToken",Xc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ft(e.idToken,"internal-error"),Ft(typeof e.idToken<"u","internal-error"),Ft(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ft(e.length!==0,"internal-error");const t=bb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ft(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await cC(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,c=new Lh;return r&&(Ft(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),s&&(Ft(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(Ft(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lh,this.toJSON())}_performRefresh(){return Pl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(n,e){Ft(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class vo{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new aC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new G1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Bh(this,this.stsTokenManager.getToken(this.auth,e));return Ft(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return iC(this,e)}reload(){return oC(this)}_assign(e){this!==e&&(Ft(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await qm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(da(this.auth.app))return Promise.reject(Ul(this.auth));const e=await this.getIdToken();return await Bh(this,rC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,u=t.tenantId??void 0,d=t._redirectEventId??void 0,p=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:_,emailVerified:A,isAnonymous:x,providerData:k,stsTokenManager:j}=t;Ft(_&&j,e,"internal-error");const M=Lh.fromJSON(this.name,j);Ft(typeof _=="string",e,"internal-error"),Sc(r,e.name),Sc(s,e.name),Ft(typeof A=="boolean",e,"internal-error"),Ft(typeof x=="boolean",e,"internal-error"),Sc(o,e.name),Sc(c,e.name),Sc(u,e.name),Sc(d,e.name),Sc(p,e.name),Sc(y,e.name);const R=new vo({uid:_,auth:e,email:s,emailVerified:A,displayName:r,isAnonymous:x,photoURL:c,phoneNumber:o,tenantId:u,stsTokenManager:M,createdAt:p,lastLoginAt:y});return k&&Array.isArray(k)&&(R.providerData=k.map(F=>({...F}))),d&&(R._redirectEventId=d),R}static async _fromIdTokenResponse(e,t,r=!1){const s=new Lh;s.updateFromServerResponse(t);const o=new vo({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await qm(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ft(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?z_(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!o?.length,u=new Lh;u.updateFromIdToken(r);const d=new vo({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:c}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new G1(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=new Map;function Dl(n){ql(n instanceof Function,"Expected a class definition");let e=xb.get(n);return e?(ql(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,xb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}H_.type="NONE";const wb=H_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(n,e,t){return`firebase:${n}:${e}:${t}`}class Ph{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=wm(this.userKey,s.apiKey,o),this.fullPersistenceKey=wm("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Bm(this.auth,{idToken:e}).catch(()=>{});return t?vo._fromGetAccountInfoResponse(this.auth,t,e):null}return vo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ph(Dl(wb),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=s[0]||Dl(wb);const c=wm(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const A=await Bm(e,{idToken:y}).catch(()=>{});if(!A)break;_=await vo._fromGetAccountInfoResponse(e,A,y)}else _=vo._fromJSON(e,y);p!==o&&(u=_),o=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Ph(o,e,r):(o=d[0],u&&await o._set(c,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new Ph(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(W_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(G_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(X_(e))return"Blackberry";if(Q_(e))return"Webos";if($_(e))return"Safari";if((e.includes("chrome/")||Y_(e))&&!e.includes("edge/"))return"Chrome";if(K_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function G_(n=ws()){return/firefox\//i.test(n)}function $_(n=ws()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Y_(n=ws()){return/crios\//i.test(n)}function W_(n=ws()){return/iemobile/i.test(n)}function K_(n=ws()){return/android/i.test(n)}function X_(n=ws()){return/blackberry/i.test(n)}function Q_(n=ws()){return/webos/i.test(n)}function G2(n=ws()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function hC(n=ws()){return G2(n)&&!!window.navigator?.standalone}function dC(){return SS()&&document.documentMode===10}function J_(n=ws()){return G2(n)||K_(n)||Q_(n)||X_(n)||/windows phone/i.test(n)||W_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(n,e=[]){let t;switch(n){case"Browser":t=_b(ws());break;case"Worker":t=`${_b(ws())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Vu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((c,u)=>{try{const d=e(o);c(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(n,e={}){return Yl(n,"GET","/v2/passwordPolicy",Xc(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=6;class gC{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??mC,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nb(this),this.idTokenSubscription=new Nb(this),this.beforeStateQueue=new fC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=U_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Dl(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ph.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Bm(this,{idToken:e}),r=await vo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(da(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await qm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(da(this.app))return Promise.reject(Ul(this));const t=e?fr(e):null;return t&&Ft(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ft(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return da(this.app)?Promise.reject(Ul(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return da(this.app)?Promise.reject(Ul(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pC(this),t=new gC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Df("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await uC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Dl(e)||this._popupRedirectResolver;Ft(t,this,"argument-error"),this.redirectPersistenceManager=await Ph.create(this,[Dl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ft(u,this,"internal-error"),u.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,s);return()=>{c=!0,d()}}else{const d=e.addObserver(t);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Z_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(da(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&$T(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fu(n){return fr(n)}class Nb{constructor(e){this.auth=e,this.observer=null,this.addObserver=PS(t=>this.observer=t)}get next(){return Ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vC(n){dg=n}function e4(n){return dg.loadJS(n)}function bC(){return dg.recaptchaEnterpriseScript}function xC(){return dg.gapiScript}function wC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class _C{constructor(){this.enterprise=new NC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class NC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const AC="recaptcha-enterprise",t4="NO_RECAPTCHA";class EC{constructor(e){this.type=AC,this.auth=Fu(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,u)=>{nC(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new tC(d);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(d=>{u(d)})})}function s(o,c,u){const d=window.grecaptcha;vb(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(p=>{c(p)}).catch(()=>{c(t4)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _C().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(u=>{if(!t&&vb(window.grecaptcha))s(u,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=bC();d.length!==0&&(d+=u),e4(d).then(()=>{s(u,o,c)}).catch(p=>{c(p)})}}).catch(u=>{c(u)})})}}async function Ab(n,e,t,r=!1,s=!1){const o=new EC(n);let c;if(s)c=t4;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function $1(n,e,t,r,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Ab(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Ab(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(n,e){const t=hg(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(Iu(o,e??{}))return s;wo(s,"already-initialized")}return t.initialize({options:e})}function TC(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Dl);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function CC(n,e,t){const r=Fu(n);Ft(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=n4(e),{host:c,port:u}=RC(e),d=u===null?"":`:${u}`,p={url:`${o}//${c}${d}/`},y=Object.freeze({host:c,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ft(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ft(Iu(p,r.config.emulator)&&Iu(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Kc(c)?(M2(`${o}//${c}${d}`),U2("Auth",!0)):IC()}function n4(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function RC(n){const e=n4(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:Eb(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:Eb(c)}}}function Eb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function IC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pl("not implemented")}_getIdTokenResponse(e){return Pl("not implemented")}_linkToIdToken(e,t){return Pl("not implemented")}_getReauthenticationResolver(e){return Pl("not implemented")}}async function jC(n,e){return Yl(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(n,e){return Uf(n,"POST","/v1/accounts:signInWithPassword",Xc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(n,e){return Uf(n,"POST","/v1/accounts:signInWithEmailLink",Xc(n,e))}async function PC(n,e){return Uf(n,"POST","/v1/accounts:signInWithEmailLink",Xc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends $2{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new wf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new wf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $1(e,t,"signInWithPassword",kC);case"emailLink":return LC(e,{email:this._email,oobCode:this._password});default:wo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $1(e,r,"signUpPassword",jC);case"emailLink":return PC(e,{idToken:t,email:this._email,oobCode:this._password});default:wo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(n,e){return Uf(n,"POST","/v1/accounts:signInWithIdp",Xc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="http://localhost";class ku extends $2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ku(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=t;if(!r||!s)return null;const c=new ku(r,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Dh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Dh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dh(e,t)}buildRequest(){const e={requestUri:DC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Of(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MC(n){const e=nf(rf(n)).link,t=e?nf(rf(e)).deep_link_id:null,r=nf(rf(n)).deep_link_id;return(r?nf(rf(r)).link:null)||r||t||e||n}class Y2{constructor(e){const t=nf(rf(e)),r=t.apiKey??null,s=t.oobCode??null,o=OC(t.mode??null);Ft(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=MC(e);try{return new Y2(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this.providerId=Qh.PROVIDER_ID}static credential(e,t){return wf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Y2.parseLink(t);return Ft(r,"argument-error"),wf._fromEmailAndCode(e,r.code,r.tenantId)}}Qh.PROVIDER_ID="password";Qh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf extends r4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends Vf{constructor(){super("facebook.com")}static credential(e){return ku._fromParams({providerId:Rc.PROVIDER_ID,signInMethod:Rc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rc.credentialFromTaggedObject(e)}static credentialFromError(e){return Rc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rc.credential(e.oauthAccessToken)}catch{return null}}}Rc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends Vf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ku._fromParams({providerId:Ic.PROVIDER_ID,signInMethod:Ic.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ic.credentialFromTaggedObject(e)}static credentialFromError(e){return Ic.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ic.credential(t,r)}catch{return null}}}Ic.GOOGLE_SIGN_IN_METHOD="google.com";Ic.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends Vf{constructor(){super("github.com")}static credential(e){return ku._fromParams({providerId:jc.PROVIDER_ID,signInMethod:jc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jc.credentialFromTaggedObject(e)}static credentialFromError(e){return jc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jc.credential(e.oauthAccessToken)}catch{return null}}}jc.GITHUB_SIGN_IN_METHOD="github.com";jc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends Vf{constructor(){super("twitter.com")}static credential(e,t){return ku._fromParams({providerId:kc.PROVIDER_ID,signInMethod:kc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return kc.credentialFromTaggedObject(e)}static credentialFromError(e){return kc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return kc.credential(t,r)}catch{return null}}}kc.TWITTER_SIGN_IN_METHOD="twitter.com";kc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(n,e){return Uf(n,"POST","/v1/accounts:signUp",Xc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await vo._fromIdTokenResponse(e,r,s),c=Sb(r);return new Lu({user:o,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Sb(r);return new Lu({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Sb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm extends ol{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,zm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new zm(e,t,r,s)}}function i4(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?zm._fromErrorAndOperation(n,o,e,r):o})}async function VC(n,e,t=!1){const r=await Bh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Lu._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(n,e,t=!1){const{auth:r}=n;if(da(r.app))return Promise.reject(Ul(r));const s="reauthenticate";try{const o=await Bh(n,i4(r,s,e,n),t);Ft(o.idToken,r,"internal-error");const c=H2(o.idToken);Ft(c,r,"internal-error");const{sub:u}=c;return Ft(n.uid===u,r,"user-mismatch"),Lu._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&wo(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(n,e,t=!1){if(da(n.app))return Promise.reject(Ul(n));const r="signIn",s=await i4(n,r,e),o=await Lu._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function BC(n,e){return s4(Fu(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(n){const e=Fu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qC(n,e,t){if(da(n.app))return Promise.reject(Ul(n));const r=Fu(n),c=await $1(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UC).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&a4(n),d}),u=await Lu._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(u.user),u}function zC(n,e,t){return da(n.app)?Promise.reject(Ul(n)):BC(fr(n),Qh.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&a4(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(n,e){return Yl(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=fr(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await Bh(r,HC(r.auth,o));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const u=r.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function $C(n,e,t,r){return fr(n).onIdTokenChanged(e,t,r)}function YC(n,e,t){return fr(n).beforeAuthStateChanged(e,t)}function WC(n,e,t,r){return fr(n).onAuthStateChanged(e,t,r)}function W2(n){return fr(n).signOut()}const Hm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hm,"1"),this.storage.removeItem(Hm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=1e3,XC=10;class l4 extends o4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=J_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,u,d)=>{this.notifyListeners(c,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);dC()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,XC):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},KC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}l4.type="LOCAL";const QC=l4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4 extends o4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}c4.type="SESSION";const u4=c4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new fg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,c=this.handlersMap[s];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(c).map(async p=>p(t.origin,o)),d=await JC(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((u,d)=>{const p=K2("",20);s.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(_){const A=_;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(A.data.response);break;default:clearTimeout(y),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(){return window}function e8(n){Zo().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(){return typeof Zo().WorkerGlobalScope<"u"&&typeof Zo().importScripts=="function"}async function t8(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n8(){return navigator?.serviceWorker?.controller||null}function r8(){return h4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="firebaseLocalStorageDb",i8=1,Gm="firebaseLocalStorage",f4="fbase_key";class Ff{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pg(n,e){return n.transaction([Gm],e?"readwrite":"readonly").objectStore(Gm)}function s8(){const n=indexedDB.deleteDatabase(d4);return new Ff(n).toPromise()}function Y1(){const n=indexedDB.open(d4,i8);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Gm,{keyPath:f4})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Gm)?e(r):(r.close(),await s8(),e(await Y1()))})})}async function Tb(n,e,t){const r=pg(n,!0).put({[f4]:e,value:t});return new Ff(r).toPromise()}async function a8(n,e){const t=pg(n,!1).get(e),r=await new Ff(t).toPromise();return r===void 0?null:r.value}function Cb(n,e){const t=pg(n,!0).delete(e);return new Ff(t).toPromise()}const o8=800,l8=3;class p4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Y1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>l8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return h4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fg._getInstance(r8()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await t8(),!this.activeServiceWorker)return;this.sender=new ZC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Y1();return await Tb(e,Hm,"1"),await Cb(e,Hm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Tb(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>a8(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Cb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=pg(s,!1).getAll();return new Ff(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p4.type="LOCAL";const c8=p4;new Mf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(n,e){return e?Dl(e):(Ft(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2 extends $2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Dh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Dh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function h8(n){return s4(n.auth,new X2(n),n.bypassAuthState)}function d8(n){const{auth:e,user:t}=n;return Ft(t,e,"internal-error"),FC(t,new X2(n),n.bypassAuthState)}async function f8(n){const{auth:e,user:t}=n;return Ft(t,e,"internal-error"),VC(t,new X2(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:c,type:u}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return h8;case"linkViaPopup":case"linkViaRedirect":return f8;case"reauthViaPopup":case"reauthViaRedirect":return d8;default:wo(this.auth,"internal-error")}}resolve(e){ql(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ql(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=new Mf(2e3,1e4);class jh extends m4{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,jh.currentPopupAction&&jh.currentPopupAction.cancel(),jh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ft(e,this.auth,"internal-error"),e}async onExecution(){ql(this.filter.length===1,"Popup operations only handle one event");const e=K2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Jo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Jo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jh.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,p8.get())};e()}}jh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8="pendingRedirect",_m=new Map;class g8 extends m4{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=_m.get(this.auth._key());if(!e){try{const r=await y8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}_m.set(this.auth._key(),e)}return this.bypassAuthState||_m.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y8(n,e){const t=x8(e),r=b8(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function v8(n,e){_m.set(n._key(),e)}function b8(n){return Dl(n._redirectPersistence)}function x8(n){return wm(m8,n.config.apiKey,n.name)}async function w8(n,e,t=!1){if(da(n.app))return Promise.reject(Ul(n));const r=Fu(n),s=u8(r,e),c=await new g8(r,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8=600*1e3;class N8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!A8(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!g4(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Jo(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_8&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rb(e))}saveEventToCache(e){this.cachedEventUids.add(Rb(e)),this.lastProcessedEventTime=Date.now()}}function Rb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function g4({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function A8(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return g4(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E8(n,e={}){return Yl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T8=/^https?/;async function C8(n){if(n.config.emulator)return;const{authorizedDomains:e}=await E8(n);for(const t of e)try{if(R8(t))return}catch{}wo(n,"unauthorized-domain")}function R8(n){const e=H1(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!T8.test(t))return!1;if(S8.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8=new Mf(3e4,6e4);function Ib(){const n=Zo().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function j8(n){return new Promise((e,t)=>{function r(){Ib(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ib(),t(Jo(n,"network-request-failed"))},timeout:I8.get()})}if(Zo().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Zo().gapi?.load)r();else{const s=wC("iframefcb");return Zo()[s]=()=>{gapi.load?r():t(Jo(n,"network-request-failed"))},e4(`${xC()}?onload=${s}`).catch(o=>t(o))}}).catch(e=>{throw Nm=null,e})}let Nm=null;function k8(n){return Nm=Nm||j8(n),Nm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=new Mf(5e3,15e3),P8="__/auth/iframe",D8="emulator/auth/iframe",O8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U8(n){const e=n.config;Ft(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?z2(e,D8):`https://${n.config.authDomain}/${P8}`,r={apiKey:e.apiKey,appName:n.name,v:Vu},s=M8.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Of(r).slice(1)}`}async function V8(n){const e=await k8(n),t=Zo().gapi;return Ft(t,n,"internal-error"),e.open({where:document.body,url:U8(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O8,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const c=Jo(n,"network-request-failed"),u=Zo().setTimeout(()=>{o(c)},L8.get());function d(){Zo().clearTimeout(u),s(r)}r.ping(d).then(d,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B8=500,q8=600,z8="_blank",H8="http://localhost";class jb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function G8(n,e,t,r=B8,s=q8){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...F8,width:r.toString(),height:s.toString(),top:o,left:c},p=ws().toLowerCase();t&&(u=Y_(p)?z8:t),G_(p)&&(e=e||H8,d.scrollbars="yes");const y=Object.entries(d).reduce((A,[x,k])=>`${A}${x}=${k},`,"");if(hC(p)&&u!=="_self")return $8(e||"",u),new jb(null);const _=window.open(e||"",u,y);Ft(_,n,"popup-blocked");try{_.focus()}catch{}return new jb(_)}function $8(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8="__/auth/handler",W8="emulator/auth/handler",K8=encodeURIComponent("fac");async function kb(n,e,t,r,s,o){Ft(n.config.authDomain,n,"auth-domain-config-required"),Ft(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Vu,eventId:s};if(e instanceof r4){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",LS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof Vf){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const u=c;for(const y of Object.keys(u))u[y]===void 0&&delete u[y];const d=await n._getAppCheckToken(),p=d?`#${K8}=${encodeURIComponent(d)}`:"";return`${X8(n)}?${Of(u).slice(1)}${p}`}function X8({config:n}){return n.emulator?z2(n,W8):`https://${n.authDomain}/${Y8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="webStorageSupport";class Q8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=u4,this._completeRedirectFn=w8,this._overrideRedirectResult=v8}async _openPopup(e,t,r,s){ql(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await kb(e,t,r,H1(),s);return G8(e,o,K2())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await kb(e,t,r,H1(),s);return e8(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(ql(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await V8(e),r=new N8(e);return t.register("authEvent",s=>(Ft(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(r1,{type:r1},s=>{const o=s?.[0]?.[r1];o!==void 0&&t(!!o),wo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=C8(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return J_()||$_()||G2()}}const J8=Q8;var Lb="@firebase/auth",Pb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tR(n){ju(new Bc("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=r.options;Ft(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Z_(n)},p=new yC(r,s,o,d);return TC(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ju(new Bc("auth-internal",e=>{const t=Fu(e.getProvider("auth").getImmediate());return(r=>new Z8(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qo(Lb,Pb,eR(n)),Qo(Lb,Pb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=300,rR=I_("authIdTokenMaxAge")||nR;let Db=null;const iR=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>rR)return;const s=t?.token;Db!==s&&(Db=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Bu(n=B2()){const e=hg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=SC(n,{popupRedirectResolver:J8,persistence:[c8,QC,u4]}),r=I_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=iR(o.toString());YC(t,c,()=>c(t.currentUser)),$C(t,u=>c(u))}}const s=T_("auth");return s&&CC(t,`http://${s}`),t}function sR(){return document.getElementsByTagName("head")?.[0]??document}vC({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=Jo("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",sR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tR("Browser");var Ob=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uc,y4;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e($,I){function P(){}P.prototype=I.prototype,$.D=I.prototype,$.prototype=new P,$.prototype.constructor=$,$.C=function(V,T,D){for(var O=Array(arguments.length-2),le=2;le<arguments.length;le++)O[le-2]=arguments[le];return I.prototype[T].apply(V,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s($,I,P){P||(P=0);var V=Array(16);if(typeof I=="string")for(var T=0;16>T;++T)V[T]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(T=0;16>T;++T)V[T]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=$.g[0],P=$.g[1],T=$.g[2];var D=$.g[3],O=I+(D^P&(T^D))+V[0]+3614090360&4294967295;I=P+(O<<7&4294967295|O>>>25),O=D+(T^I&(P^T))+V[1]+3905402710&4294967295,D=I+(O<<12&4294967295|O>>>20),O=T+(P^D&(I^P))+V[2]+606105819&4294967295,T=D+(O<<17&4294967295|O>>>15),O=P+(I^T&(D^I))+V[3]+3250441966&4294967295,P=T+(O<<22&4294967295|O>>>10),O=I+(D^P&(T^D))+V[4]+4118548399&4294967295,I=P+(O<<7&4294967295|O>>>25),O=D+(T^I&(P^T))+V[5]+1200080426&4294967295,D=I+(O<<12&4294967295|O>>>20),O=T+(P^D&(I^P))+V[6]+2821735955&4294967295,T=D+(O<<17&4294967295|O>>>15),O=P+(I^T&(D^I))+V[7]+4249261313&4294967295,P=T+(O<<22&4294967295|O>>>10),O=I+(D^P&(T^D))+V[8]+1770035416&4294967295,I=P+(O<<7&4294967295|O>>>25),O=D+(T^I&(P^T))+V[9]+2336552879&4294967295,D=I+(O<<12&4294967295|O>>>20),O=T+(P^D&(I^P))+V[10]+4294925233&4294967295,T=D+(O<<17&4294967295|O>>>15),O=P+(I^T&(D^I))+V[11]+2304563134&4294967295,P=T+(O<<22&4294967295|O>>>10),O=I+(D^P&(T^D))+V[12]+1804603682&4294967295,I=P+(O<<7&4294967295|O>>>25),O=D+(T^I&(P^T))+V[13]+4254626195&4294967295,D=I+(O<<12&4294967295|O>>>20),O=T+(P^D&(I^P))+V[14]+2792965006&4294967295,T=D+(O<<17&4294967295|O>>>15),O=P+(I^T&(D^I))+V[15]+1236535329&4294967295,P=T+(O<<22&4294967295|O>>>10),O=I+(T^D&(P^T))+V[1]+4129170786&4294967295,I=P+(O<<5&4294967295|O>>>27),O=D+(P^T&(I^P))+V[6]+3225465664&4294967295,D=I+(O<<9&4294967295|O>>>23),O=T+(I^P&(D^I))+V[11]+643717713&4294967295,T=D+(O<<14&4294967295|O>>>18),O=P+(D^I&(T^D))+V[0]+3921069994&4294967295,P=T+(O<<20&4294967295|O>>>12),O=I+(T^D&(P^T))+V[5]+3593408605&4294967295,I=P+(O<<5&4294967295|O>>>27),O=D+(P^T&(I^P))+V[10]+38016083&4294967295,D=I+(O<<9&4294967295|O>>>23),O=T+(I^P&(D^I))+V[15]+3634488961&4294967295,T=D+(O<<14&4294967295|O>>>18),O=P+(D^I&(T^D))+V[4]+3889429448&4294967295,P=T+(O<<20&4294967295|O>>>12),O=I+(T^D&(P^T))+V[9]+568446438&4294967295,I=P+(O<<5&4294967295|O>>>27),O=D+(P^T&(I^P))+V[14]+3275163606&4294967295,D=I+(O<<9&4294967295|O>>>23),O=T+(I^P&(D^I))+V[3]+4107603335&4294967295,T=D+(O<<14&4294967295|O>>>18),O=P+(D^I&(T^D))+V[8]+1163531501&4294967295,P=T+(O<<20&4294967295|O>>>12),O=I+(T^D&(P^T))+V[13]+2850285829&4294967295,I=P+(O<<5&4294967295|O>>>27),O=D+(P^T&(I^P))+V[2]+4243563512&4294967295,D=I+(O<<9&4294967295|O>>>23),O=T+(I^P&(D^I))+V[7]+1735328473&4294967295,T=D+(O<<14&4294967295|O>>>18),O=P+(D^I&(T^D))+V[12]+2368359562&4294967295,P=T+(O<<20&4294967295|O>>>12),O=I+(P^T^D)+V[5]+4294588738&4294967295,I=P+(O<<4&4294967295|O>>>28),O=D+(I^P^T)+V[8]+2272392833&4294967295,D=I+(O<<11&4294967295|O>>>21),O=T+(D^I^P)+V[11]+1839030562&4294967295,T=D+(O<<16&4294967295|O>>>16),O=P+(T^D^I)+V[14]+4259657740&4294967295,P=T+(O<<23&4294967295|O>>>9),O=I+(P^T^D)+V[1]+2763975236&4294967295,I=P+(O<<4&4294967295|O>>>28),O=D+(I^P^T)+V[4]+1272893353&4294967295,D=I+(O<<11&4294967295|O>>>21),O=T+(D^I^P)+V[7]+4139469664&4294967295,T=D+(O<<16&4294967295|O>>>16),O=P+(T^D^I)+V[10]+3200236656&4294967295,P=T+(O<<23&4294967295|O>>>9),O=I+(P^T^D)+V[13]+681279174&4294967295,I=P+(O<<4&4294967295|O>>>28),O=D+(I^P^T)+V[0]+3936430074&4294967295,D=I+(O<<11&4294967295|O>>>21),O=T+(D^I^P)+V[3]+3572445317&4294967295,T=D+(O<<16&4294967295|O>>>16),O=P+(T^D^I)+V[6]+76029189&4294967295,P=T+(O<<23&4294967295|O>>>9),O=I+(P^T^D)+V[9]+3654602809&4294967295,I=P+(O<<4&4294967295|O>>>28),O=D+(I^P^T)+V[12]+3873151461&4294967295,D=I+(O<<11&4294967295|O>>>21),O=T+(D^I^P)+V[15]+530742520&4294967295,T=D+(O<<16&4294967295|O>>>16),O=P+(T^D^I)+V[2]+3299628645&4294967295,P=T+(O<<23&4294967295|O>>>9),O=I+(T^(P|~D))+V[0]+4096336452&4294967295,I=P+(O<<6&4294967295|O>>>26),O=D+(P^(I|~T))+V[7]+1126891415&4294967295,D=I+(O<<10&4294967295|O>>>22),O=T+(I^(D|~P))+V[14]+2878612391&4294967295,T=D+(O<<15&4294967295|O>>>17),O=P+(D^(T|~I))+V[5]+4237533241&4294967295,P=T+(O<<21&4294967295|O>>>11),O=I+(T^(P|~D))+V[12]+1700485571&4294967295,I=P+(O<<6&4294967295|O>>>26),O=D+(P^(I|~T))+V[3]+2399980690&4294967295,D=I+(O<<10&4294967295|O>>>22),O=T+(I^(D|~P))+V[10]+4293915773&4294967295,T=D+(O<<15&4294967295|O>>>17),O=P+(D^(T|~I))+V[1]+2240044497&4294967295,P=T+(O<<21&4294967295|O>>>11),O=I+(T^(P|~D))+V[8]+1873313359&4294967295,I=P+(O<<6&4294967295|O>>>26),O=D+(P^(I|~T))+V[15]+4264355552&4294967295,D=I+(O<<10&4294967295|O>>>22),O=T+(I^(D|~P))+V[6]+2734768916&4294967295,T=D+(O<<15&4294967295|O>>>17),O=P+(D^(T|~I))+V[13]+1309151649&4294967295,P=T+(O<<21&4294967295|O>>>11),O=I+(T^(P|~D))+V[4]+4149444226&4294967295,I=P+(O<<6&4294967295|O>>>26),O=D+(P^(I|~T))+V[11]+3174756917&4294967295,D=I+(O<<10&4294967295|O>>>22),O=T+(I^(D|~P))+V[2]+718787259&4294967295,T=D+(O<<15&4294967295|O>>>17),O=P+(D^(T|~I))+V[9]+3951481745&4294967295,$.g[0]=$.g[0]+I&4294967295,$.g[1]=$.g[1]+(T+(O<<21&4294967295|O>>>11))&4294967295,$.g[2]=$.g[2]+T&4294967295,$.g[3]=$.g[3]+D&4294967295}r.prototype.u=function($,I){I===void 0&&(I=$.length);for(var P=I-this.blockSize,V=this.B,T=this.h,D=0;D<I;){if(T==0)for(;D<=P;)s(this,$,D),D+=this.blockSize;if(typeof $=="string"){for(;D<I;)if(V[T++]=$.charCodeAt(D++),T==this.blockSize){s(this,V),T=0;break}}else for(;D<I;)if(V[T++]=$[D++],T==this.blockSize){s(this,V),T=0;break}}this.h=T,this.o+=I},r.prototype.v=function(){var $=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);$[0]=128;for(var I=1;I<$.length-8;++I)$[I]=0;var P=8*this.o;for(I=$.length-8;I<$.length;++I)$[I]=P&255,P/=256;for(this.u($),$=Array(16),I=P=0;4>I;++I)for(var V=0;32>V;V+=8)$[P++]=this.g[I]>>>V&255;return $};function o($,I){var P=u;return Object.prototype.hasOwnProperty.call(P,$)?P[$]:P[$]=I($)}function c($,I){this.h=I;for(var P=[],V=!0,T=$.length-1;0<=T;T--){var D=$[T]|0;V&&D==I||(P[T]=D,V=!1)}this.g=P}var u={};function d($){return-128<=$&&128>$?o($,function(I){return new c([I|0],0>I?-1:0)}):new c([$|0],0>$?-1:0)}function p($){if(isNaN($)||!isFinite($))return _;if(0>$)return M(p(-$));for(var I=[],P=1,V=0;$>=P;V++)I[V]=$/P|0,P*=4294967296;return new c(I,0)}function y($,I){if($.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if($.charAt(0)=="-")return M(y($.substring(1),I));if(0<=$.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(I,8)),V=_,T=0;T<$.length;T+=8){var D=Math.min(8,$.length-T),O=parseInt($.substring(T,T+D),I);8>D?(D=p(Math.pow(I,D)),V=V.j(D).add(p(O))):(V=V.j(P),V=V.add(p(O)))}return V}var _=d(0),A=d(1),x=d(16777216);n=c.prototype,n.m=function(){if(j(this))return-M(this).m();for(var $=0,I=1,P=0;P<this.g.length;P++){var V=this.i(P);$+=(0<=V?V:4294967296+V)*I,I*=4294967296}return $},n.toString=function($){if($=$||10,2>$||36<$)throw Error("radix out of range: "+$);if(k(this))return"0";if(j(this))return"-"+M(this).toString($);for(var I=p(Math.pow($,6)),P=this,V="";;){var T=W(P,I).g;P=R(P,T.j(I));var D=((0<P.g.length?P.g[0]:P.h)>>>0).toString($);if(P=T,k(P))return D+V;for(;6>D.length;)D="0"+D;V=D+V}},n.i=function($){return 0>$?0:$<this.g.length?this.g[$]:this.h};function k($){if($.h!=0)return!1;for(var I=0;I<$.g.length;I++)if($.g[I]!=0)return!1;return!0}function j($){return $.h==-1}n.l=function($){return $=R(this,$),j($)?-1:k($)?0:1};function M($){for(var I=$.g.length,P=[],V=0;V<I;V++)P[V]=~$.g[V];return new c(P,~$.h).add(A)}n.abs=function(){return j(this)?M(this):this},n.add=function($){for(var I=Math.max(this.g.length,$.g.length),P=[],V=0,T=0;T<=I;T++){var D=V+(this.i(T)&65535)+($.i(T)&65535),O=(D>>>16)+(this.i(T)>>>16)+($.i(T)>>>16);V=O>>>16,D&=65535,O&=65535,P[T]=O<<16|D}return new c(P,P[P.length-1]&-2147483648?-1:0)};function R($,I){return $.add(M(I))}n.j=function($){if(k(this)||k($))return _;if(j(this))return j($)?M(this).j(M($)):M(M(this).j($));if(j($))return M(this.j(M($)));if(0>this.l(x)&&0>$.l(x))return p(this.m()*$.m());for(var I=this.g.length+$.g.length,P=[],V=0;V<2*I;V++)P[V]=0;for(V=0;V<this.g.length;V++)for(var T=0;T<$.g.length;T++){var D=this.i(V)>>>16,O=this.i(V)&65535,le=$.i(T)>>>16,Se=$.i(T)&65535;P[2*V+2*T]+=O*Se,F(P,2*V+2*T),P[2*V+2*T+1]+=D*Se,F(P,2*V+2*T+1),P[2*V+2*T+1]+=O*le,F(P,2*V+2*T+1),P[2*V+2*T+2]+=D*le,F(P,2*V+2*T+2)}for(V=0;V<I;V++)P[V]=P[2*V+1]<<16|P[2*V];for(V=I;V<2*I;V++)P[V]=0;return new c(P,0)};function F($,I){for(;($[I]&65535)!=$[I];)$[I+1]+=$[I]>>>16,$[I]&=65535,I++}function q($,I){this.g=$,this.h=I}function W($,I){if(k(I))throw Error("division by zero");if(k($))return new q(_,_);if(j($))return I=W(M($),I),new q(M(I.g),M(I.h));if(j(I))return I=W($,M(I)),new q(M(I.g),I.h);if(30<$.g.length){if(j($)||j(I))throw Error("slowDivide_ only works with positive integers.");for(var P=A,V=I;0>=V.l($);)P=ce(P),V=ce(V);var T=xe(P,1),D=xe(V,1);for(V=xe(V,2),P=xe(P,2);!k(V);){var O=D.add(V);0>=O.l($)&&(T=T.add(P),D=O),V=xe(V,1),P=xe(P,1)}return I=R($,T.j(I)),new q(T,I)}for(T=_;0<=$.l(I);){for(P=Math.max(1,Math.floor($.m()/I.m())),V=Math.ceil(Math.log(P)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),D=p(P),O=D.j(I);j(O)||0<O.l($);)P-=V,D=p(P),O=D.j(I);k(D)&&(D=A),T=T.add(D),$=R($,O)}return new q(T,$)}n.A=function($){return W(this,$).h},n.and=function($){for(var I=Math.max(this.g.length,$.g.length),P=[],V=0;V<I;V++)P[V]=this.i(V)&$.i(V);return new c(P,this.h&$.h)},n.or=function($){for(var I=Math.max(this.g.length,$.g.length),P=[],V=0;V<I;V++)P[V]=this.i(V)|$.i(V);return new c(P,this.h|$.h)},n.xor=function($){for(var I=Math.max(this.g.length,$.g.length),P=[],V=0;V<I;V++)P[V]=this.i(V)^$.i(V);return new c(P,this.h^$.h)};function ce($){for(var I=$.g.length+1,P=[],V=0;V<I;V++)P[V]=$.i(V)<<1|$.i(V-1)>>>31;return new c(P,$.h)}function xe($,I){var P=I>>5;I%=32;for(var V=$.g.length-P,T=[],D=0;D<V;D++)T[D]=0<I?$.i(D+P)>>>I|$.i(D+P+1)<<32-I:$.i(D+P);return new c(T,$.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,y4=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Uc=c}).apply(typeof Ob<"u"?Ob:typeof self<"u"?self:typeof window<"u"?window:{});var em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var v4,sf,b4,Am,W1,x4,w4,_4;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,S,L){return g==Array.prototype||g==Object.prototype||(g[S]=L.value),g};function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof em=="object"&&em];for(var S=0;S<g.length;++S){var L=g[S];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=t(this);function s(g,S){if(S)e:{var L=r;g=g.split(".");for(var J=0;J<g.length-1;J++){var Ae=g[J];if(!(Ae in L))break e;L=L[Ae]}g=g[g.length-1],J=L[g],S=S(J),S!=J&&S!=null&&e(L,g,{configurable:!0,writable:!0,value:S})}}function o(g,S){g instanceof String&&(g+="");var L=0,J=!1,Ae={next:function(){if(!J&&L<g.length){var Oe=L++;return{value:S(Oe,g[Oe]),done:!1}}return J=!0,{done:!0,value:void 0}}};return Ae[Symbol.iterator]=function(){return Ae},Ae}s("Array.prototype.values",function(g){return g||function(){return o(this,function(S,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function d(g){var S=typeof g;return S=S!="object"?S:g?Array.isArray(g)?"array":S:"null",S=="array"||S=="object"&&typeof g.length=="number"}function p(g){var S=typeof g;return S=="object"&&g!=null||S=="function"}function y(g,S,L){return g.call.apply(g.bind,arguments)}function _(g,S,L){if(!g)throw Error();if(2<arguments.length){var J=Array.prototype.slice.call(arguments,2);return function(){var Ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ae,J),g.apply(S,Ae)}}return function(){return g.apply(S,arguments)}}function A(g,S,L){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,A.apply(null,arguments)}function x(g,S){var L=Array.prototype.slice.call(arguments,1);return function(){var J=L.slice();return J.push.apply(J,arguments),g.apply(this,J)}}function k(g,S){function L(){}L.prototype=S.prototype,g.aa=S.prototype,g.prototype=new L,g.prototype.constructor=g,g.Qb=function(J,Ae,Oe){for(var Je=Array(arguments.length-2),un=2;un<arguments.length;un++)Je[un-2]=arguments[un];return S.prototype[Ae].apply(J,Je)}}function j(g){const S=g.length;if(0<S){const L=Array(S);for(let J=0;J<S;J++)L[J]=g[J];return L}return[]}function M(g,S){for(let L=1;L<arguments.length;L++){const J=arguments[L];if(d(J)){const Ae=g.length||0,Oe=J.length||0;g.length=Ae+Oe;for(let Je=0;Je<Oe;Je++)g[Ae+Je]=J[Je]}else g.push(J)}}class R{constructor(S,L){this.i=S,this.j=L,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function F(g){return/^[\s\xa0]*$/.test(g)}function q(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function W(g){return W[" "](g),g}W[" "]=function(){};var ce=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function xe(g,S,L){for(const J in g)S.call(L,g[J],J,g)}function $(g,S){for(const L in g)S.call(void 0,g[L],L,g)}function I(g){const S={};for(const L in g)S[L]=g[L];return S}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(g,S){let L,J;for(let Ae=1;Ae<arguments.length;Ae++){J=arguments[Ae];for(L in J)g[L]=J[L];for(let Oe=0;Oe<P.length;Oe++)L=P[Oe],Object.prototype.hasOwnProperty.call(J,L)&&(g[L]=J[L])}}function T(g){var S=1;g=g.split(":");const L=[];for(;0<S&&g.length;)L.push(g.shift()),S--;return g.length&&L.push(g.join(":")),L}function D(g){u.setTimeout(()=>{throw g},0)}function O(){var g=je;let S=null;return g.g&&(S=g.g,g.g=g.g.next,g.g||(g.h=null),S.next=null),S}class le{constructor(){this.h=this.g=null}add(S,L){const J=Se.get();J.set(S,L),this.h?this.h.next=J:this.g=J,this.h=J}}var Se=new R(()=>new ae,g=>g.reset());class ae{constructor(){this.next=this.g=this.h=null}set(S,L){this.h=S,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,pe=!1,je=new le,ee=()=>{const g=u.Promise.resolve(void 0);ye=()=>{g.then(me)}};var me=()=>{for(var g;g=O();){try{g.h.call(g.g)}catch(L){D(L)}var S=Se;S.j(g),100>S.h&&(S.h++,g.next=S.g,S.g=g)}pe=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(g,S){this.type=g,this.g=this.target=S,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var te=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,S=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const L=()=>{};u.addEventListener("test",L,S),u.removeEventListener("test",L,S)}catch{}return g})();function ue(g,S){if(X.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var L=this.type=g.type,J=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=S,S=g.relatedTarget){if(ce){e:{try{W(S.nodeName);var Ae=!0;break e}catch{}Ae=!1}Ae||(S=null)}}else L=="mouseover"?S=g.fromElement:L=="mouseout"&&(S=g.toElement);this.relatedTarget=S,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:de[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&ue.aa.h.call(this)}}k(ue,X);var de={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),ke=0;function Pe(g,S,L,J,Ae){this.listener=g,this.proxy=null,this.src=S,this.type=L,this.capture=!!J,this.ha=Ae,this.key=++ke,this.da=this.fa=!1}function ze(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Qe(g){this.src=g,this.g={},this.h=0}Qe.prototype.add=function(g,S,L,J,Ae){var Oe=g.toString();g=this.g[Oe],g||(g=this.g[Oe]=[],this.h++);var Je=rt(g,S,J,Ae);return-1<Je?(S=g[Je],L||(S.fa=!1)):(S=new Pe(S,this.src,Oe,!!J,Ae),S.fa=L,g.push(S)),S};function nt(g,S){var L=S.type;if(L in g.g){var J=g.g[L],Ae=Array.prototype.indexOf.call(J,S,void 0),Oe;(Oe=0<=Ae)&&Array.prototype.splice.call(J,Ae,1),Oe&&(ze(S),g.g[L].length==0&&(delete g.g[L],g.h--))}}function rt(g,S,L,J){for(var Ae=0;Ae<g.length;++Ae){var Oe=g[Ae];if(!Oe.da&&Oe.listener==S&&Oe.capture==!!L&&Oe.ha==J)return Ae}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),se={};function nn(g,S,L,J,Ae){if(Array.isArray(S)){for(var Oe=0;Oe<S.length;Oe++)nn(g,S[Oe],L,J,Ae);return null}return L=qt(L),g&&g[_e]?g.K(S,L,p(J)?!!J.capture:!1,Ae):Tt(g,S,L,!1,J,Ae)}function Tt(g,S,L,J,Ae,Oe){if(!S)throw Error("Invalid event type");var Je=p(Ae)?!!Ae.capture:!!Ae,un=bt(g);if(un||(g[Me]=un=new Qe(g)),L=un.add(S,L,J,Je,Oe),L.proxy)return L;if(J=Et(),L.proxy=J,J.src=g,J.listener=L,g.addEventListener)te||(Ae=Je),Ae===void 0&&(Ae=!1),g.addEventListener(S.toString(),J,Ae);else if(g.attachEvent)g.attachEvent(tt(S.toString()),J);else if(g.addListener&&g.removeListener)g.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return L}function Et(){function g(L){return S.call(g.src,g.listener,L)}const S=Kt;return g}function Ze(g,S,L,J,Ae){if(Array.isArray(S))for(var Oe=0;Oe<S.length;Oe++)Ze(g,S[Oe],L,J,Ae);else J=p(J)?!!J.capture:!!J,L=qt(L),g&&g[_e]?(g=g.i,S=String(S).toString(),S in g.g&&(Oe=g.g[S],L=rt(Oe,L,J,Ae),-1<L&&(ze(Oe[L]),Array.prototype.splice.call(Oe,L,1),Oe.length==0&&(delete g.g[S],g.h--)))):g&&(g=bt(g))&&(S=g.g[S.toString()],g=-1,S&&(g=rt(S,L,J,Ae)),(L=-1<g?S[g]:null)&&yt(L))}function yt(g){if(typeof g!="number"&&g&&!g.da){var S=g.src;if(S&&S[_e])nt(S.i,g);else{var L=g.type,J=g.proxy;S.removeEventListener?S.removeEventListener(L,J,g.capture):S.detachEvent?S.detachEvent(tt(L),J):S.addListener&&S.removeListener&&S.removeListener(J),(L=bt(S))?(nt(L,g),L.h==0&&(L.src=null,S[Me]=null)):ze(g)}}}function tt(g){return g in se?se[g]:se[g]="on"+g}function Kt(g,S){if(g.da)g=!0;else{S=new ue(S,this);var L=g.listener,J=g.ha||g.src;g.fa&&yt(g),g=L.call(J,S)}return g}function bt(g){return g=g[Me],g instanceof Qe?g:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function qt(g){return typeof g=="function"?g:(g[gn]||(g[gn]=function(S){return g.handleEvent(S)}),g[gn])}function ut(){B.call(this),this.i=new Qe(this),this.M=this,this.F=null}k(ut,B),ut.prototype[_e]=!0,ut.prototype.removeEventListener=function(g,S,L,J){Ze(this,g,S,L,J)};function wt(g,S){var L,J=g.F;if(J)for(L=[];J;J=J.F)L.push(J);if(g=g.M,J=S.type||S,typeof S=="string")S=new X(S,g);else if(S instanceof X)S.target=S.target||g;else{var Ae=S;S=new X(J,g),V(S,Ae)}if(Ae=!0,L)for(var Oe=L.length-1;0<=Oe;Oe--){var Je=S.g=L[Oe];Ae=St(Je,J,!0,S)&&Ae}if(Je=S.g=g,Ae=St(Je,J,!0,S)&&Ae,Ae=St(Je,J,!1,S)&&Ae,L)for(Oe=0;Oe<L.length;Oe++)Je=S.g=L[Oe],Ae=St(Je,J,!1,S)&&Ae}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var g=this.i,S;for(S in g.g){for(var L=g.g[S],J=0;J<L.length;J++)ze(L[J]);delete g.g[S],g.h--}}this.F=null},ut.prototype.K=function(g,S,L,J){return this.i.add(String(g),S,!1,L,J)},ut.prototype.L=function(g,S,L,J){return this.i.add(String(g),S,!0,L,J)};function St(g,S,L,J){if(S=g.i.g[String(S)],!S)return!0;S=S.concat();for(var Ae=!0,Oe=0;Oe<S.length;++Oe){var Je=S[Oe];if(Je&&!Je.da&&Je.capture==L){var un=Je.listener,ur=Je.ha||Je.src;Je.fa&&nt(g.i,Je),Ae=un.call(ur,J)!==!1&&Ae}}return Ae&&!J.defaultPrevented}function st(g,S,L){if(typeof g=="function")L&&(g=A(g,L));else if(g&&typeof g.handleEvent=="function")g=A(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:u.setTimeout(g,S||0)}function jt(g){g.g=st(()=>{g.g=null,g.i&&(g.i=!1,jt(g))},g.l);const S=g.h;g.h=null,g.m.apply(null,S)}class xt extends B{constructor(S,L){super(),this.m=S,this.l=L,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:jt(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tn(g){B.call(this),this.h=g,this.g={}}k(Tn,B);var on=[];function ht(g){xe(g.g,function(S,L){this.g.hasOwnProperty(L)&&yt(S)},g),g.g={}}Tn.prototype.N=function(){Tn.aa.N.call(this),ht(this)},Tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ct=u.JSON.stringify,Cn=u.JSON.parse,_t=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function rn(){}rn.prototype.h=null;function Vt(g){return g.h||(g.h=g.i())}function rr(){}var Hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yn(){X.call(this,"d")}k(yn,X);function Pt(){X.call(this,"c")}k(Pt,X);var sn={},Qs=null;function pr(){return Qs=Qs||new ut}sn.La="serverreachability";function rs(g){X.call(this,sn.La,g)}k(rs,X);function yi(g){const S=pr();wt(S,new rs(S))}sn.STAT_EVENT="statevent";function Rt(g,S){X.call(this,sn.STAT_EVENT,g),this.stat=S}k(Rt,X);function Rn(g){const S=pr();wt(S,new Rt(S,g))}sn.Ma="timingevent";function Gn(g,S){X.call(this,sn.Ma,g),this.size=S}k(Gn,X);function Ln(g,S){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},S)}function mr(){this.g=!0}mr.prototype.xa=function(){this.g=!1};function Qn(g,S,L,J,Ae,Oe){g.info(function(){if(g.g)if(Oe)for(var Je="",un=Oe.split("&"),ur=0;ur<un.length;ur++){var hn=un[ur].split("=");if(1<hn.length){var fn=hn[0];hn=hn[1];var Mn=fn.split("_");Je=2<=Mn.length&&Mn[1]=="type"?Je+(fn+"="+hn+"&"):Je+(fn+"=redacted&")}}else Je=null;else Je=Oe;return"XMLHTTP REQ ("+J+") [attempt "+Ae+"]: "+S+`
`+L+`
`+Je})}function Ur(g,S,L,J,Ae,Oe,Je){g.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+Ae+"]: "+S+`
`+L+`
`+Oe+" "+Je})}function cr(g,S,L,J){g.info(function(){return"XMLHTTP TEXT ("+S+"): "+is(g,L)+(J?" "+J:"")})}function ya(g,S){g.info(function(){return"TIMEOUT: "+S})}mr.prototype.info=function(){};function is(g,S){if(!g.g)return S;if(!S)return null;try{var L=JSON.parse(S);if(L){for(g=0;g<L.length;g++)if(Array.isArray(L[g])){var J=L[g];if(!(2>J.length)){var Ae=J[1];if(Array.isArray(Ae)&&!(1>Ae.length)){var Oe=Ae[0];if(Oe!="noop"&&Oe!="stop"&&Oe!="close")for(var Je=1;Je<Ae.length;Je++)Ae[Je]=""}}}}return Ct(L)}catch{return S}}var ci={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vr;function Fr(){}k(Fr,rn),Fr.prototype.g=function(){return new XMLHttpRequest},Fr.prototype.i=function(){return{}},Vr=new Fr;function Jn(g,S,L,J){this.j=g,this.i=S,this.l=L,this.R=J||1,this.U=new Tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var ss={},Ds={};function Si(g,S,L){g.L=1,g.v=wa(bi(S)),g.m=L,g.P=!0,as(g,null)}function as(g,S){g.F=Date.now(),Js(g),g.A=bi(g.v);var L=g.A,J=g.R;Array.isArray(J)||(J=[String(J)]),Dt(L.i,"t",J),g.C=0,L=g.j.J,g.h=new $n,g.g=ra(g.j,L?S:null,!g.m),0<g.O&&(g.M=new xt(A(g.Y,g,g.g),g.O)),S=g.U,L=g.g,J=g.ca;var Ae="readystatechange";Array.isArray(Ae)||(Ae&&(on[0]=Ae.toString()),Ae=on);for(var Oe=0;Oe<Ae.length;Oe++){var Je=nn(L,Ae[Oe],J||S.handleEvent,!1,S.h||S);if(!Je)break;S.g[Je.key]=Je}S=g.H?I(g.H):{},g.m?(g.u||(g.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,S)):(g.u="GET",g.g.ea(g.A,g.u,null,S)),yi(),Qn(g.i,g.u,g.A,g.l,g.R,g.m)}Jn.prototype.ca=function(g){g=g.target;const S=this.M;S&&Ri(g)==3?S.j():this.Y(g)},Jn.prototype.Y=function(g){try{if(g==this.g)e:{const Mn=Ri(this.g);var S=this.g.Ba();const Ss=this.g.Z();if(!(3>Mn)&&(Mn!=3||this.g&&(this.h.h||this.g.oa()||ko(this.g)))){this.J||Mn!=4||S==7||(S==8||0>=Ss?yi(3):yi(2)),Zs(this);var L=this.g.Z();this.X=L;t:if(Wa(this)){var J=ko(this.g);g="";var Ae=J.length,Oe=Ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ir(this),Rr(this);var Je="";break t}this.h.i=new u.TextDecoder}for(S=0;S<Ae;S++)this.h.h=!0,g+=this.h.i.decode(J[S],{stream:!(Oe&&S==Ae-1)});J.length=0,this.h.g+=g,this.C=0,Je=this.h.g}else Je=this.g.oa();if(this.o=L==200,Ur(this.i,this.u,this.A,this.l,this.R,Mn,L),this.o){if(this.T&&!this.K){t:{if(this.g){var un,ur=this.g;if((un=ur.g?ur.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(un)){var hn=un;break t}}hn=null}if(L=hn)cr(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,va(this,L);else{this.o=!1,this.s=3,Rn(12),Ir(this),Rr(this);break e}}if(this.P){L=!0;let kr;for(;!this.J&&this.C<Je.length;)if(kr=Wl(this,Je),kr==Ds){Mn==4&&(this.s=4,Rn(14),L=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(kr==ss){this.s=4,Rn(15),cr(this.i,this.l,Je,"[Invalid Chunk]"),L=!1;break}else cr(this.i,this.l,kr,null),va(this,kr);if(Wa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mn!=4||Je.length!=0||this.h.h||(this.s=1,Rn(16),L=!1),this.o=this.o&&L,!L)cr(this.i,this.l,Je,"[Invalid Chunked Response]"),Ir(this),Rr(this);else if(0<Je.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+Je.length),cn(fn),fn.M=!0,Rn(11))}}else cr(this.i,this.l,Je,null),va(this,Je);Mn==4&&Ir(this),this.o&&!this.J&&(Mn==4?Pn(this.j,this):(this.o=!1,Js(this)))}else qi(this.g),L==400&&0<Je.indexOf("Unknown SID")?(this.s=3,Rn(12)):(this.s=0,Rn(13)),Ir(this),Rr(this)}}}catch{}finally{}};function Wa(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Wl(g,S){var L=g.C,J=S.indexOf(`
`,L);return J==-1?Ds:(L=Number(S.substring(L,J)),isNaN(L)?ss:(J+=1,J+L>S.length?Ds:(S=S.slice(J,J+L),g.C=J+L,S)))}Jn.prototype.cancel=function(){this.J=!0,Ir(this)};function Js(g){g.S=Date.now()+g.I,cl(g,g.I)}function cl(g,S){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Ln(A(g.ba,g),S)}function Zs(g){g.B&&(u.clearTimeout(g.B),g.B=null)}Jn.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(ya(this.i,this.A),this.L!=2&&(yi(),Rn(17)),Ir(this),this.s=2,Rr(this)):cl(this,this.S-g)};function Rr(g){g.j.G==0||g.J||Pn(g.j,g)}function Ir(g){Zs(g);var S=g.M;S&&typeof S.ma=="function"&&S.ma(),g.M=null,ht(g.U),g.g&&(S=g.g,g.g=null,S.abort(),S.ma())}function va(g,S){try{var L=g.j;if(L.G!=0&&(L.g==g||ba(L.h,g))){if(!g.K&&ba(L.h,g)&&L.G==3){try{var J=L.Da.g.parse(S)}catch{J=null}if(Array.isArray(J)&&J.length==3){var Ae=J;if(Ae[0]==0){e:if(!L.u){if(L.g)if(L.g.F+3e3<g.F)ir(L),re(L);else break e;zt(L),Rn(18)}}else L.za=Ae[1],0<L.za-L.T&&37500>Ae[2]&&L.F&&L.v==0&&!L.C&&(L.C=Ln(A(L.Za,L),6e3));if(1>=Xa(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else Fn(L,11)}else if((g.K||L.g==g)&&ir(L),!F(S))for(Ae=L.Da.g.parse(S),S=0;S<Ae.length;S++){let hn=Ae[S];if(L.T=hn[0],hn=hn[1],L.G==2)if(hn[0]=="c"){L.K=hn[1],L.ia=hn[2];const fn=hn[3];fn!=null&&(L.la=fn,L.j.info("VER="+L.la));const Mn=hn[4];Mn!=null&&(L.Aa=Mn,L.j.info("SVER="+L.Aa));const Ss=hn[5];Ss!=null&&typeof Ss=="number"&&0<Ss&&(J=1.5*Ss,L.L=J,L.j.info("backChannelRequestTimeoutMs_="+J)),J=L;const kr=g.g;if(kr){const xi=kr.g?kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xi){var Oe=J.h;Oe.g||xi.indexOf("spdy")==-1&&xi.indexOf("quic")==-1&&xi.indexOf("h2")==-1||(Oe.j=Oe.l,Oe.g=new Set,Oe.h&&(Ro(Oe,Oe.h),Oe.h=null))}if(J.D){const Ta=kr.g?kr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ta&&(J.ya=Ta,ln(J.I,J.D,Ta))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-g.F,L.j.info("Handshake RTT: "+L.R+"ms")),J=L;var Je=g;if(J.qa=Fs(J,J.J?J.ia:null,J.W),Je.K){xn(J.h,Je);var un=Je,ur=J.L;ur&&(un.I=ur),un.B&&(Zs(un),Js(un)),J.g=Je}else kt(J);0<L.i.length&&we(L)}else hn[0]!="stop"&&hn[0]!="close"||Fn(L,7);else L.G==3&&(hn[0]=="stop"||hn[0]=="close"?hn[0]=="stop"?Fn(L,7):z(L):hn[0]!="noop"&&L.l&&L.l.ta(hn),L.v=0)}}yi(4)}catch{}}var Co=class{constructor(g,S){this.g=g,this.map=S}};function Os(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ka(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Xa(g){return g.h?1:g.g?g.g.size:0}function ba(g,S){return g.h?g.h==S:g.g?g.g.has(S):!1}function Ro(g,S){g.g?g.g.add(S):g.h=S}function xn(g,S){g.h&&g.h==S?g.h=null:g.g&&g.g.has(S)&&g.g.delete(S)}Os.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Io(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let S=g.i;for(const L of g.g.values())S=S.concat(L.D);return S}return j(g.i)}function Kl(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(d(g)){for(var S=[],L=g.length,J=0;J<L;J++)S.push(g[J]);return S}S=[],L=0;for(J in g)S[L++]=g[J];return S}function os(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(d(g)||typeof g=="string"){var S=[];g=g.length;for(var L=0;L<g;L++)S.push(L);return S}S=[],L=0;for(const J in g)S[L++]=J;return S}}}function ea(g,S){if(g.forEach&&typeof g.forEach=="function")g.forEach(S,void 0);else if(d(g)||typeof g=="string")Array.prototype.forEach.call(g,S,void 0);else for(var L=os(g),J=Kl(g),Ae=J.length,Oe=0;Oe<Ae;Oe++)S.call(void 0,J[Oe],L&&L[Oe],g)}var vi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qa(g,S){if(g){g=g.split("&");for(var L=0;L<g.length;L++){var J=g[L].indexOf("="),Ae=null;if(0<=J){var Oe=g[L].substring(0,J);Ae=g[L].substring(J+1)}else Oe=g[L];S(Oe,Ae?decodeURIComponent(Ae.replace(/\+/g," ")):"")}}}function tn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof tn){this.h=g.h,Ja(this,g.j),this.o=g.o,this.g=g.g,xa(this,g.s),this.l=g.l;var S=g.i,L=new Ti;L.i=S.i,S.g&&(L.g=new Map(S.g),L.h=S.h),ta(this,L),this.m=g.m}else g&&(S=String(g).match(vi))?(this.h=!1,Ja(this,S[1]||"",!0),this.o=Ui(S[2]||""),this.g=Ui(S[3]||"",!0),xa(this,S[4]),this.l=Ui(S[5]||"",!0),ta(this,S[6]||"",!0),this.m=Ui(S[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}tn.prototype.toString=function(){var g=[],S=this.j;S&&g.push(ls(S,ul,!0),":");var L=this.g;return(L||S=="file")&&(g.push("//"),(S=this.o)&&g.push(ls(S,ul,!0),"@"),g.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&g.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&g.push("/"),g.push(ls(L,L.charAt(0)=="/"?eu:hl,!0))),(L=this.i.toString())&&g.push("?",L),(L=this.m)&&g.push("#",ls(L,Ms)),g.join("")};function bi(g){return new tn(g)}function Ja(g,S,L){g.j=L?Ui(S,!0):S,g.j&&(g.j=g.j.replace(/:$/,""))}function xa(g,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);g.s=S}else g.s=null}function ta(g,S,L){S instanceof Ti?(g.i=S,Xl(g.i,g.h)):(L||(S=ls(S,dl)),g.i=new Ti(S,g.h))}function ln(g,S,L){g.i.set(S,L)}function wa(g){return ln(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Ui(g,S){return g?S?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ls(g,S,L){return typeof g=="string"?(g=encodeURI(g).replace(S,jo),L&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function jo(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var ul=/[#\/\?@]/g,hl=/[#\?:]/g,eu=/[#\?]/g,dl=/[#\?@]/g,Ms=/#/g;function Ti(g,S){this.h=this.g=null,this.i=g||null,this.j=!!S}function cs(g){g.g||(g.g=new Map,g.h=0,g.i&&Qa(g.i,function(S,L){g.add(decodeURIComponent(S.replace(/\+/g," ")),L)}))}n=Ti.prototype,n.add=function(g,S){cs(this),this.i=null,g=Us(this,g);var L=this.g.get(g);return L||this.g.set(g,L=[]),L.push(S),this.h+=1,this};function Vi(g,S){cs(g),S=Us(g,S),g.g.has(S)&&(g.i=null,g.h-=g.g.get(S).length,g.g.delete(S))}function _s(g,S){return cs(g),S=Us(g,S),g.g.has(S)}n.forEach=function(g,S){cs(this),this.g.forEach(function(L,J){L.forEach(function(Ae){g.call(S,Ae,J,this)},this)},this)},n.na=function(){cs(this);const g=Array.from(this.g.values()),S=Array.from(this.g.keys()),L=[];for(let J=0;J<S.length;J++){const Ae=g[J];for(let Oe=0;Oe<Ae.length;Oe++)L.push(S[J])}return L},n.V=function(g){cs(this);let S=[];if(typeof g=="string")_s(this,g)&&(S=S.concat(this.g.get(Us(this,g))));else{g=Array.from(this.g.values());for(let L=0;L<g.length;L++)S=S.concat(g[L])}return S},n.set=function(g,S){return cs(this),this.i=null,g=Us(this,g),_s(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[S]),this.h+=1,this},n.get=function(g,S){return g?(g=this.V(g),0<g.length?String(g[0]):S):S};function Dt(g,S,L){Vi(g,S),0<L.length&&(g.i=null,g.g.set(Us(g,S),j(L)),g.h+=L.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],S=Array.from(this.g.keys());for(var L=0;L<S.length;L++){var J=S[L];const Oe=encodeURIComponent(String(J)),Je=this.V(J);for(J=0;J<Je.length;J++){var Ae=Oe;Je[J]!==""&&(Ae+="="+encodeURIComponent(String(Je[J]))),g.push(Ae)}}return this.i=g.join("&")};function Us(g,S){return S=String(S),g.j&&(S=S.toLowerCase()),S}function Xl(g,S){S&&!g.j&&(cs(g),g.i=null,g.g.forEach(function(L,J){var Ae=J.toLowerCase();J!=Ae&&(Vi(this,J),Dt(this,Ae,L))},g)),g.j=S}function Za(g,S){const L=new mr;if(u.Image){const J=new Image;J.onload=x(Br,L,"TestLoadImage: loaded",!0,S,J),J.onerror=x(Br,L,"TestLoadImage: error",!1,S,J),J.onabort=x(Br,L,"TestLoadImage: abort",!1,S,J),J.ontimeout=x(Br,L,"TestLoadImage: timeout",!1,S,J),u.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=g}else S(!1)}function Ns(g,S){const L=new mr,J=new AbortController,Ae=setTimeout(()=>{J.abort(),Br(L,"TestPingServer: timeout",!1,S)},1e4);fetch(g,{signal:J.signal}).then(Oe=>{clearTimeout(Ae),Oe.ok?Br(L,"TestPingServer: ok",!0,S):Br(L,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(Ae),Br(L,"TestPingServer: error",!1,S)})}function Br(g,S,L,J,Ae){try{Ae&&(Ae.onload=null,Ae.onerror=null,Ae.onabort=null,Ae.ontimeout=null),J(L)}catch{}}function Fi(){this.g=new _t}function Vs(g,S,L){const J=L||"";try{ea(g,function(Ae,Oe){let Je=Ae;p(Ae)&&(Je=Ct(Ae)),S.push(J+Oe+"="+encodeURIComponent(Je))})}catch(Ae){throw S.push(J+"type="+encodeURIComponent("_badmap")),Ae}}function _a(g){this.l=g.Ub||null,this.j=g.eb||!1}k(_a,rn),_a.prototype.g=function(){return new us(this.l,this.j)},_a.prototype.i=(function(g){return function(){return g}})({});function us(g,S){ut.call(this),this.D=g,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(us,ut),n=us.prototype,n.open=function(g,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=S,this.readyState=1,Bi(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(S.body=g),(this.D||u).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ci(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Bi(this)),this.g&&(this.readyState=3,Bi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eo(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function eo(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var S=g.value?g.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!g.done}))&&(this.response=this.responseText+=S)}g.done?Ci(this):Bi(this),this.readyState==3&&eo(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,Ci(this))},n.Qa=function(g){this.g&&(this.response=g,Ci(this))},n.ga=function(){this.g&&Ci(this)};function Ci(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Bi(g)}n.setRequestHeader=function(g,S){this.u.append(g,S)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],S=this.h.entries();for(var L=S.next();!L.done;)L=L.value,g.push(L[0]+": "+L[1]),L=S.next();return g.join(`\r
`)};function Bi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Na(g){let S="";return xe(g,function(L,J){S+=J,S+=":",S+=L,S+=`\r
`}),S}function qr(g,S,L){e:{for(J in L){var J=!1;break e}J=!0}J||(L=Na(L),typeof g=="string"?L!=null&&encodeURIComponent(String(L)):ln(g,S,L))}function wn(g){ut.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(wn,ut);var Aa=/^https?$/i,As=["POST","PUT"];n=wn.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,S,L,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);S=S?S.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vr.g(),this.v=this.o?Vt(this.o):Vt(Vr),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(S,String(g),!0),this.B=!1}catch(Oe){Ea(this,Oe);return}if(g=L||"",L=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var Ae in J)L.set(Ae,J[Ae]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const Oe of J.keys())L.set(Oe,J.get(Oe));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(L.keys()).find(Oe=>Oe.toLowerCase()=="content-type"),Ae=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(As,S,void 0))||J||Ae||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Oe,Je]of L)this.g.setRequestHeader(Oe,Je);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Es(this),this.u=!0,this.g.send(g),this.u=!1}catch(Oe){Ea(this,Oe)}};function Ea(g,S){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=S,g.m=5,Sa(g),hs(g)}function Sa(g){g.A||(g.A=!0,wt(g,"complete"),wt(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,wt(this,"complete"),wt(this,"abort"),hs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),wn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?na(this):this.bb())},n.bb=function(){na(this)};function na(g){if(g.h&&typeof c<"u"&&(!g.v[1]||Ri(g)!=4||g.Z()!=2)){if(g.u&&Ri(g)==4)st(g.Ea,0,g);else if(wt(g,"readystatechange"),Ri(g)==4){g.h=!1;try{const Je=g.Z();e:switch(Je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var L;if(!(L=S)){var J;if(J=Je===0){var Ae=String(g.D).match(vi)[1]||null;!Ae&&u.self&&u.self.location&&(Ae=u.self.location.protocol.slice(0,-1)),J=!Aa.test(Ae?Ae.toLowerCase():"")}L=J}if(L)wt(g,"complete"),wt(g,"success");else{g.m=6;try{var Oe=2<Ri(g)?g.g.statusText:""}catch{Oe=""}g.l=Oe+" ["+g.Z()+"]",Sa(g)}}finally{hs(g)}}}}function hs(g,S){if(g.g){Es(g);const L=g.g,J=g.v[0]?()=>{}:null;g.g=null,g.v=null,S||wt(g,"ready");try{L.onreadystatechange=J}catch{}}}function Es(g){g.I&&(u.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function Ri(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<Ri(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var S=this.g.responseText;return g&&S.indexOf(g)==0&&(S=S.substring(g.length)),Cn(S)}};function ko(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(g){const S={};g=(g.g&&2<=Ri(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<g.length;J++){if(F(g[J]))continue;var L=T(g[J]);const Ae=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const Oe=S[Ae]||[];S[Ae]=Oe,Oe.push(L)}$(S,function(J){return J.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(g,S,L){return L&&L.internalChannelParams&&L.internalChannelParams[g]||S}function N(g){this.Aa=0,this.i=[],this.j=new mr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ii("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ii("baseRetryDelayMs",5e3,g),this.cb=Ii("retryDelaySeedMs",1e4,g),this.Wa=Ii("forwardChannelMaxRetries",2,g),this.wa=Ii("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Os(g&&g.concurrentRequestLimit),this.Da=new Fi,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=N.prototype,n.la=8,n.G=1,n.connect=function(g,S,L,J){Rn(0),this.W=g,this.H=S||{},L&&J!==void 0&&(this.H.OSID=L,this.H.OAID=J),this.F=this.X,this.I=Fs(this,null,this.W),we(this)};function z(g){if(fe(g),g.G==3){var S=g.U++,L=bi(g.I);if(ln(L,"SID",g.K),ln(L,"RID",S),ln(L,"TYPE","terminate"),at(g,L),S=new Jn(g,g.j,S),S.L=2,S.v=wa(bi(L)),L=!1,u.navigator&&u.navigator.sendBeacon)try{L=u.navigator.sendBeacon(S.v.toString(),"")}catch{}!L&&u.Image&&(new Image().src=S.v,L=!0),L||(S.g=ra(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Js(S)}zr(g)}function re(g){g.g&&(cn(g),g.g.cancel(),g.g=null)}function fe(g){re(g),g.u&&(u.clearTimeout(g.u),g.u=null),ir(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function we(g){if(!Ka(g.h)&&!g.s){g.s=!0;var S=g.Ga;ye||ee(),pe||(ye(),pe=!0),je.add(S,g),g.B=0}}function Be(g,S){return Xa(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=S.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Ln(A(g.Ga,g,S),gr(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Ae=new Jn(this,this.j,g);let Oe=this.o;if(this.S&&(Oe?(Oe=I(Oe),V(Oe,this.S)):Oe=this.S),this.m!==null||this.O||(Ae.H=Oe,Oe=null),this.P)e:{for(var S=0,L=0;L<this.i.length;L++){t:{var J=this.i[L];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(S+=J,4096<S){S=L;break e}if(S===4096||L===this.i.length-1){S=L+1;break e}}S=1e3}else S=1e3;S=pt(this,Ae,S),L=bi(this.I),ln(L,"RID",g),ln(L,"CVER",22),this.D&&ln(L,"X-HTTP-Session-Id",this.D),at(this,L),Oe&&(this.O?S="headers="+encodeURIComponent(String(Na(Oe)))+"&"+S:this.m&&qr(L,this.m,Oe)),Ro(this.h,Ae),this.Ua&&ln(L,"TYPE","init"),this.P?(ln(L,"$req",S),ln(L,"SID","null"),Ae.T=!0,Si(Ae,L,null)):Si(Ae,L,S),this.G=2}}else this.G==3&&(g?We(this,g):this.i.length==0||Ka(this.h)||We(this))};function We(g,S){var L;S?L=S.l:L=g.U++;const J=bi(g.I);ln(J,"SID",g.K),ln(J,"RID",L),ln(J,"AID",g.T),at(g,J),g.m&&g.o&&qr(J,g.m,g.o),L=new Jn(g,g.j,L,g.B+1),g.m===null&&(L.H=g.o),S&&(g.i=S.D.concat(g.i)),S=pt(g,L,1e3),L.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Ro(g.h,L),Si(L,J,S)}function at(g,S){g.H&&xe(g.H,function(L,J){ln(S,J,L)}),g.l&&ea({},function(L,J){ln(S,J,L)})}function pt(g,S,L){L=Math.min(g.i.length,L);var J=g.l?A(g.l.Na,g.l,g):null;e:{var Ae=g.i;let Oe=-1;for(;;){const Je=["count="+L];Oe==-1?0<L?(Oe=Ae[0].g,Je.push("ofs="+Oe)):Oe=0:Je.push("ofs="+Oe);let un=!0;for(let ur=0;ur<L;ur++){let hn=Ae[ur].g;const fn=Ae[ur].map;if(hn-=Oe,0>hn)Oe=Math.max(0,Ae[ur].g-100),un=!1;else try{Vs(fn,Je,"req"+hn+"_")}catch{J&&J(fn)}}if(un){J=Je.join("&");break e}}}return g=g.i.splice(0,L),S.D=g,J}function kt(g){if(!g.g&&!g.u){g.Y=1;var S=g.Fa;ye||ee(),pe||(ye(),pe=!0),je.add(S,g),g.v=0}}function zt(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Ln(A(g.Fa,g),gr(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,Zn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Ln(A(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rn(10),re(this),Zn(this))};function cn(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function Zn(g){g.g=new Jn(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var S=bi(g.qa);ln(S,"RID","rpc"),ln(S,"SID",g.K),ln(S,"AID",g.T),ln(S,"CI",g.F?"0":"1"),!g.F&&g.ja&&ln(S,"TO",g.ja),ln(S,"TYPE","xmlhttp"),at(g,S),g.m&&g.o&&qr(S,g.m,g.o),g.L&&(g.g.I=g.L);var L=g.g;g=g.ia,L.L=1,L.v=wa(bi(S)),L.m=null,L.P=!0,as(L,g)}n.Za=function(){this.C!=null&&(this.C=null,re(this),zt(this),Rn(19))};function ir(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function Pn(g,S){var L=null;if(g.g==S){ir(g),cn(g),g.g=null;var J=2}else if(ba(g.h,S))L=S.D,xn(g.h,S),J=1;else return;if(g.G!=0){if(S.o)if(J==1){L=S.m?S.m.length:0,S=Date.now()-S.F;var Ae=g.B;J=pr(),wt(J,new Gn(J,L)),we(g)}else kt(g);else if(Ae=S.s,Ae==3||Ae==0&&0<S.X||!(J==1&&Be(g,S)||J==2&&zt(g)))switch(L&&0<L.length&&(S=g.h,S.i=S.i.concat(L)),Ae){case 1:Fn(g,5);break;case 4:Fn(g,10);break;case 3:Fn(g,6);break;default:Fn(g,2)}}}function gr(g,S){let L=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(L*=2),L*S}function Fn(g,S){if(g.j.info("Error code "+S),S==2){var L=A(g.fb,g),J=g.Xa;const Ae=!J;J=new tn(J||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ja(J,"https"),wa(J),Ae?Za(J.toString(),L):Ns(J.toString(),L)}else Rn(2);g.G=0,g.l&&g.l.sa(S),zr(g),fe(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Rn(2)):(this.j.info("Failed to ping google.com"),Rn(1))};function zr(g){if(g.G=0,g.ka=[],g.l){const S=Io(g.h);(S.length!=0||g.i.length!=0)&&(M(g.ka,S),M(g.ka,g.i),g.h.i.length=0,j(g.i),g.i.length=0),g.l.ra()}}function Fs(g,S,L){var J=L instanceof tn?bi(L):new tn(L);if(J.g!="")S&&(J.g=S+"."+J.g),xa(J,J.s);else{var Ae=u.location;J=Ae.protocol,S=S?S+"."+Ae.hostname:Ae.hostname,Ae=+Ae.port;var Oe=new tn(null);J&&Ja(Oe,J),S&&(Oe.g=S),Ae&&xa(Oe,Ae),L&&(Oe.l=L),J=Oe}return L=g.D,S=g.ya,L&&S&&ln(J,L,S),ln(J,"VER",g.la),at(g,J),J}function ra(g,S,L){if(S&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=g.Ca&&!g.pa?new wn(new _a({eb:L})):new wn(g.pa),S.Ha(g.J),S}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ql(){}n=Ql.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function to(){}to.prototype.g=function(g,S){return new jr(g,S)};function jr(g,S){ut.call(this),this.g=new N(S),this.l=g,this.h=S&&S.messageUrlParams||null,g=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(g?g["X-WebChannel-Content-Type"]=S.messageContentType:g={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(g?g["X-WebChannel-Client-Profile"]=S.va:g={"X-WebChannel-Client-Profile":S.va}),this.g.S=g,(g=S&&S.Sb)&&!F(g)&&(this.g.m=g),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!F(S)&&(this.g.D=S,g=this.h,g!==null&&S in g&&(g=this.h,S in g&&delete g[S])),this.j=new zi(this)}k(jr,ut),jr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jr.prototype.close=function(){z(this.g)},jr.prototype.o=function(g){var S=this.g;if(typeof g=="string"){var L={};L.__data__=g,g=L}else this.u&&(L={},L.__data__=Ct(g),g=L);S.i.push(new Co(S.Ya++,g)),S.G==3&&we(S)},jr.prototype.N=function(){this.g.l=null,delete this.j,z(this.g),delete this.g,jr.aa.N.call(this)};function ds(g){yn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var S=g.__sm__;if(S){e:{for(const L in S){g=L;break e}g=void 0}(this.i=g)&&(g=this.i,S=S!==null&&g in S?S[g]:void 0),this.data=S}else this.data=g}k(ds,yn);function Lo(){Pt.call(this),this.status=1}k(Lo,Pt);function zi(g){this.g=g}k(zi,Ql),zi.prototype.ua=function(){wt(this.g,"a")},zi.prototype.ta=function(g){wt(this.g,new ds(g))},zi.prototype.sa=function(g){wt(this.g,new Lo)},zi.prototype.ra=function(){wt(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,jr.prototype.send=jr.prototype.o,jr.prototype.open=jr.prototype.m,jr.prototype.close=jr.prototype.close,_4=function(){return new to},w4=function(){return pr()},x4=sn,W1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ci.NO_ERROR=0,ci.TIMEOUT=8,ci.HTTP_ERROR=6,Am=ci,ui.COMPLETE="complete",b4=ui,rr.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",ut.prototype.listen=ut.prototype.K,sf=rr,wn.prototype.listenOnce=wn.prototype.L,wn.prototype.getLastError=wn.prototype.Ka,wn.prototype.getLastErrorCode=wn.prototype.Ba,wn.prototype.getStatus=wn.prototype.Z,wn.prototype.getResponseJson=wn.prototype.Oa,wn.prototype.getResponseText=wn.prototype.oa,wn.prototype.send=wn.prototype.ea,wn.prototype.setWithCredentials=wn.prototype.Ha,v4=wn}).apply(typeof em<"u"?em:typeof self<"u"?self:typeof window<"u"?window:{});const Mb="@firebase/firestore",Ub="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bs.UNAUTHENTICATED=new bs(null),bs.GOOGLE_CREDENTIALS=new bs("google-credentials-uid"),bs.FIRST_PARTY=new bs("first-party-uid"),bs.MOCK_USER=new bs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=new V2("@firebase/firestore");function Eh(){return Pu.logLevel}function lt(n,...e){if(Pu.logLevel<=An.DEBUG){const t=e.map(Q2);Pu.debug(`Firestore (${Jh}): ${n}`,...t)}}function zl(n,...e){if(Pu.logLevel<=An.ERROR){const t=e.map(Q2);Pu.error(`Firestore (${Jh}): ${n}`,...t)}}function qh(n,...e){if(Pu.logLevel<=An.WARN){const t=e.map(Q2);Pu.warn(`Firestore (${Jh}): ${n}`,...t)}}function Q2(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,N4(n,r,t)}function N4(n,e,t){let r=`FIRESTORE (${Jh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw zl(r),new Error(r)}function zn(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||N4(e,s,r)}function Zt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends ol{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(bs.UNAUTHENTICATED)))}shutdown(){}}class oR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class lR{constructor(e){this.t=e,this.currentUser=bs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){zn(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new Vl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vl,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},u=d=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vl)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(zn(typeof r.accessToken=="string",31837,{l:r}),new A4(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return zn(e===null||typeof e=="string",2055,{h:e}),new bs(e)}}class cR{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=bs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uR{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new cR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(bs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Vb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,da(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){zn(this.o===void 0,3512);const r=o=>{o.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,lt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Vb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(zn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Vb(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=dR(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function En(n,e){return n<e?-1:n>e?1:0}function K1(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),o=e.charAt(r);if(s!==o)return i1(s)===i1(o)?En(s,o):i1(s)?1:-1}return En(n.length,e.length)}const fR=55296,pR=57343;function i1(n){const e=n.charCodeAt(0);return e>=fR&&e<=pR}function zh(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="__name__";class Wo{constructor(e,t,r){t===void 0?t=0:t>e.length&&Bt(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Bt(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Wo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wo?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=Wo.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return En(e.length,t.length)}static compareSegments(e,t){const r=Wo.isNumericId(e),s=Wo.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Wo.extractNumericId(e).compare(Wo.extractNumericId(t)):K1(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Uc.fromString(e.substring(4,e.length-2))}}class dr extends Wo{construct(e,t,r){return new dr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new it(He.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new dr(t)}static emptyPath(){return new dr([])}}const mR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ts extends Wo{construct(e,t,r){return new ts(e,t,r)}static isValidIdentifier(e){return mR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ts.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fb}static keyField(){return new ts([Fb])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new it(He.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new it(He.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new it(He.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else u==="`"?(c=!c,s++):u!=="."||c?(r+=u,s++):(o(),s++)}if(o(),c)throw new it(He.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ts(t)}static emptyPath(){return new ts([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.path=e}static fromPath(e){return new It(dr.fromString(e))}static fromName(e){return new It(dr.fromString(e).popFirst(5))}static empty(){return new It(dr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return dr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new It(new dr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(n,e,t){if(!t)throw new it(He.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function gR(n,e,t,r){if(e===!0&&r===!0)throw new it(He.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Bb(n){if(!It.isDocumentKey(n))throw new it(He.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qb(n){if(It.isDocumentKey(n))throw new it(He.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function S4(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function mg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Bt(12329,{type:typeof n})}function Ls(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new it(He.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mg(n);throw new it(He.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(n,e){const t={typeString:n};return e&&(t.value=e),t}function Bf(n,e){if(!S4(n))throw new it(He.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(s&&typeof c!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new it(He.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=-62135596800,Hb=1e6;class br{static now(){return br.fromMillis(Date.now())}static fromDate(e){return br.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Hb);return new br(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new it(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new it(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<zb)throw new it(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hb}_compareTo(e){return this.seconds===e.seconds?En(this.nanoseconds,e.nanoseconds):En(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:br._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bf(e,br._jsonSchema))return new br(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}br._jsonSchemaVersion="firestore/timestamp/1.0",br._jsonSchema={type:gi("string",br._jsonSchemaVersion),seconds:gi("number"),nanoseconds:gi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{static fromTimestamp(e){return new Qt(e)}static min(){return new Qt(new br(0,0))}static max(){return new Qt(new br(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=-1;function yR(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Qt.fromTimestamp(r===1e9?new br(t+1,0):new br(t,r));return new qc(s,It.empty(),e)}function vR(n){return new qc(n.readTime,n.key,_f)}class qc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new qc(Qt.min(),It.empty(),_f)}static max(){return new qc(Qt.max(),It.empty(),_f)}}function bR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=It.comparator(n.documentKey,e.documentKey),t!==0?t:En(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zh(n){if(n.code!==He.FAILED_PRECONDITION||n.message!==xR)throw n;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ke(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ke?t:Ke.resolve(t)}catch(t){return Ke.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ke.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ke.reject(t)}static resolve(e){return new Ke(((t,r)=>{t(e)}))}static reject(e){return new Ke(((t,r)=>{r(e)}))}static waitFor(e){return new Ke(((t,r)=>{let s=0,o=0,c=!1;e.forEach((u=>{++s,u.next((()=>{++o,c&&o===s&&t()}),(d=>r(d)))})),c=!0,o===s&&t()}))}static or(e){let t=Ke.resolve(!1);for(const r of e)t=t.next((s=>s?Ke.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,o)=>{r.push(t.call(this,s,o))})),this.waitFor(r)}static mapArray(e,t){return new Ke(((r,s)=>{const o=e.length,c=new Array(o);let u=0;for(let d=0;d<o;d++){const p=d;t(e[p]).next((y=>{c[p]=y,++u,u===o&&r(c)}),(y=>s(y)))}}))}static doWhile(e,t){return new Ke(((r,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):r()};o()}))}}function _R(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ed(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=-1;function yg(n){return n==null}function $m(n){return n===0&&1/n==-1/0}function NR(n){return typeof n=="number"&&Number.isInteger(n)&&!$m(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="";function AR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Gb(e)),e=ER(n.get(t),e);return Gb(e)}function ER(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case T4:t+="";break;default:t+=o}}return t}function Gb(n){return n+T4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function C4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,t){this.comparator=e,this.root=t||es.EMPTY}insert(e,t){return new Mr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,es.BLACK,null,null))}remove(e){return new Mr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,es.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tm(this.root,e,this.comparator,!1)}getReverseIterator(){return new tm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tm(this.root,e,this.comparator,!0)}}class tm{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class es{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??es.RED,this.left=s??es.EMPTY,this.right=o??es.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new es(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return es.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return es.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,es.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Bt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Bt(27949);return e+(this.isRed()?0:1)}}es.EMPTY=null,es.RED=!0,es.BLACK=!1;es.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt(57766)}get value(){throw Bt(16141)}get color(){throw Bt(16727)}get left(){throw Bt(29726)}get right(){throw Bt(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new es(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.comparator=e,this.data=new Mr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yb(this.data.getIterator())}getIteratorFrom(e){return new Yb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ei)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ei(this.comparator);return t.data=e,t}}class Yb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.fields=e,e.sort(ts.comparator)}static empty(){return new fa([])}unionWith(e){let t=new Ei(ts.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new fa(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zh(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new R4("Invalid base64 string: "+o):o}})(e);return new ns(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o})(e);return new ns(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return En(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ns.EMPTY_BYTE_STRING=new ns("");const SR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zc(n){if(zn(!!n,39018),typeof n=="string"){let e=0;const t=SR.exec(n);if(zn(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:si(n.seconds),nanos:si(n.nanos)}}function si(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Hc(n){return typeof n=="string"?ns.fromBase64String(n):ns.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="server_timestamp",j4="__type__",k4="__previous_value__",L4="__local_write_time__";function ey(n){return(n?.mapValue?.fields||{})[j4]?.stringValue===I4}function vg(n){const e=n.mapValue.fields[k4];return ey(e)?vg(e):e}function Nf(n){const e=zc(n.mapValue.fields[L4].timestampValue);return new br(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,t,r,s,o,c,u,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=y}}const Ym="(default)";class Af{constructor(e,t){this.projectId=e,this.database=t||Ym}static empty(){return new Af("","")}get isDefaultDatabase(){return this.database===Ym}isEqual(e){return e instanceof Af&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4="__type__",CR="__max__",nm={mapValue:{}},D4="__vector__",Wm="value";function Gc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ey(n)?4:IR(n)?9007199254740991:RR(n)?10:11:Bt(28295,{value:n})}function il(n,e){if(n===e)return!0;const t=Gc(n);if(t!==Gc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Nf(n).isEqual(Nf(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=zc(s.timestampValue),u=zc(o.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return Hc(s.bytesValue).isEqual(Hc(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return si(s.geoPointValue.latitude)===si(o.geoPointValue.latitude)&&si(s.geoPointValue.longitude)===si(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return si(s.integerValue)===si(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=si(s.doubleValue),u=si(o.doubleValue);return c===u?$m(c)===$m(u):isNaN(c)&&isNaN(u)}return!1})(n,e);case 9:return zh(n.arrayValue.values||[],e.arrayValue.values||[],il);case 10:case 11:return(function(s,o){const c=s.mapValue.fields||{},u=o.mapValue.fields||{};if($b(c)!==$b(u))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(u[d]===void 0||!il(c[d],u[d])))return!1;return!0})(n,e);default:return Bt(52216,{left:n})}}function Ef(n,e){return(n.values||[]).find((t=>il(t,e)))!==void 0}function Hh(n,e){if(n===e)return 0;const t=Gc(n),r=Gc(e);if(t!==r)return En(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return En(n.booleanValue,e.booleanValue);case 2:return(function(o,c){const u=si(o.integerValue||o.doubleValue),d=si(c.integerValue||c.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(n,e);case 3:return Wb(n.timestampValue,e.timestampValue);case 4:return Wb(Nf(n),Nf(e));case 5:return K1(n.stringValue,e.stringValue);case 6:return(function(o,c){const u=Hc(o),d=Hc(c);return u.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(o,c){const u=o.split("/"),d=c.split("/");for(let p=0;p<u.length&&p<d.length;p++){const y=En(u[p],d[p]);if(y!==0)return y}return En(u.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,c){const u=En(si(o.latitude),si(c.latitude));return u!==0?u:En(si(o.longitude),si(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Kb(n.arrayValue,e.arrayValue);case 10:return(function(o,c){const u=o.fields||{},d=c.fields||{},p=u[Wm]?.arrayValue,y=d[Wm]?.arrayValue,_=En(p?.values?.length||0,y?.values?.length||0);return _!==0?_:Kb(p,y)})(n.mapValue,e.mapValue);case 11:return(function(o,c){if(o===nm.mapValue&&c===nm.mapValue)return 0;if(o===nm.mapValue)return 1;if(c===nm.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),p=c.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let _=0;_<d.length&&_<y.length;++_){const A=K1(d[_],y[_]);if(A!==0)return A;const x=Hh(u[d[_]],p[y[_]]);if(x!==0)return x}return En(d.length,y.length)})(n.mapValue,e.mapValue);default:throw Bt(23264,{he:t})}}function Wb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return En(n,e);const t=zc(n),r=zc(e),s=En(t.seconds,r.seconds);return s!==0?s:En(t.nanos,r.nanos)}function Kb(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=Hh(t[s],r[s]);if(o)return o}return En(t.length,r.length)}function Gh(n){return X1(n)}function X1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=zc(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Hc(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return It.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=X1(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const c of r)o?o=!1:s+=",",s+=`${c}:${X1(t.fields[c])}`;return s+"}"})(n.mapValue):Bt(61005,{value:n})}function Em(n){switch(Gc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vg(n);return e?16+Em(e):16;case 5:return 2*n.stringValue.length;case 6:return Hc(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+Em(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Qc(r.fields,((o,c)=>{s+=o.length+Em(c)})),s})(n.mapValue);default:throw Bt(13486,{value:n})}}function Xb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Q1(n){return!!n&&"integerValue"in n}function ty(n){return!!n&&"arrayValue"in n}function Qb(n){return!!n&&"nullValue"in n}function Jb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sm(n){return!!n&&"mapValue"in n}function RR(n){return(n?.mapValue?.fields||{})[P4]?.stringValue===D4}function df(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Qc(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=df(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=df(n.arrayValue.values[t]);return e}return{...n}}function IR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===CR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.value=e}static empty(){return new Ks({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Sm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=df(t)}setAll(e){let t=ts.emptyPath(),r={},s=[];e.forEach(((c,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,s),r={},s=[],t=u.popLast()}c?r[u.lastSegment()]=df(c):s.push(u.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());Sm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return il(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Sm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Qc(t,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new Ks(df(this.value))}}function O4(n){const e=[];return Qc(n.fields,((t,r)=>{const s=new ts([t]);if(Sm(r)){const o=O4(r.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)})),new fa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t,r,s,o,c,u){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=c,this.documentState=u}static newInvalidDocument(e){return new xs(e,0,Qt.min(),Qt.min(),Qt.min(),Ks.empty(),0)}static newFoundDocument(e,t,r,s){return new xs(e,1,t,Qt.min(),r,s,0)}static newNoDocument(e,t){return new xs(e,2,t,Qt.min(),Qt.min(),Ks.empty(),0)}static newUnknownDocument(e,t){return new xs(e,3,t,Qt.min(),Qt.min(),Ks.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ks.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ks.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,t){this.position=e,this.inclusive=t}}function Zb(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],c=n.position[s];if(o.field.isKeyField()?r=It.comparator(It.fromName(c.referenceValue),t.key):r=Hh(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function ex(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!il(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t="asc"){this.field=e,this.dir=t}}function jR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{}class mi extends M4{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new LR(e,t,r):t==="array-contains"?new OR(e,r):t==="in"?new MR(e,r):t==="not-in"?new UR(e,r):t==="array-contains-any"?new VR(e,r):new mi(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new PR(e,r):new DR(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Hh(t,this.value)):t!==null&&Gc(this.value)===Gc(t)&&this.matchesComparison(Hh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _o extends M4{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new _o(e,t)}matches(e){return U4(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function U4(n){return n.op==="and"}function V4(n){return kR(n)&&U4(n)}function kR(n){for(const e of n.filters)if(e instanceof _o)return!1;return!0}function J1(n){if(n instanceof mi)return n.field.canonicalString()+n.op.toString()+Gh(n.value);if(V4(n))return n.filters.map((e=>J1(e))).join(",");{const e=n.filters.map((t=>J1(t))).join(",");return`${n.op}(${e})`}}function F4(n,e){return n instanceof mi?(function(r,s){return s instanceof mi&&r.op===s.op&&r.field.isEqual(s.field)&&il(r.value,s.value)})(n,e):n instanceof _o?(function(r,s){return s instanceof _o&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,c,u)=>o&&F4(c,s.filters[u])),!0):!1})(n,e):void Bt(19439)}function B4(n){return n instanceof mi?(function(t){return`${t.field.canonicalString()} ${t.op} ${Gh(t.value)}`})(n):n instanceof _o?(function(t){return t.op.toString()+" {"+t.getFilters().map(B4).join(" ,")+"}"})(n):"Filter"}class LR extends mi{constructor(e,t,r){super(e,t,r),this.key=It.fromName(r.referenceValue)}matches(e){const t=It.comparator(e.key,this.key);return this.matchesComparison(t)}}class PR extends mi{constructor(e,t){super(e,"in",t),this.keys=q4("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class DR extends mi{constructor(e,t){super(e,"not-in",t),this.keys=q4("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function q4(n,e){return(e.arrayValue?.values||[]).map((t=>It.fromName(t.referenceValue)))}class OR extends mi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ty(t)&&Ef(t.arrayValue,this.value)}}class MR extends mi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ef(this.value.arrayValue,t)}}class UR extends mi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ef(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ef(this.value.arrayValue,t)}}class VR extends mi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ty(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Ef(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,t=null,r=[],s=[],o=null,c=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=c,this.endAt=u,this.Te=null}}function tx(n,e=null,t=[],r=[],s=null,o=null,c=null){return new FR(n,e,t,r,s,o,c)}function ny(n){const e=Zt(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>J1(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),yg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Gh(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Gh(r))).join(",")),e.Te=t}return e.Te}function ry(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!jR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!F4(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ex(n.startAt,e.startAt)&&ex(n.endAt,e.endAt)}function Z1(n){return It.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,t=null,r=[],s=[],o=null,c="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=c,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function BR(n,e,t,r,s,o,c,u){return new td(n,e,t,r,s,o,c,u)}function bg(n){return new td(n)}function nx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function z4(n){return n.collectionGroup!==null}function ff(n){const e=Zt(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new Ei(ts.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Sf(o,r))})),t.has(ts.keyField().canonicalString())||e.Ie.push(new Sf(ts.keyField(),r))}return e.Ie}function el(n){const e=Zt(n);return e.Ee||(e.Ee=qR(e,ff(n))),e.Ee}function qR(n,e){if(n.limitType==="F")return tx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Sf(s.field,o)}));const t=n.endAt?new Km(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Km(n.startAt.position,n.startAt.inclusive):null;return tx(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function e2(n,e){const t=n.filters.concat([e]);return new td(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function t2(n,e,t){return new td(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xg(n,e){return ry(el(n),el(e))&&n.limitType===e.limitType}function H4(n){return`${ny(el(n))}|lt:${n.limitType}`}function Sh(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>B4(s))).join(", ")}]`),yg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>Gh(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>Gh(s))).join(",")),`Target(${r})`})(el(n))}; limitType=${n.limitType})`}function wg(n,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):It.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,s){for(const o of ff(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(c,u,d){const p=Zb(c,u,d);return c.inclusive?p<=0:p<0})(r.startAt,ff(r),s)||r.endAt&&!(function(c,u,d){const p=Zb(c,u,d);return c.inclusive?p>=0:p>0})(r.endAt,ff(r),s))})(n,e)}function zR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function G4(n){return(e,t)=>{let r=!1;for(const s of ff(n)){const o=HR(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function HR(n,e,t){const r=n.field.isKeyField()?It.comparator(e.key,t.key):(function(o,c,u){const d=c.data.field(o),p=u.data.field(o);return d!==null&&p!==null?Hh(d,p):Bt(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Bt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Qc(this.inner,((t,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return C4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=new Mr(It.comparator);function Hl(){return GR}const $4=new Mr(It.comparator);function af(...n){let e=$4;for(const t of n)e=e.insert(t.key,t);return e}function Y4(n){let e=$4;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Eu(){return pf()}function W4(){return pf()}function pf(){return new qu((n=>n.toString()),((n,e)=>n.isEqual(e)))}const $R=new Mr(It.comparator),YR=new Ei(It.comparator);function Sn(...n){let e=YR;for(const t of n)e=e.add(t);return e}const WR=new Ei(En);function KR(){return WR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$m(e)?"-0":e}}function K4(n){return{integerValue:""+n}}function XR(n,e){return NR(e)?K4(e):iy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(){this._=void 0}}function QR(n,e,t){return n instanceof Tf?(function(s,o){const c={fields:{[j4]:{stringValue:I4},[L4]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&ey(o)&&(o=vg(o)),o&&(c.fields[k4]=o),{mapValue:c}})(t,e):n instanceof Cf?Q4(n,e):n instanceof Rf?J4(n,e):(function(s,o){const c=X4(s,o),u=rx(c)+rx(s.Ae);return Q1(c)&&Q1(s.Ae)?K4(u):iy(s.serializer,u)})(n,e)}function JR(n,e,t){return n instanceof Cf?Q4(n,e):n instanceof Rf?J4(n,e):t}function X4(n,e){return n instanceof Xm?(function(r){return Q1(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Tf extends _g{}class Cf extends _g{constructor(e){super(),this.elements=e}}function Q4(n,e){const t=Z4(e);for(const r of n.elements)t.some((s=>il(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Rf extends _g{constructor(e){super(),this.elements=e}}function J4(n,e){let t=Z4(e);for(const r of n.elements)t=t.filter((s=>!il(s,r)));return{arrayValue:{values:t}}}class Xm extends _g{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function rx(n){return si(n.integerValue||n.doubleValue)}function Z4(n){return ty(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,t){this.field=e,this.transform=t}}function eI(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Cf&&s instanceof Cf||r instanceof Rf&&s instanceof Rf?zh(r.elements,s.elements,il):r instanceof Xm&&s instanceof Xm?il(r.Ae,s.Ae):r instanceof Tf&&s instanceof Tf})(n.transform,e.transform)}class tI{constructor(e,t){this.version=e,this.transformResults=t}}class Ps{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ps}static exists(e){return new Ps(void 0,e)}static updateTime(e){return new Ps(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ng{}function e3(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ag(n.key,Ps.none()):new qf(n.key,n.data,Ps.none());{const t=n.data,r=Ks.empty();let s=new Ei(ts.comparator);for(let o of e.fields)if(!s.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),s=s.add(o)}return new Jc(n.key,r,new fa(s.toArray()),Ps.none())}}function nI(n,e,t){n instanceof qf?(function(s,o,c){const u=s.value.clone(),d=sx(s.fieldTransforms,o,c.transformResults);u.setAll(d),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(n,e,t):n instanceof Jc?(function(s,o,c){if(!Tm(s.precondition,o))return void o.convertToUnknownDocument(c.version);const u=sx(s.fieldTransforms,o,c.transformResults),d=o.data;d.setAll(t3(s)),d.setAll(u),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):(function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function mf(n,e,t,r){return n instanceof qf?(function(o,c,u,d){if(!Tm(o.precondition,c))return u;const p=o.value.clone(),y=ax(o.fieldTransforms,d,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof Jc?(function(o,c,u,d){if(!Tm(o.precondition,c))return u;const p=ax(o.fieldTransforms,d,c),y=c.data;return y.setAll(t3(o)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,e,t,r):(function(o,c,u){return Tm(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u})(n,e,t)}function rI(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=X4(r.transform,s||null);o!=null&&(t===null&&(t=Ks.empty()),t.set(r.field,o))}return t||null}function ix(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&zh(r,s,((o,c)=>eI(o,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class qf extends Ng{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Jc extends Ng{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function t3(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function sx(n,e,t){const r=new Map;zn(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const o=n[s],c=o.transform,u=e.data.field(o.field);r.set(o.field,JR(c,u,t[s]))}return r}function ax(n,e,t){const r=new Map;for(const s of n){const o=s.transform,c=t.data.field(s.field);r.set(s.field,QR(o,c,e))}return r}class Ag extends Ng{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iI extends Ng{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&nI(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=mf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=mf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=W4();return this.mutations.forEach((s=>{const o=e.get(s.key),c=o.overlayedDocument;let u=this.applyToLocalView(c,o.mutatedFields);u=t.has(s.key)?null:u;const d=e3(c,u);d!==null&&r.set(s.key,d),c.isValidDocument()||c.convertToNoDocument(Qt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Sn())}isEqual(e){return this.batchId===e.batchId&&zh(this.mutations,e.mutations,((t,r)=>ix(t,r)))&&zh(this.baseMutations,e.baseMutations,((t,r)=>ix(t,r)))}}class sy{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){zn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return $R})();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,r[c].version);return new sy(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pi,kn;function lI(n){switch(n){case He.OK:return Bt(64938);case He.CANCELLED:case He.UNKNOWN:case He.DEADLINE_EXCEEDED:case He.RESOURCE_EXHAUSTED:case He.INTERNAL:case He.UNAVAILABLE:case He.UNAUTHENTICATED:return!1;case He.INVALID_ARGUMENT:case He.NOT_FOUND:case He.ALREADY_EXISTS:case He.PERMISSION_DENIED:case He.FAILED_PRECONDITION:case He.ABORTED:case He.OUT_OF_RANGE:case He.UNIMPLEMENTED:case He.DATA_LOSS:return!0;default:return Bt(15467,{code:n})}}function n3(n){if(n===void 0)return zl("GRPC error has no .code"),He.UNKNOWN;switch(n){case pi.OK:return He.OK;case pi.CANCELLED:return He.CANCELLED;case pi.UNKNOWN:return He.UNKNOWN;case pi.DEADLINE_EXCEEDED:return He.DEADLINE_EXCEEDED;case pi.RESOURCE_EXHAUSTED:return He.RESOURCE_EXHAUSTED;case pi.INTERNAL:return He.INTERNAL;case pi.UNAVAILABLE:return He.UNAVAILABLE;case pi.UNAUTHENTICATED:return He.UNAUTHENTICATED;case pi.INVALID_ARGUMENT:return He.INVALID_ARGUMENT;case pi.NOT_FOUND:return He.NOT_FOUND;case pi.ALREADY_EXISTS:return He.ALREADY_EXISTS;case pi.PERMISSION_DENIED:return He.PERMISSION_DENIED;case pi.FAILED_PRECONDITION:return He.FAILED_PRECONDITION;case pi.ABORTED:return He.ABORTED;case pi.OUT_OF_RANGE:return He.OUT_OF_RANGE;case pi.UNIMPLEMENTED:return He.UNIMPLEMENTED;case pi.DATA_LOSS:return He.DATA_LOSS;default:return Bt(39323,{code:n})}}(kn=pi||(pi={}))[kn.OK=0]="OK",kn[kn.CANCELLED=1]="CANCELLED",kn[kn.UNKNOWN=2]="UNKNOWN",kn[kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kn[kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kn[kn.NOT_FOUND=5]="NOT_FOUND",kn[kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",kn[kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",kn[kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",kn[kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kn[kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kn[kn.ABORTED=10]="ABORTED",kn[kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",kn[kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",kn[kn.INTERNAL=13]="INTERNAL",kn[kn.UNAVAILABLE=14]="UNAVAILABLE",kn[kn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=new Uc([4294967295,4294967295],0);function ox(n){const e=cI().encode(n),t=new y4;return t.update(e),new Uint8Array(t.digest())}function lx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Uc([t,r],0),new Uc([s,o],0)]}class ay{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new of(`Invalid padding: ${t}`);if(r<0)throw new of(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new of(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new of(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Uc.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(Uc.fromNumber(r)));return s.compare(uI)===1&&(s=new Uc([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=ox(e),[r,s]=lx(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,s,o);if(!this.we(c))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new ay(o,s,t);return r.forEach((u=>c.insert(u))),c}insert(e){if(this.ge===0)return;const t=ox(e),[r,s]=lx(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,s,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class of extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,zf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Eg(Qt.min(),s,new Mr(En),Hl(),Sn())}}class zf{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new zf(r,t,Sn(),Sn(),Sn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class r3{constructor(e,t){this.targetId=e,this.Ce=t}}class i3{constructor(e,t,r=ns.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class cx{constructor(){this.ve=0,this.Fe=ux(),this.Me=ns.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Sn(),t=Sn(),r=Sn();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Bt(38017,{changeType:o})}})),new zf(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=ux()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,zn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hl(),this.Je=rm(),this.He=rm(),this.Ye=new Mr(En)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Bt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(Z1(o))if(r===0){const c=new It(o.path);this.et(t,c,xs.newNoDocument(c,Qt.min()))}else zn(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const u=this.ut(e),d=u?this.ct(u,e,c):1;if(d!==0){this.it(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let c,u;try{c=Hc(r).toUint8Array()}catch(d){if(d instanceof R4)return qh("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new ay(c,s,o)}catch(d){return qh(d instanceof of?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((o=>{const c=this.Ge.ht(),u=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const u=this.ot(c);if(u){if(o.current&&Z1(u.target)){const d=new It(u.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,xs.newNoDocument(d,e))}o.Be&&(t.set(c,o.ke()),o.qe())}}));let r=Sn();this.He.forEach(((o,c)=>{let u=!0;c.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const s=new Eg(e,t,this.Ye,this.je,r);return this.je=Hl(),this.Je=rm(),this.He=rm(),this.Ye=new Mr(En),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new cx,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ei(En),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ei(En),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||lt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cx),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function rm(){return new Mr(It.comparator)}function ux(){return new Mr(It.comparator)}const dI={asc:"ASCENDING",desc:"DESCENDING"},fI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pI={and:"AND",or:"OR"};class mI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function n2(n,e){return n.useProto3Json||yg(e)?e:{value:e}}function Qm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function s3(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function gI(n,e){return Qm(n,e.toTimestamp())}function tl(n){return zn(!!n,49232),Qt.fromTimestamp((function(t){const r=zc(t);return new br(r.seconds,r.nanos)})(n))}function oy(n,e){return r2(n,e).canonicalString()}function r2(n,e){const t=(function(s){return new dr(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function a3(n){const e=dr.fromString(n);return zn(h3(e),10190,{key:e.toString()}),e}function i2(n,e){return oy(n.databaseId,e.path)}function s1(n,e){const t=a3(e);if(t.get(1)!==n.databaseId.projectId)throw new it(He.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new it(He.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new It(l3(t))}function o3(n,e){return oy(n.databaseId,e)}function yI(n){const e=a3(n);return e.length===4?dr.emptyPath():l3(e)}function s2(n){return new dr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function l3(n){return zn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function hx(n,e,t){return{name:i2(n,e),fields:t.value.mapValue.fields}}function vI(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Bt(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(p,y){return p.useProto3Json?(zn(y===void 0||typeof y=="string",58123),ns.fromBase64String(y||"")):(zn(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),ns.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,u=c&&(function(p){const y=p.code===void 0?He.UNKNOWN:n3(p.code);return new it(y,p.message||"")})(c);t=new i3(r,s,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=s1(n,r.document.name),o=tl(r.document.updateTime),c=r.document.createTime?tl(r.document.createTime):Qt.min(),u=new Ks({mapValue:{fields:r.document.fields}}),d=xs.newFoundDocument(s,o,c,u),p=r.targetIds||[],y=r.removedTargetIds||[];t=new Cm(p,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=s1(n,r.document),o=r.readTime?tl(r.readTime):Qt.min(),c=xs.newNoDocument(s,o),u=r.removedTargetIds||[];t=new Cm([],u,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=s1(n,r.document),o=r.removedTargetIds||[];t=new Cm([],o,s,null)}else{if(!("filter"in e))return Bt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,c=new oI(s,o),u=r.targetId;t=new r3(u,c)}}return t}function bI(n,e){let t;if(e instanceof qf)t={update:hx(n,e.key,e.value)};else if(e instanceof Ag)t={delete:i2(n,e.key)};else if(e instanceof Jc)t={update:hx(n,e.key,e.data),updateMask:CI(e.fieldMask)};else{if(!(e instanceof iI))return Bt(16599,{Vt:e.type});t={verify:i2(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const u=c.transform;if(u instanceof Tf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Cf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Rf)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Xm)return{fieldPath:c.field.canonicalString(),increment:u.Ae};throw Bt(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:gI(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Bt(27497)})(n,e.precondition)),t}function xI(n,e){return n&&n.length>0?(zn(e!==void 0,14353),n.map((t=>(function(s,o){let c=s.updateTime?tl(s.updateTime):tl(o);return c.isEqual(Qt.min())&&(c=tl(o)),new tI(c,s.transformResults||[])})(t,e)))):[]}function wI(n,e){return{documents:[o3(n,e.path)]}}function _I(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=o3(n,s);const o=(function(p){if(p.length!==0)return u3(_o.create(p,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(p){if(p.length!==0)return p.map((y=>(function(A){return{field:Th(A.field),direction:EI(A.dir)}})(y)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const u=n2(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:s}}function NI(n){let e=yI(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){zn(r===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=(function(_){const A=c3(_);return A instanceof _o&&V4(A)?A.getFilters():[A]})(t.where));let c=[];t.orderBy&&(c=(function(_){return _.map((A=>(function(k){return new Sf(Ch(k.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(A)))})(t.orderBy));let u=null;t.limit&&(u=(function(_){let A;return A=typeof _=="object"?_.value:_,yg(A)?null:A})(t.limit));let d=null;t.startAt&&(d=(function(_){const A=!!_.before,x=_.values||[];return new Km(x,A)})(t.startAt));let p=null;return t.endAt&&(p=(function(_){const A=!_.before,x=_.values||[];return new Km(x,A)})(t.endAt)),BR(e,s,c,o,u,"F",d,p)}function AI(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bt(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function c3(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ch(t.unaryFilter.field);return mi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ch(t.unaryFilter.field);return mi.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ch(t.unaryFilter.field);return mi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ch(t.unaryFilter.field);return mi.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Bt(61313);default:return Bt(60726)}})(n):n.fieldFilter!==void 0?(function(t){return mi.create(Ch(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Bt(58110);default:return Bt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return _o.create(t.compositeFilter.filters.map((r=>c3(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Bt(1026)}})(t.compositeFilter.op))})(n):Bt(30097,{filter:n})}function EI(n){return dI[n]}function SI(n){return fI[n]}function TI(n){return pI[n]}function Th(n){return{fieldPath:n.canonicalString()}}function Ch(n){return ts.fromServerFormat(n.fieldPath)}function u3(n){return n instanceof mi?(function(t){if(t.op==="=="){if(Jb(t.value))return{unaryFilter:{field:Th(t.field),op:"IS_NAN"}};if(Qb(t.value))return{unaryFilter:{field:Th(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Jb(t.value))return{unaryFilter:{field:Th(t.field),op:"IS_NOT_NAN"}};if(Qb(t.value))return{unaryFilter:{field:Th(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Th(t.field),op:SI(t.op),value:t.value}}})(n):n instanceof _o?(function(t){const r=t.getFilters().map((s=>u3(s)));return r.length===1?r[0]:{compositeFilter:{op:TI(t.op),filters:r}}})(n):Bt(54877,{filter:n})}function CI(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function h3(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t,r,s,o=Qt.min(),c=Qt.min(),u=ns.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Pc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Pc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.yt=e}}function II(n){const e=NI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?t2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.Cn=new kI}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ke.resolve()}getCollectionParents(e,t){return Ke.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ke.resolve()}deleteFieldIndex(e,t){return Ke.resolve()}deleteAllFieldIndexes(e){return Ke.resolve()}createTargetIndexes(e,t){return Ke.resolve()}getDocumentsMatchingTarget(e,t){return Ke.resolve(null)}getIndexType(e,t){return Ke.resolve(0)}getFieldIndexes(e,t){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,t){return Ke.resolve(qc.min())}getMinOffsetFromCollectionGroup(e,t){return Ke.resolve(qc.min())}updateCollectionGroup(e,t,r){return Ke.resolve()}updateIndexEntries(e,t){return Ke.resolve()}}class kI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Ei(dr.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ei(dr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},d3=41943040;class Ws{static withCacheSize(e){return new Ws(e,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws.DEFAULT_COLLECTION_PERCENTILE=10,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ws.DEFAULT=new Ws(d3,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ws.DISABLED=new Ws(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new $h(0)}static cr(){return new $h(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="LruGarbageCollector",LI=1048576;function px([n,e],[t,r]){const s=En(n,t);return s===0?En(e,r):s}class PI{constructor(e){this.Ir=e,this.buffer=new Ei(px),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();px(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class DI{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){lt(fx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ed(t)?lt(fx,"Ignoring IndexedDB error during garbage collection: ",t):await Zh(t)}await this.Vr(3e5)}))}}class OI{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Ke.resolve(gg.ce);const r=new PI(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(dx)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dx):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,o,c,u,d,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,c=Date.now(),this.nthSequenceNumber(e,s)))).next((_=>(r=_,u=Date.now(),this.removeTargets(e,r,t)))).next((_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(p=Date.now(),Eh()<=An.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${s} in `+(u-c)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${_} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_}))))}}function MI(n,e){return new OI(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.changes=new qu((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Ke.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&mf(r.mutation,s,fa.empty(),br.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Sn()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Sn()){const s=Eu();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((o=>{let c=af();return o.forEach(((u,d)=>{c=c.insert(u,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Eu();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Sn())))}populateOverlays(e,t,r){const s=[];return r.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((c,u)=>{t.set(c,u)}))}))}computeViews(e,t,r,s){let o=Hl();const c=pf(),u=(function(){return pf()})();return t.forEach(((d,p)=>{const y=r.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof Jc)?o=o.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),mf(y.mutation,p,y.mutation.getFieldMask(),br.now())):c.set(p.key,fa.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((p,y)=>c.set(p,y))),t.forEach(((p,y)=>u.set(p,new VI(y,c.get(p)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=pf();let s=new Mr(((c,u)=>c-u)),o=Sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const u of c)u.keys().forEach((d=>{const p=t.get(d);if(p===null)return;let y=r.get(d)||fa.empty();y=u.applyToLocalView(p,y),r.set(d,y);const _=(s.get(u.batchId)||Sn()).add(d);s=s.insert(u.batchId,_)}))})).next((()=>{const c=[],u=s.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),p=d.key,y=d.value,_=W4();y.forEach((A=>{if(!o.has(A)){const x=e3(t.get(A),r.get(A));x!==null&&_.set(A,x),o=o.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return Ke.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(c){return It.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):z4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):Ke.resolve(Eu());let u=_f,d=o;return c.next((p=>Ke.forEach(p,((y,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),o.get(y)?Ke.resolve():this.remoteDocumentCache.getEntry(e,y).next((A=>{d=d.insert(y,A)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,d,p,Sn()))).next((y=>({batchId:u,changes:Y4(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new It(t)).next((r=>{let s=af();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let c=af();return this.indexManager.getCollectionParents(e,o).next((u=>Ke.forEach(u,(d=>{const p=(function(_,A){return new td(A,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((y=>{y.forEach(((_,A)=>{c=c.insert(_,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s)))).next((c=>{o.forEach(((d,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,xs.newInvalidDocument(y)))}));let u=af();return c.forEach(((d,p)=>{const y=o.get(d);y!==void 0&&mf(y.mutation,p,fa.empty(),br.now()),wg(t,p)&&(u=u.insert(d,p))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ke.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:tl(s.createTime)}})(t)),Ke.resolve()}getNamedQuery(e,t){return Ke.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:II(s.bundledQuery),readTime:tl(s.readTime)}})(t)),Ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.overlays=new Mr(It.comparator),this.qr=new Map}getOverlay(e,t){return Ke.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Eu();return Ke.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,o)=>{this.St(e,t,o)})),Ke.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Ke.resolve()}getOverlaysForCollection(e,t,r){const s=Eu(),o=t.length+1,c=new It(t.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const d=u.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>r&&s.set(d.getKey(),d)}return Ke.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new Mr(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=o.get(p.largestBatchId);y===null&&(y=Eu(),o=o.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const u=Eu(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,y)=>u.set(p,y))),!(u.size()>=s)););return Ke.resolve(u)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new aI(t,r));let o=this.qr.get(t);o===void 0&&(o=Sn(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(){this.sessionToken=ns.EMPTY_BYTE_STRING}getSessionToken(e){return Ke.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ke.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(){this.Qr=new Ei(Oi.$r),this.Ur=new Ei(Oi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Oi(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Oi(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new It(new dr([])),r=new Oi(t,e),s=new Oi(t,e+1),o=[];return this.Ur.forEachInRange([r,s],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new It(new dr([])),r=new Oi(t,e),s=new Oi(t,e+1);let o=Sn();return this.Ur.forEachInRange([r,s],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new Oi(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Oi{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return It.comparator(e.key,t.key)||En(e.Yr,t.Yr)}static Kr(e,t){return En(e.Yr,t.Yr)||It.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ei(Oi.$r)}checkEmpty(e){return Ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new sI(o,t,r,s);this.mutationQueue.push(c);for(const u of s)this.Zr=this.Zr.add(new Oi(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Ke.resolve(c)}lookupMutationBatch(e,t){return Ke.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),o=s<0?0:s;return Ke.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(this.mutationQueue.length===0?Z2:this.tr-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Oi(t,0),s=new Oi(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],(c=>{const u=this.Xr(c.Yr);o.push(u)})),Ke.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ei(En);return t.forEach((s=>{const o=new Oi(s,0),c=new Oi(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(u=>{r=r.add(u.Yr)}))})),Ke.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;It.isDocumentKey(o)||(o=o.child(""));const c=new Oi(new It(o),0);let u=new Ei(En);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(u=u.add(d.Yr)),!0)}),c),Ke.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){zn(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ke.forEach(t.mutations,(s=>{const o=new Oi(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Oi(t,0),s=this.Zr.firstAfterOrEqual(r);return Ke.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ke.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.ri=e,this.docs=(function(){return new Mr(It.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ke.resolve(r?r.document.mutableCopy():xs.newInvalidDocument(t))}getEntries(e,t){let r=Hl();return t.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():xs.newInvalidDocument(s))})),Ke.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=Hl();const c=t.path,u=new It(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||bR(vR(y),r)<=0||(s.has(y.key)||wg(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return Ke.resolve(o)}getAllFromCollectionGroup(e,t,r,s){Bt(9500)}ii(e,t){return Ke.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new $I(this)}getSize(e){return Ke.resolve(this.size)}}class $I extends UI{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Ke.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.persistence=e,this.si=new qu((t=>ny(t)),ry),this.lastRemoteSnapshotVersion=Qt.min(),this.highestTargetId=0,this.oi=0,this._i=new ly,this.targetCount=0,this.ai=$h.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Ke.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new $h(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ke.resolve()}updateTargetData(e,t){return this.Pr(t),Ke.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.si.forEach(((c,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),Ke.waitFor(o).next((()=>s))}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Ke.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Ke.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((c=>{o.push(s.markPotentiallyOrphaned(e,c))})),Ke.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ke.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Ke.resolve(r)}containsKey(e,t){return Ke.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,t){this.ui={},this.overlays={},this.ci=new gg(0),this.li=!1,this.li=!0,this.hi=new zI,this.referenceDelegate=e(this),this.Pi=new YI(this),this.indexManager=new jI,this.remoteDocumentCache=(function(s){return new GI(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new RI(t),this.Ii=new BI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new HI(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){lt("MemoryPersistence","Starting transaction:",e);const s=new WI(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,t){return Ke.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class WI extends wR{constructor(e){super(),this.currentSequenceNumber=e}}class cy{constructor(e){this.persistence=e,this.Ri=new ly,this.Vi=null}static mi(e){return new cy(e)}get fi(){if(this.Vi)return this.Vi;throw Bt(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Ke.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Ke.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ke.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.fi,(r=>{const s=It.fromPath(r);return this.gi(e,s).next((o=>{o||t.removeEntry(s,Qt.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Ke.or([()=>Ke.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Jm{constructor(e,t){this.persistence=e,this.pi=new qu((r=>AR(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=MI(this,t)}static mi(e,t){return new Jm(e,t)}Ei(){}di(e){return Ke.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Ke.forEach(this.pi,((r,s)=>this.br(e,r,s).next((o=>o?Ke.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(c=>this.br(e,c,t).next((u=>{u||(r++,o.removeEntry(c,Qt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ke.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Ke.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Ke.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ke.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Em(e.data.value)),t}br(e,t,r){return Ke.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return Ke.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=Sn(),s=Sn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new uy(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return TS()?8:_R(ws())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.ys(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,t,s,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new KI;return this.Ss(e,t,c).next((u=>{if(o.result=u,this.Vs)return this.bs(e,t,c,u.size)}))})).next((()=>o.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(Eh()<=An.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Sh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ke.resolve()):(Eh()<=An.DEBUG&&lt("QueryEngine","Query:",Sh(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Eh()<=An.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Sh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,el(t))):Ke.resolve())}ys(e,t){if(nx(t))return Ke.resolve(null);let r=el(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=t2(t,null,"F"),r=el(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=Sn(...o);return this.ps.getDocuments(e,c).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.Ds(t,u);return this.Cs(t,p,c,d.readTime)?this.ys(e,t2(t,null,"F")):this.vs(e,p,t,d)}))))})))))}ws(e,t,r,s){return nx(t)||s.isEqual(Qt.min())?Ke.resolve(null):this.ps.getDocuments(e,r).next((o=>{const c=this.Ds(t,o);return this.Cs(t,c,r,s)?Ke.resolve(null):(Eh()<=An.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Sh(t)),this.vs(e,c,t,yR(s,_f)).next((u=>u)))}))}Ds(e,t){let r=new Ei(G4(e));return t.forEach(((s,o)=>{wg(e,o)&&(r=r.add(o))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,t,r){return Eh()<=An.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Sh(t)),this.ps.getDocumentsMatchingQuery(e,t,qc.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="LocalStore",QI=3e8;class JI{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new Mr(En),this.xs=new qu((o=>ny(o)),ry),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function ZI(n,e,t,r){return new JI(n,e,t,r)}async function p3(n,e){const t=Zt(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],u=[];let d=Sn();for(const p of s){c.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of o){u.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return t.localDocuments.getDocuments(r,d).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:u})))}))}))}function e7(n,e){const t=Zt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,p,y){const _=p.batch,A=_.keys();let x=Ke.resolve();return A.forEach((k=>{x=x.next((()=>y.getEntry(d,k))).next((j=>{const M=p.docVersions.get(k);zn(M!==null,48541),j.version.compareTo(M)<0&&(_.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),y.addEntry(j)))}))})),x.next((()=>u.mutationQueue.removeMutationBatch(d,_)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=Sn();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(d=d.add(u.batch.mutations[p].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function m3(n){const e=Zt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function t7(n,e){const t=Zt(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const u=[];e.targetChanges.forEach(((y,_)=>{const A=s.get(_);if(!A)return;u.push(t.Pi.removeMatchingKeys(o,y.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(o,y.addedDocuments,_))));let x=A.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?x=x.withResumeToken(ns.EMPTY_BYTE_STRING,Qt.min()).withLastLimboFreeSnapshotVersion(Qt.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,r)),s=s.insert(_,x),(function(j,M,R){return j.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=QI?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(A,x,y)&&u.push(t.Pi.updateTargetData(o,x))}));let d=Hl(),p=Sn();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))})),u.push(n7(o,c,e.documentUpdates).next((y=>{d=y.ks,p=y.qs}))),!r.isEqual(Qt.min())){const y=t.Pi.getLastRemoteSnapshotVersion(o).next((_=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(y)}return Ke.waitFor(u).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,d,p))).next((()=>d))})).then((o=>(t.Ms=s,o)))}function n7(n,e,t){let r=Sn(),s=Sn();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let c=Hl();return t.forEach(((u,d)=>{const p=o.get(u);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(u)),d.isNoDocument()&&d.version.isEqual(Qt.min())?(e.removeEntry(u,d.readTime),c=c.insert(u,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),c=c.insert(u,d)):lt(hy,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",d.version)})),{ks:c,qs:s}}))}function r7(n,e){const t=Zt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Z2),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function i7(n,e){const t=Zt(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((o=>o?(s=o,Ke.resolve(s)):t.Pi.allocateTargetId(r).next((c=>(s=new Pc(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function a2(n,e,t){const r=Zt(n),s=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!ed(c))throw c;lt(hy,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function mx(n,e,t){const r=Zt(n);let s=Qt.min(),o=Sn();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,p,y){const _=Zt(d),A=_.xs.get(y);return A!==void 0?Ke.resolve(_.Ms.get(A)):_.Pi.getTargetData(p,y)})(r,c,el(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,u.targetId).next((d=>{o=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?s:Qt.min(),t?o:Sn()))).next((u=>(s7(r,zR(e),u),{documents:u,Qs:o})))))}function s7(n,e,t){let r=n.Os.get(e)||Qt.min();t.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(e,r)}class gx{constructor(){this.activeTargetIds=KR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a7{constructor(){this.Mo=new gx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new gx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="ConnectivityMonitor";class vx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(yx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){lt(yx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im=null;function o2(){return im===null?im=(function(){return 268435456+Math.round(2147483648*Math.random())})():im++,"0x"+im.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="RestConnection",l7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class c7{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Ym?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,o){const c=o2(),u=this.zo(e,t.toUriEncodedString());lt(a1,`Sending RPC '${e}' ${c}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,o);const{host:p}=new URL(u),y=Kc(p);return this.Jo(e,u,d,r,y).then((_=>(lt(a1,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw qh(a1,`RPC '${e}' ${c} failed with error: `,_,"url: ",u,"request:",r),_}))}Ho(e,t,r,s,o,c){return this.Go(e,t,r,s,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}zo(e,t){const r=l7[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="WebChannelConnection";class h7 extends c7{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,o){const c=o2();return new Promise(((u,d)=>{const p=new v4;p.setWithCredentials(!0),p.listenOnce(b4.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Am.NO_ERROR:const _=p.getResponseJson();lt(ps,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),u(_);break;case Am.TIMEOUT:lt(ps,`RPC '${e}' ${c} timed out`),d(new it(He.DEADLINE_EXCEEDED,"Request time out"));break;case Am.HTTP_ERROR:const A=p.getStatus();if(lt(ps,`RPC '${e}' ${c} failed with status:`,A,"response text:",p.getResponseText()),A>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const k=x?.error;if(k&&k.status&&k.message){const j=(function(R){const F=R.toLowerCase().replace(/_/g,"-");return Object.values(He).indexOf(F)>=0?F:He.UNKNOWN})(k.status);d(new it(j,k.message))}else d(new it(He.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new it(He.UNAVAILABLE,"Connection failed."));break;default:Bt(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{lt(ps,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(s);lt(ps,`RPC '${e}' ${c} sending request:`,s),p.send(t,"POST",y,r,15)}))}T_(e,t,r){const s=o2(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=_4(),u=w4(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const y=o.join("");lt(ps,`Creating RPC '${e}' stream ${s}: ${y}`,d);const _=c.createWebChannel(y,d);this.I_(_);let A=!1,x=!1;const k=new u7({Yo:M=>{x?lt(ps,`Not sending because RPC '${e}' stream ${s} is closed:`,M):(A||(lt(ps,`Opening RPC '${e}' stream ${s} transport.`),_.open(),A=!0),lt(ps,`RPC '${e}' stream ${s} sending:`,M),_.send(M))},Zo:()=>_.close()}),j=(M,R,F)=>{M.listen(R,(q=>{try{F(q)}catch(W){setTimeout((()=>{throw W}),0)}}))};return j(_,sf.EventType.OPEN,(()=>{x||(lt(ps,`RPC '${e}' stream ${s} transport opened.`),k.o_())})),j(_,sf.EventType.CLOSE,(()=>{x||(x=!0,lt(ps,`RPC '${e}' stream ${s} transport closed`),k.a_(),this.E_(_))})),j(_,sf.EventType.ERROR,(M=>{x||(x=!0,qh(ps,`RPC '${e}' stream ${s} transport errored. Name:`,M.name,"Message:",M.message),k.a_(new it(He.UNAVAILABLE,"The operation could not be completed")))})),j(_,sf.EventType.MESSAGE,(M=>{if(!x){const R=M.data[0];zn(!!R,16349);const F=R,q=F?.error||F[0]?.error;if(q){lt(ps,`RPC '${e}' stream ${s} received error:`,q);const W=q.status;let ce=(function(I){const P=pi[I];if(P!==void 0)return n3(P)})(W),xe=q.message;ce===void 0&&(ce=He.INTERNAL,xe="Unknown error status: "+W+" with message "+q.message),x=!0,k.a_(new it(ce,xe)),_.close()}else lt(ps,`RPC '${e}' stream ${s} received:`,R),k.u_(R)}})),j(u,x4.STAT_EVENT,(M=>{M.stat===W1.PROXY?lt(ps,`RPC '${e}' stream ${s} detected buffering proxy`):M.stat===W1.NOPROXY&&lt(ps,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function o1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(n){return new mI(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&lt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="PersistentStream";class y3{constructor(e,t,r,s,o,c,u,d){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new g3(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===He.RESOURCE_EXHAUSTED?(zl(t.toString()),zl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===He.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new it(He.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return lt(bx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(lt(bx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class d7 extends y3{constructor(e,t,r,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=vI(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Qt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Qt.min():c.readTime?tl(c.readTime):Qt.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=s2(this.serializer),t.addTarget=(function(o,c){let u;const d=c.target;if(u=Z1(d)?{documents:wI(o,d)}:{query:_I(o,d).ft},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=s3(o,c.resumeToken);const p=n2(o,c.expectedCount);p!==null&&(u.expectedCount=p)}else if(c.snapshotVersion.compareTo(Qt.min())>0){u.readTime=Qm(o,c.snapshotVersion.toTimestamp());const p=n2(o,c.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const r=AI(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=s2(this.serializer),t.removeTarget=e,this.q_(t)}}class f7 extends y3{constructor(e,t,r,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return zn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,zn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){zn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=xI(e.writeResults,e.commitTime),r=tl(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=s2(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>bI(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{}class m7 extends p7{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new it(He.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,r2(t,r),s,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new it(He.UNKNOWN,o.toString())}))}Ho(e,t,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Ho(e,r2(t,r),s,c,u,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new it(He.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class g7{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zl(t),this.aa=!1):lt("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du="RemoteStore";class y7{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{zu(this)&&(lt(Du,"Restarting streams for network reachability change."),await(async function(d){const p=Zt(d);p.Ea.add(4),await Hf(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Tg(p)})(this))}))})),this.Ra=new g7(r,s)}}async function Tg(n){if(zu(n))for(const e of n.da)await e(!0)}async function Hf(n){for(const e of n.da)await e(!1)}function v3(n,e){const t=Zt(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),my(t)?py(t):nd(t).O_()&&fy(t,e))}function dy(n,e){const t=Zt(n),r=nd(t);t.Ia.delete(e),r.O_()&&b3(t,e),t.Ia.size===0&&(r.O_()?r.L_():zu(t)&&t.Ra.set("Unknown"))}function fy(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}nd(n).Y_(e)}function b3(n,e){n.Va.Ue(e),nd(n).Z_(e)}function py(n){n.Va=new hI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),nd(n).start(),n.Ra.ua()}function my(n){return zu(n)&&!nd(n).x_()&&n.Ia.size>0}function zu(n){return Zt(n).Ea.size===0}function x3(n){n.Va=void 0}async function v7(n){n.Ra.set("Online")}async function b7(n){n.Ia.forEach(((e,t)=>{fy(n,e)}))}async function x7(n,e){x3(n),my(n)?(n.Ra.ha(e),py(n)):n.Ra.set("Unknown")}async function w7(n,e,t){if(n.Ra.set("Online"),e instanceof i3&&e.state===2&&e.cause)try{await(async function(s,o){const c=o.cause;for(const u of o.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,c),s.Ia.delete(u),s.Va.removeTarget(u))})(n,e)}catch(r){lt(Du,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zm(n,r)}else if(e instanceof Cm?n.Va.Ze(e):e instanceof r3?n.Va.st(e):n.Va.tt(e),!t.isEqual(Qt.min()))try{const r=await m3(n.localStore);t.compareTo(r)>=0&&await(function(o,c){const u=o.Va.Tt(c);return u.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.Ia.get(p);y&&o.Ia.set(p,y.withResumeToken(d.resumeToken,c))}})),u.targetMismatches.forEach(((d,p)=>{const y=o.Ia.get(d);if(!y)return;o.Ia.set(d,y.withResumeToken(ns.EMPTY_BYTE_STRING,y.snapshotVersion)),b3(o,d);const _=new Pc(y.target,d,p,y.sequenceNumber);fy(o,_)})),o.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){lt(Du,"Failed to raise snapshot:",r),await Zm(n,r)}}async function Zm(n,e,t){if(!ed(e))throw e;n.Ea.add(1),await Hf(n),n.Ra.set("Offline"),t||(t=()=>m3(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{lt(Du,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Tg(n)}))}function w3(n,e){return e().catch((t=>Zm(n,t,e)))}async function Cg(n){const e=Zt(n),t=$c(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Z2;for(;_7(e);)try{const s=await r7(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,N7(e,s)}catch(s){await Zm(e,s)}_3(e)&&N3(e)}function _7(n){return zu(n)&&n.Ta.length<10}function N7(n,e){n.Ta.push(e);const t=$c(n);t.O_()&&t.X_&&t.ea(e.mutations)}function _3(n){return zu(n)&&!$c(n).x_()&&n.Ta.length>0}function N3(n){$c(n).start()}async function A7(n){$c(n).ra()}async function E7(n){const e=$c(n);for(const t of n.Ta)e.ea(t.mutations)}async function S7(n,e,t){const r=n.Ta.shift(),s=sy.from(r,e,t);await w3(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Cg(n)}async function T7(n,e){e&&$c(n).X_&&await(async function(r,s){if((function(c){return lI(c)&&c!==He.ABORTED})(s.code)){const o=r.Ta.shift();$c(r).B_(),await w3(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Cg(r)}})(n,e),_3(n)&&N3(n)}async function xx(n,e){const t=Zt(n);t.asyncQueue.verifyOperationInProgress(),lt(Du,"RemoteStore received new credentials");const r=zu(t);t.Ea.add(3),await Hf(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Tg(t)}async function C7(n,e){const t=Zt(n);e?(t.Ea.delete(2),await Tg(t)):e||(t.Ea.add(2),await Hf(t),t.Ra.set("Unknown"))}function nd(n){return n.ma||(n.ma=(function(t,r,s){const o=Zt(t);return o.sa(),new d7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:v7.bind(null,n),t_:b7.bind(null,n),r_:x7.bind(null,n),H_:w7.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),my(n)?py(n):n.Ra.set("Unknown")):(await n.ma.stop(),x3(n))}))),n.ma}function $c(n){return n.fa||(n.fa=(function(t,r,s){const o=Zt(t);return o.sa(),new f7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:A7.bind(null,n),r_:T7.bind(null,n),ta:E7.bind(null,n),na:S7.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Cg(n)):(await n.fa.stop(),n.Ta.length>0&&(lt(Du,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Vl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const c=Date.now()+r,u=new gy(e,t,c,s,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(He.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yy(n,e){if(zl("AsyncQueue",`${e}: ${n}`),ed(n))return new it(He.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{static emptySet(e){return new Oh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||It.comparator(t.key,r.key):(t,r)=>It.comparator(t.key,r.key),this.keyedMap=af(),this.sortedSet=new Mr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Oh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Oh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.ga=new Mr(It.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Bt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Yh{constructor(e,t,r,s,o,c,u,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,o){const c=[];return t.forEach((u=>{c.push({type:0,doc:u})})),new Yh(e,t,Oh.emptySet(t),c,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class I7{constructor(){this.queries=_x(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Zt(t),o=s.queries;s.queries=_x(),o.forEach(((c,u)=>{for(const d of u.Sa)d.onError(r)}))})(this,new it(He.ABORTED,"Firestore shutting down"))}}function _x(){return new qu((n=>H4(n)),xg)}async function vy(n,e){const t=Zt(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new R7,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const u=yy(c,`Initialization of query '${Sh(e.query)}' failed`);return void e.onError(u)}t.queries.set(s,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&xy(t)}async function by(n,e){const t=Zt(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function j7(n,e){const t=Zt(n);let r=!1;for(const s of e){const o=s.query,c=t.queries.get(o);if(c){for(const u of c.Sa)u.Fa(s)&&(r=!0);c.wa=s}}r&&xy(t)}function k7(n,e,t){const r=Zt(n),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(t);r.queries.delete(e)}function xy(n){n.Ca.forEach((e=>{e.next()}))}var l2,Nx;(Nx=l2||(l2={})).Ma="default",Nx.Cache="cache";class wy{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Yh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Yh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==l2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.key=e}}class E3{constructor(e){this.key=e}}class L7{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Sn(),this.mutatedKeys=Sn(),this.eu=G4(e),this.tu=new Oh(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new wx,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=s,u=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((y,_)=>{const A=s.get(y),x=wg(this.query,_)?_:null,k=!!A&&this.mutatedKeys.has(A.key),j=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let M=!1;A&&x?A.data.isEqual(x.data)?k!==j&&(r.track({type:3,doc:x}),M=!0):this.su(A,x)||(r.track({type:2,doc:x}),M=!0,(d&&this.eu(x,d)>0||p&&this.eu(x,p)<0)&&(u=!0)):!A&&x?(r.track({type:0,doc:x}),M=!0):A&&!x&&(r.track({type:1,doc:A}),M=!0,(d||p)&&(u=!0)),M&&(x?(c=c.add(x),o=j?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{tu:c,iu:r,Cs:u,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,_)=>(function(x,k){const j=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt(20277,{Rt:M})}};return j(x)-j(k)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(r),s=s??!1;const u=t&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,p=d!==this.Za;return this.Za=d,c.length!==0||p?{snapshot:new Yh(this.query,e.tu,o,c,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Sn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new E3(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new A3(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Sn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Yh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _y="SyncEngine";class P7{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class D7{constructor(e){this.key=e,this.hu=!1}}class O7{constructor(e,t,r,s,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new qu((u=>H4(u)),xg),this.Iu=new Map,this.Eu=new Set,this.du=new Mr(It.comparator),this.Au=new Map,this.Ru=new ly,this.Vu={},this.mu=new Map,this.fu=$h.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function M7(n,e,t=!0){const r=j3(n);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await S3(r,e,t,!0),s}async function U7(n,e){const t=j3(n);await S3(t,e,!0,!1)}async function S3(n,e,t,r){const s=await i7(n.localStore,el(e)),o=s.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await V7(n,e,o,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&v3(n.remoteStore,s),u}async function V7(n,e,t,r,s){n.pu=(_,A,x)=>(async function(j,M,R,F){let q=M.view.ru(R);q.Cs&&(q=await mx(j.localStore,M.query,!1).then((({documents:$})=>M.view.ru($,q))));const W=F&&F.targetChanges.get(M.targetId),ce=F&&F.targetMismatches.get(M.targetId)!=null,xe=M.view.applyChanges(q,j.isPrimaryClient,W,ce);return Ex(j,M.targetId,xe.au),xe.snapshot})(n,_,A,x);const o=await mx(n.localStore,e,!0),c=new L7(e,o.Qs),u=c.ru(o.documents),d=zf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=c.applyChanges(u,n.isPrimaryClient,d);Ex(n,t,p.au);const y=new P7(e,t,c);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function F7(n,e,t){const r=Zt(n),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((c=>!xg(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await a2(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&dy(r.remoteStore,s.targetId),c2(r,s.targetId)})).catch(Zh)):(c2(r,s.targetId),await a2(r.localStore,s.targetId,!0))}async function B7(n,e){const t=Zt(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),dy(t.remoteStore,r.targetId))}async function q7(n,e,t){const r=K7(n);try{const s=await(function(c,u){const d=Zt(c),p=br.now(),y=u.reduce(((x,k)=>x.add(k.key)),Sn());let _,A;return d.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let k=Hl(),j=Sn();return d.Ns.getEntries(x,y).next((M=>{k=M,k.forEach(((R,F)=>{F.isValidDocument()||(j=j.add(R))}))})).next((()=>d.localDocuments.getOverlayedDocuments(x,k))).next((M=>{_=M;const R=[];for(const F of u){const q=rI(F,_.get(F.key).overlayedDocument);q!=null&&R.push(new Jc(F.key,q,O4(q.value.mapValue),Ps.exists(!0)))}return d.mutationQueue.addMutationBatch(x,p,R,u)})).next((M=>{A=M;const R=M.applyToLocalDocumentSet(_,j);return d.documentOverlayCache.saveOverlays(x,M.batchId,R)}))})).then((()=>({batchId:A.batchId,changes:Y4(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(c,u,d){let p=c.Vu[c.currentUser.toKey()];p||(p=new Mr(En)),p=p.insert(u,d),c.Vu[c.currentUser.toKey()]=p})(r,s.batchId,t),await Gf(r,s.changes),await Cg(r.remoteStore)}catch(s){const o=yy(s,"Failed to persist write");t.reject(o)}}async function T3(n,e){const t=Zt(n);try{const r=await t7(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const c=t.Au.get(o);c&&(zn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?zn(c.hu,14607):s.removedDocuments.size>0&&(zn(c.hu,42227),c.hu=!1))})),await Gf(t,r,e)}catch(r){await Zh(r)}}function Ax(n,e,t){const r=Zt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((o,c)=>{const u=c.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(c,u){const d=Zt(c);d.onlineState=u;let p=!1;d.queries.forEach(((y,_)=>{for(const A of _.Sa)A.va(u)&&(p=!0)})),p&&xy(d)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function z7(n,e,t){const r=Zt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),o=s&&s.key;if(o){let c=new Mr(It.comparator);c=c.insert(o,xs.newNoDocument(o,Qt.min()));const u=Sn().add(o),d=new Eg(Qt.min(),new Map,new Mr(En),c,u);await T3(r,d),r.du=r.du.remove(o),r.Au.delete(e),Ny(r)}else await a2(r.localStore,e,!1).then((()=>c2(r,e,t))).catch(Zh)}async function H7(n,e){const t=Zt(n),r=e.batch.batchId;try{const s=await e7(t.localStore,e);R3(t,r,null),C3(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Gf(t,s)}catch(s){await Zh(s)}}async function G7(n,e,t){const r=Zt(n);try{const s=await(function(c,u){const d=Zt(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return d.mutationQueue.lookupMutationBatch(p,u).next((_=>(zn(_!==null,37113),y=_.keys(),d.mutationQueue.removeMutationBatch(p,_)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>d.localDocuments.getDocuments(p,y)))}))})(r.localStore,e);R3(r,e,t),C3(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Gf(r,s)}catch(s){await Zh(s)}}function C3(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function R3(n,e,t){const r=Zt(n);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function c2(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||I3(n,r)}))}function I3(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(dy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Ny(n))}function Ex(n,e,t){for(const r of t)r instanceof A3?(n.Ru.addReference(r.key,e),$7(n,r)):r instanceof E3?(lt(_y,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||I3(n,r.key)):Bt(19791,{wu:r})}function $7(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(lt(_y,"New document in limbo: "+t),n.Eu.add(r),Ny(n))}function Ny(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new It(dr.fromString(e)),r=n.fu.next();n.Au.set(r,new D7(t)),n.du=n.du.insert(t,r),v3(n.remoteStore,new Pc(el(bg(t.path)),r,"TargetPurposeLimboResolution",gg.ce))}}async function Gf(n,e,t){const r=Zt(n),s=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{c.push(r.pu(d,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const y=p?!p.fromCache:t?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){s.push(p);const y=uy.As(d.targetId,p);o.push(y)}})))})),await Promise.all(c),r.Pu.H_(s),await(async function(d,p){const y=Zt(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>Ke.forEach(p,(A=>Ke.forEach(A.Es,(x=>y.persistence.referenceDelegate.addReference(_,A.targetId,x))).next((()=>Ke.forEach(A.ds,(x=>y.persistence.referenceDelegate.removeReference(_,A.targetId,x)))))))))}catch(_){if(!ed(_))throw _;lt(hy,"Failed to update sequence numbers: "+_)}for(const _ of p){const A=_.targetId;if(!_.fromCache){const x=y.Ms.get(A),k=x.snapshotVersion,j=x.withLastLimboFreeSnapshotVersion(k);y.Ms=y.Ms.insert(A,j)}}})(r.localStore,o))}async function Y7(n,e){const t=Zt(n);if(!t.currentUser.isEqual(e)){lt(_y,"User change. New user:",e.toKey());const r=await p3(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((u=>{u.forEach((d=>{d.reject(new it(He.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gf(t,r.Ls)}}function W7(n,e){const t=Zt(n),r=t.Au.get(e);if(r&&r.hu)return Sn().add(r.key);{let s=Sn();const o=t.Iu.get(e);if(!o)return s;for(const c of o){const u=t.Tu.get(c);s=s.unionWith(u.view.nu)}return s}}function j3(n){const e=Zt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=T3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=z7.bind(null,e),e.Pu.H_=j7.bind(null,e.eventManager),e.Pu.yu=k7.bind(null,e.eventManager),e}function K7(n){const e=Zt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G7.bind(null,e),e}class eg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ZI(this.persistence,new XI,e.initialUser,this.serializer)}Cu(e){return new f3(cy.mi,this.serializer)}Du(e){return new a7}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eg.provider={build:()=>new eg};class X7 extends eg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){zn(this.persistence.referenceDelegate instanceof Jm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new DI(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ws.withCacheSize(this.cacheSizeBytes):Ws.DEFAULT;return new f3((r=>Jm.mi(r,t)),this.serializer)}}class u2{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ax(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y7.bind(null,this.syncEngine),await C7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new I7})()}createDatastore(e){const t=Sg(e.databaseInfo.databaseId),r=(function(o){return new h7(o)})(e.databaseInfo);return(function(o,c,u,d){return new m7(o,c,u,d)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,o,c,u){return new y7(r,s,o,c,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>Ax(this.syncEngine,t,0)),(function(){return vx.v()?new vx:new o7})())}createSyncEngine(e,t){return(function(s,o,c,u,d,p,y){const _=new O7(s,o,c,u,d,p);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Zt(t);lt(Du,"RemoteStore shutting down."),r.Ea.add(5),await Hf(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}u2.provider={build:()=>new u2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc="FirestoreClient";class Q7{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=bs.UNAUTHENTICATED,this.clientId=J2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{lt(Yc,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(lt(Yc,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=yy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function l1(n,e){n.asyncQueue.verifyOperationInProgress(),lt(Yc,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await p3(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Sx(n,e){n.asyncQueue.verifyOperationInProgress();const t=await J7(n);lt(Yc,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>xx(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>xx(e.remoteStore,s))),n._onlineComponents=e}async function J7(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){lt(Yc,"Using user provided OfflineComponentProvider");try{await l1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===He.FAILED_PRECONDITION||s.code===He.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;qh("Error using user provided cache. Falling back to memory cache: "+t),await l1(n,new eg)}}else lt(Yc,"Using default OfflineComponentProvider"),await l1(n,new X7(void 0));return n._offlineComponents}async function k3(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(lt(Yc,"Using user provided OnlineComponentProvider"),await Sx(n,n._uninitializedComponentsProvider._online)):(lt(Yc,"Using default OnlineComponentProvider"),await Sx(n,new u2))),n._onlineComponents}function Z7(n){return k3(n).then((e=>e.syncEngine))}async function tg(n){const e=await k3(n),t=e.eventManager;return t.onListen=M7.bind(null,e.syncEngine),t.onUnlisten=F7.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=U7.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=B7.bind(null,e.syncEngine),t}function ej(n,e,t={}){const r=new Vl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,u,d,p){const y=new Ay({next:A=>{y.Nu(),c.enqueueAndForget((()=>by(o,_)));const x=A.docs.has(u);!x&&A.fromCache?p.reject(new it(He.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&A.fromCache&&d&&d.source==="server"?p.reject(new it(He.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),_=new wy(bg(u.path),y,{includeMetadataChanges:!0,qa:!0});return vy(o,_)})(await tg(n),n.asyncQueue,e,t,r))),r.promise}function tj(n,e,t={}){const r=new Vl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,u,d,p){const y=new Ay({next:A=>{y.Nu(),c.enqueueAndForget((()=>by(o,_))),A.fromCache&&d.source==="server"?p.reject(new it(He.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),_=new wy(u,y,{includeMetadataChanges:!0,qa:!0});return vy(o,_)})(await tg(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="firestore.googleapis.com",Cx=!0;class Rx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new it(He.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=P3,this.ssl=Cx}else this.host=e.host,this.ssl=e.ssl??Cx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=d3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LI)throw new it(He.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L3(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new it(He.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new it(He.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new it(He.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rg{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(He.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(He.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new aR;switch(r.type){case"firstParty":return new uR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(He.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Tx.get(t);r&&(lt("ComponentProvider","Removing Datastore"),Tx.delete(t),r.terminate())})(this),Promise.resolve()}}function nj(n,e,t,r={}){n=Ls(n,Rg);const s=Kc(e),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;s&&(M2(`https://${u}`),U2("Firestore",!0)),o.host!==P3&&o.host!==u&&qh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:u,ssl:s,emulatorOptions:r};if(!Iu(d,c)&&(n._setSettings(d),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=bs.MOCK_USER;else{p=j_(r.mockUserToken,n._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new it(He.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new bs(_)}n._authCredentials=new oR(new A4(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zc(this.firestore,e,this._query)}}class Yr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yr(this.firestore,e,this._key)}toJSON(){return{type:Yr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Bf(t,Yr._jsonSchema))return new Yr(e,r||null,new It(dr.fromString(t.referencePath)))}}Yr._jsonSchemaVersion="firestore/documentReference/1.0",Yr._jsonSchema={type:gi("string",Yr._jsonSchemaVersion),referencePath:gi("string")};class Vc extends Zc{constructor(e,t,r){super(e,t,bg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yr(this.firestore,null,new It(e))}withConverter(e){return new Vc(this.firestore,e,this._path)}}function Wr(n,e,...t){if(n=fr(n),E4("collection","path",e),n instanceof Rg){const r=dr.fromString(e,...t);return qb(r),new Vc(n,null,r)}{if(!(n instanceof Yr||n instanceof Vc))throw new it(He.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dr.fromString(e,...t));return qb(r),new Vc(n.firestore,null,r)}}function Kr(n,e,...t){if(n=fr(n),arguments.length===1&&(e=J2.newId()),E4("doc","path",e),n instanceof Rg){const r=dr.fromString(e,...t);return Bb(r),new Yr(n,null,new It(r))}{if(!(n instanceof Yr||n instanceof Vc))throw new it(He.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dr.fromString(e,...t));return Bb(r),new Yr(n.firestore,n instanceof Vc?n.converter:null,new It(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="AsyncQueue";class jx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new g3(this,"async_queue_retry"),this._c=()=>{const r=o1();r&&lt(Ix,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=o1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=o1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Vl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ed(e))throw e;lt(Ix,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,zl("INTERNAL UNHANDLED ERROR: ",kx(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=gy.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Bt(47125,{Pc:kx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function kx(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class sl extends Rg{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new jx,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jx(e),this._firestoreClient=void 0,await e}}}function rj(n,e){const t=typeof n=="object"?n:B2(),r=typeof n=="string"?n:Ym,s=hg(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=C_("firestore");o&&nj(s,...o)}return s}function $f(n){if(n._terminated)throw new it(He.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ij(n),n._firestoreClient}function ij(n){const e=n._freezeSettings(),t=(function(s,o,c,u){return new TR(s,o,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,L3(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new Q7(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $a(ns.fromBase64String(e))}catch(t){throw new it(He.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $a(ns.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$a._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bf(e,$a._jsonSchema))return $a.fromBase64String(e.bytes)}}$a._jsonSchemaVersion="firestore/bytes/1.0",$a._jsonSchema={type:gi("string",$a._jsonSchemaVersion),bytes:gi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new it(He.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ts(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new it(He.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new it(He.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return En(this._lat,e._lat)||En(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nl._jsonSchemaVersion}}static fromJSON(e){if(Bf(e,nl._jsonSchema))return new nl(e.latitude,e.longitude)}}nl._jsonSchemaVersion="firestore/geoPoint/1.0",nl._jsonSchema={type:gi("string",nl._jsonSchemaVersion),latitude:gi("number"),longitude:gi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:rl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bf(e,rl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new rl(e.vectorValues);throw new it(He.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rl._jsonSchemaVersion="firestore/vectorValue/1.0",rl._jsonSchema={type:gi("string",rl._jsonSchemaVersion),vectorValues:gi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=/^__.*__$/;class aj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Jc(e,this.data,this.fieldMask,t,this.fieldTransforms):new qf(e,this.data,t,this.fieldTransforms)}}class D3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Jc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function O3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt(40011,{Ac:n})}}class Ey{constructor(e,t,r,s,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ey({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ng(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(O3(this.Ac)&&sj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class oj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Sg(e)}Cc(e,t,r,s=!1){return new Ey({Ac:e,methodName:t,Dc:r,path:ts.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wf(n){const e=n._freezeSettings(),t=Sg(n._databaseId);return new oj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Sy(n,e,t,r,s,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,e,t,s);Cy("Data must be an object, but it was:",c,r);const u=V3(r,c);let d,p;if(o.merge)d=new fa(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const A=h2(e,_,t);if(!c.contains(A))throw new it(He.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);B3(y,A)||y.push(A)}d=new fa(y),p=c.fieldTransforms.filter((_=>d.covers(_.field)))}else d=null,p=c.fieldTransforms;return new aj(new Ks(u),d,p)}class jg extends Ig{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jg}}class Ty extends Ig{_toFieldTransform(e){return new ZR(e.path,new Tf)}isEqual(e){return e instanceof Ty}}function M3(n,e,t,r){const s=n.Cc(1,e,t);Cy("Data must be an object, but it was:",s,r);const o=[],c=Ks.empty();Qc(r,((d,p)=>{const y=Ry(e,d,t);p=fr(p);const _=s.yc(y);if(p instanceof jg)o.push(y);else{const A=Kf(p,_);A!=null&&(o.push(y),c.set(y,A))}}));const u=new fa(o);return new D3(c,u,s.fieldTransforms)}function U3(n,e,t,r,s,o){const c=n.Cc(1,e,t),u=[h2(e,r,t)],d=[s];if(o.length%2!=0)throw new it(He.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<o.length;A+=2)u.push(h2(e,o[A])),d.push(o[A+1]);const p=[],y=Ks.empty();for(let A=u.length-1;A>=0;--A)if(!B3(p,u[A])){const x=u[A];let k=d[A];k=fr(k);const j=c.yc(x);if(k instanceof jg)p.push(x);else{const M=Kf(k,j);M!=null&&(p.push(x),y.set(x,M))}}const _=new fa(p);return new D3(y,_,c.fieldTransforms)}function lj(n,e,t,r=!1){return Kf(t,n.Cc(r?4:3,e))}function Kf(n,e){if(F3(n=fr(n)))return Cy("Unsupported field value:",e,n),V3(n,e);if(n instanceof Ig)return(function(r,s){if(!O3(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const o=[];let c=0;for(const u of r){let d=Kf(u,s.wc(c));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),c++}return{arrayValue:{values:o}}})(n,e)}return(function(r,s){if((r=fr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XR(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=br.fromDate(r);return{timestampValue:Qm(s.serializer,o)}}if(r instanceof br){const o=new br(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qm(s.serializer,o)}}if(r instanceof nl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $a)return{bytesValue:s3(s.serializer,r._byteString)};if(r instanceof Yr){const o=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw s.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:oy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof rl)return(function(c,u){return{mapValue:{fields:{[P4]:{stringValue:D4},[Wm]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw u.Sc("VectorValues must only contain numeric values.");return iy(u.serializer,p)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${mg(r)}`)})(n,e)}function V3(n,e){const t={};return C4(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qc(n,((r,s)=>{const o=Kf(s,e.mc(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function F3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof br||n instanceof nl||n instanceof $a||n instanceof Yr||n instanceof Ig||n instanceof rl)}function Cy(n,e,t){if(!F3(t)||!S4(t)){const r=mg(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function h2(n,e,t){if((e=fr(e))instanceof Yf)return e._internalPath;if(typeof e=="string")return Ry(n,e);throw ng("Field path arguments must be of type string or ",n,!1,void 0,t)}const cj=new RegExp("[~\\*/\\[\\]]");function Ry(n,e,t){if(e.search(cj)>=0)throw ng(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Yf(...e.split("."))._internalPath}catch{throw ng(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ng(n,e,t,r,s){const o=r&&!r.isEmpty(),c=s!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||c)&&(d+=" (found",o&&(d+=` in field ${r}`),c&&(d+=` in document ${s}`),d+=")"),new it(He.INVALID_ARGUMENT,u+n+d)}function B3(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class uj extends q3{data(){return super.data()}}function kg(n,e){return typeof e=="string"?Ry(n,e):e instanceof Yf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new it(He.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Iy{}class H3 extends Iy{}function rd(n,e,...t){let r=[];e instanceof Iy&&r.push(e),r=r.concat(t),(function(o){const c=o.filter((d=>d instanceof jy)).length,u=o.filter((d=>d instanceof Lg)).length;if(c>1||c>0&&u>0)throw new it(He.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class Lg extends H3{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Lg(e,t,r)}_apply(e){const t=this._parse(e);return G3(e._query,t),new Zc(e.firestore,e.converter,e2(e._query,t))}_parse(e){const t=Wf(e.firestore);return(function(o,c,u,d,p,y,_){let A;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new it(He.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Dx(_,y);const k=[];for(const j of _)k.push(Px(d,o,j));A={arrayValue:{values:k}}}else A=Px(d,o,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Dx(_,y),A=lj(u,c,_,y==="in"||y==="not-in");return mi.create(p,y,A)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Pg(n,e,t){const r=e,s=kg("where",n);return Lg._create(s,r,t)}class jy extends Iy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new jy(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:_o.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let c=s;const u=o.getFlattenedFilters();for(const d of u)G3(c,d),c=e2(c,d)})(e._query,t),new Zc(e.firestore,e.converter,e2(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ky extends H3{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ky(e,t)}_apply(e){const t=(function(s,o,c){if(s.startAt!==null)throw new it(He.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new it(He.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sf(o,c)})(e._query,this._field,this._direction);return new Zc(e.firestore,e.converter,(function(s,o){const c=s.explicitOrderBy.concat([o]);return new td(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function Ly(n,e="asc"){const t=e,r=kg("orderBy",n);return ky._create(r,t)}function Px(n,e,t){if(typeof(t=fr(t))=="string"){if(t==="")throw new it(He.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!z4(e)&&t.indexOf("/")!==-1)throw new it(He.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(dr.fromString(t));if(!It.isDocumentKey(r))throw new it(He.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xb(n,new It(r))}if(t instanceof Yr)return Xb(n,t._key);throw new it(He.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mg(t)}.`)}function Dx(n,e){if(!Array.isArray(n)||n.length===0)throw new it(He.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function G3(n,e){const t=(function(s,o){for(const c of s)for(const u of c.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new it(He.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(He.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class hj{convertValue(e,t="none"){switch(Gc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return si(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Bt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Qc(e,((s,o)=>{r[s]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[Wm].arrayValue?.values?.map((r=>si(r.doubleValue)));return new rl(t)}convertGeoPoint(e){return new nl(si(e.latitude),si(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=vg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Nf(e));default:return null}}convertTimestamp(e){const t=zc(e);return new br(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=dr.fromString(e);zn(h3(r),9688,{name:e});const s=new Af(r.get(1),r.get(3)),o=new It(r.popFirst(5));return s.isEqual(t)||zl(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class lf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Su extends q3{constructor(e,t,r,s,o,c){super(e,t,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(kg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(He.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Su._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Su._jsonSchemaVersion="firestore/documentSnapshot/1.0",Su._jsonSchema={type:gi("string",Su._jsonSchemaVersion),bundleSource:gi("string","DocumentSnapshot"),bundleName:gi("string"),bundle:gi("string")};class Rm extends Su{data(e={}){return super.data(e)}}class Tu{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new lf(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Rm(this._firestore,this._userDataWriter,r.key,r,new lf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new it(He.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((u=>{const d=new Rm(s._firestore,s._userDataWriter,u.doc.key,u.doc,new lf(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const d=new Rm(s._firestore,s._userDataWriter,u.doc.key,u.doc,new lf(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return u.type!==0&&(p=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),y=c.indexOf(u.doc.key)),{type:dj(u.type),doc:d,oldIndex:p,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(He.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Tu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=J2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(n){n=Ls(n,Yr);const e=Ls(n.firestore,sl);return ej($f(e),n._key).then((t=>W3(e,n,t)))}Tu._jsonSchemaVersion="firestore/querySnapshot/1.0",Tu._jsonSchema={type:gi("string",Tu._jsonSchemaVersion),bundleSource:gi("string","QuerySnapshot"),bundleName:gi("string"),bundle:gi("string")};class Dy extends hj{constructor(e){super(),this.firestore=e}convertBytes(e){return new $a(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yr(this.firestore,null,t)}}function Fc(n){n=Ls(n,Zc);const e=Ls(n.firestore,sl),t=$f(e),r=new Dy(e);return z3(n._query),tj(t,n._query).then((s=>new Tu(e,r,n,s)))}function $3(n,e,t){n=Ls(n,Yr);const r=Ls(n.firestore,sl),s=Py(n.converter,e,t);return Xf(r,[Sy(Wf(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Ps.none())])}function Ol(n,e,t,...r){n=Ls(n,Yr);const s=Ls(n.firestore,sl),o=Wf(s);let c;return c=typeof(e=fr(e))=="string"||e instanceof Yf?U3(o,"updateDoc",n._key,e,t,r):M3(o,"updateDoc",n._key,e),Xf(s,[c.toMutation(n._key,Ps.exists(!0))])}function Y3(n){return Xf(Ls(n.firestore,sl),[new Ag(n._key,Ps.none())])}function id(n,e){const t=Ls(n.firestore,sl),r=Kr(n),s=Py(n.converter,e);return Xf(t,[Sy(Wf(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Ps.exists(!1))]).then((()=>r))}function Gl(n,...e){n=fr(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Lx(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Lx(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,c,u;if(n instanceof Yr)c=Ls(n.firestore,sl),u=bg(n._key.path),o={next:d=>{e[r]&&e[r](W3(c,n,d))},error:e[r+1],complete:e[r+2]};else{const d=Ls(n,Zc);c=Ls(d.firestore,sl),u=d._query;const p=new Dy(c);o={next:y=>{e[r]&&e[r](new Tu(c,p,d,y))},error:e[r+1],complete:e[r+2]},z3(n._query)}return(function(p,y,_,A){const x=new Ay(A),k=new wy(y,x,_);return p.asyncQueue.enqueueAndForget((async()=>vy(await tg(p),k))),()=>{x.Nu(),p.asyncQueue.enqueueAndForget((async()=>by(await tg(p),k)))}})($f(c),u,s,o)}function Xf(n,e){return(function(r,s){const o=new Vl;return r.asyncQueue.enqueueAndForget((async()=>q7(await Z7(r),s,o))),o.promise})($f(n),e)}function W3(n,e,t){const r=t.docs.get(e._key),s=new Dy(n);return new Su(n,s,e._key,r,new lf(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Wf(e)}set(e,t,r){this._verifyNotCommitted();const s=c1(e,this._firestore),o=Py(s.converter,t,r),c=Sy(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,r);return this._mutations.push(c.toMutation(s._key,Ps.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const o=c1(e,this._firestore);let c;return c=typeof(t=fr(t))=="string"||t instanceof Yf?U3(this._dataReader,"WriteBatch.update",o._key,t,r,s):M3(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,Ps.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=c1(e,this._firestore);return this._mutations=this._mutations.concat(new Ag(t._key,Ps.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new it(He.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function c1(n,e){if((n=fr(n)).firestore!==e)throw new it(He.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function pj(){return new Ty("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(n){return $f(n=Ls(n,sl)),new fj(n,(e=>Xf(n,e)))}(function(e,t=!0){(function(s){Jh=s})(Vu),ju(new Bc("firestore",((r,{instanceIdentifier:s,options:o})=>{const c=r.getProvider("app").getImmediate(),u=new sl(new lR(r.getProvider("auth-internal")),new hR(c,r.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new it(He.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Af(p.options.projectId,y)})(c,s),c);return o={useFetchStreams:t,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Qo(Mb,Ub,e),Qo(Mb,Ub,"esm2020")})();var mj="firebase",gj="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qo(mj,gj,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3="firebasestorage.googleapis.com",X3="storageBucket",yj=120*1e3,vj=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends ol{constructor(e,t,r=0){super(u1(e),`Firebase Storage: ${t} (${u1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return u1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xr||(Xr={}));function u1(n){return"storage/"+n}function Oy(){const n="An unknown error occurred, please check the error payload for server response.";return new Qr(Xr.UNKNOWN,n)}function bj(n){return new Qr(Xr.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function xj(n){return new Qr(Xr.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function wj(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qr(Xr.UNAUTHENTICATED,n)}function _j(){return new Qr(Xr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Nj(n){return new Qr(Xr.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function Aj(){return new Qr(Xr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ej(){return new Qr(Xr.CANCELED,"User canceled the upload/download.")}function Sj(n){return new Qr(Xr.INVALID_URL,"Invalid URL '"+n+"'.")}function Tj(n){return new Qr(Xr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Cj(){return new Qr(Xr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+X3+"' property when initializing the app?")}function Rj(){return new Qr(Xr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ij(){return new Qr(Xr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function jj(n){return new Qr(Xr.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function d2(n){return new Qr(Xr.INVALID_ARGUMENT,n)}function Q3(){return new Qr(Xr.APP_DELETED,"The Firebase app was deleted.")}function kj(n){return new Qr(Xr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gf(n,e){return new Qr(Xr.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Zd(n){throw new Qr(Xr.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=pa.makeFromUrl(e,t)}catch{return new pa(e,"")}if(r.path==="")return r;throw Tj(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}const c="(/(.*))?$",u=new RegExp("^gs://"+s+c,"i"),d={bucket:1,path:3};function p(W){W.path_=decodeURIComponent(W.path)}const y="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",x=new RegExp(`^https?://${_}/${y}/b/${s}/o${A}`,"i"),k={bucket:1,path:3},j=t===K3?"(?:storage.googleapis.com|storage.cloud.google.com)":t,M="([^?#]*)",R=new RegExp(`^https?://${j}/${s}/${M}`,"i"),q=[{regex:u,indices:d,postModify:o},{regex:x,indices:k,postModify:p},{regex:R,indices:{bucket:1,path:2},postModify:p}];for(let W=0;W<q.length;W++){const ce=q[W],xe=ce.regex.exec(e);if(xe){const $=xe[ce.indices.bucket];let I=xe[ce.indices.path];I||(I=""),r=new pa($,I),ce.postModify(r);break}}if(r==null)throw Sj(e);return r}}class Lj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(n,e,t){let r=1,s=null,o=null,c=!1,u=0;function d(){return u===2}let p=!1;function y(...M){p||(p=!0,e.apply(null,M))}function _(M){s=setTimeout(()=>{s=null,n(x,d())},M)}function A(){o&&clearTimeout(o)}function x(M,...R){if(p){A();return}if(M){A(),y.call(null,M,...R);return}if(d()||c){A(),y.call(null,M,...R);return}r<64&&(r*=2);let q;u===1?(u=2,q=0):q=(r+Math.random())*1e3,_(q)}let k=!1;function j(M){k||(k=!0,A(),!p&&(s!==null?(M||(u=2),clearTimeout(s),_(0)):M||(u=1)))}return _(0),o=setTimeout(()=>{c=!0,j(!0)},t),j}function Dj(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(n){return n!==void 0}function Mj(n){return typeof n=="object"&&!Array.isArray(n)}function My(n){return typeof n=="string"||n instanceof String}function Mx(n){return Uy()&&n instanceof Blob}function Uy(){return typeof Blob<"u"}function Ux(n,e,t,r){if(r<e)throw d2(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw d2(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function J3(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var Cu;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Cu||(Cu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,t,r,s,o,c,u,d,p,y,_,A=!0,x=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=u,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=A,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,j)=>{this.resolve_=k,this.reject_=j,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new sm(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=u=>{const d=u.loaded,p=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const u=o.getErrorCode()===Cu.NO_ERROR,d=o.getStatus();if(!u||Uj(d,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===Cu.ABORT;r(!1,new sm(!1,null,y));return}const p=this.successCodes_.indexOf(d)!==-1;r(!0,new sm(p,o))})},t=(r,s)=>{const o=this.resolve_,c=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());Oj(d)?o(d):o()}catch(d){c(d)}else if(u!==null){const d=Oy();d.serverResponse=u.getErrorText(),this.errorCallback_?c(this.errorCallback_(u,d)):c(d)}else if(s.canceled){const d=this.appDelete_?Q3():Ej();c(d)}else{const d=Aj();c(d)}};this.canceled_?t(!1,new sm(!1,null,!0)):this.backoffId_=Pj(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Dj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sm{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Fj(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Bj(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qj(n,e){e&&(n["X-Firebase-GMPID"]=e)}function zj(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Hj(n,e,t,r,s,o,c=!0,u=!1){const d=J3(n.urlParams),p=n.url+d,y=Object.assign({},n.headers);return qj(y,e),Fj(y,t),Bj(y,o),zj(y,r),new Vj(p,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,c,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $j(...n){const e=Gj();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Uy())return new Blob(n);throw new Qr(Xr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Yj(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(n){if(typeof atob>"u")throw jj("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class h1{constructor(e,t){this.data=e,this.contentType=t||null}}function Kj(n,e){switch(n){case Ko.RAW:return new h1(Z3(e));case Ko.BASE64:case Ko.BASE64URL:return new h1(eN(n,e));case Ko.DATA_URL:return new h1(Qj(e),Jj(e))}throw Oy()}function Z3(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,c=n.charCodeAt(++t);r=65536|(o&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Xj(n){let e;try{e=decodeURIComponent(n)}catch{throw gf(Ko.DATA_URL,"Malformed data URL.")}return Z3(e)}function eN(n,e){switch(n){case Ko.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw gf(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ko.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw gf(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=Wj(e)}catch(s){throw s.message.includes("polyfill")?s:gf(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class tN{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw gf(Ko.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=Zj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Qj(n){const e=new tN(n);return e.base64?eN(Ko.BASE64,e.rest):Xj(e.rest)}function Jj(n){return new tN(n).contentType}function Zj(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,t){let r=0,s="";Mx(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(Mx(this.data_)){const r=this.data_,s=Yj(r,e,t);return s===null?null:new Lc(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Lc(r,!0)}}static getBlob(...e){if(Uy()){const t=e.map(r=>r instanceof Lc?r.data_:r);return new Lc($j.apply(null,t))}else{const t=e.map(c=>My(c)?Kj(Ko.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const s=new Uint8Array(r);let o=0;return t.forEach(c=>{for(let u=0;u<c.length;u++)s[o++]=c[u]}),new Lc(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(n){let e;try{e=JSON.parse(n)}catch{return null}return Mj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function tk(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function rN(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(n,e){return e}class ks{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||nk}}let am=null;function rk(n){return!My(n)||n.length<2?n:rN(n)}function iN(){if(am)return am;const n=[];n.push(new ks("bucket")),n.push(new ks("generation")),n.push(new ks("metageneration")),n.push(new ks("name","fullPath",!0));function e(o,c){return rk(c)}const t=new ks("name");t.xform=e,n.push(t);function r(o,c){return c!==void 0?Number(c):c}const s=new ks("size");return s.xform=r,n.push(s),n.push(new ks("timeCreated")),n.push(new ks("updated")),n.push(new ks("md5Hash",null,!0)),n.push(new ks("cacheControl",null,!0)),n.push(new ks("contentDisposition",null,!0)),n.push(new ks("contentEncoding",null,!0)),n.push(new ks("contentLanguage",null,!0)),n.push(new ks("contentType",null,!0)),n.push(new ks("metadata","customMetadata",!0)),am=n,am}function ik(n,e){function t(){const r=n.bucket,s=n.fullPath,o=new pa(r,s);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function sk(n,e,t){const r={};r.type="file";const s=t.length;for(let o=0;o<s;o++){const c=t[o];r[c.local]=c.xform(r,e[c.server])}return ik(r,n),r}function sN(n,e,t){const r=nN(e);return r===null?null:sk(n,r,t)}function ak(n,e,t,r){const s=nN(e);if(s===null||!My(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const c=encodeURIComponent;return o.split(",").map(p=>{const y=n.bucket,_=n.fullPath,A="/b/"+c(y)+"/o/"+c(_),x=Vy(A,t,r),k=J3({alt:"media",token:p});return x+k})[0]}function ok(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class aN{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(n){if(!n)throw Oy()}function lk(n,e){function t(r,s){const o=sN(n,s,e);return oN(o!==null),o}return t}function ck(n,e){function t(r,s){const o=sN(n,s,e);return oN(o!==null),ak(o,s,n.host,n._protocol)}return t}function lN(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=_j():s=wj():t.getStatus()===402?s=xj(n.bucket):t.getStatus()===403?s=Nj(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function uk(n){const e=lN(n);function t(r,s){let o=e(r,s);return r.getStatus()===404&&(o=bj(n.path)),o.serverResponse=s.serverResponse,o}return t}function hk(n,e,t){const r=e.fullServerUrl(),s=Vy(r,n.host,n._protocol),o="GET",c=n.maxOperationRetryTime,u=new aN(s,o,ck(n,t),c);return u.errorHandler=uk(e),u}function dk(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function fk(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=dk(null,e)),r}function pk(n,e,t,r,s){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function u(){let q="";for(let W=0;W<2;W++)q=q+Math.random().toString().slice(2);return q}const d=u();c["Content-Type"]="multipart/related; boundary="+d;const p=fk(e,r,s),y=ok(p,t),_="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+d+`\r
Content-Type: `+p.contentType+`\r
\r
`,A=`\r
--`+d+"--",x=Lc.getBlob(_,r,A);if(x===null)throw Rj();const k={name:p.fullPath},j=Vy(o,n.host,n._protocol),M="POST",R=n.maxUploadRetryTime,F=new aN(j,M,lk(n,t),R);return F.urlParams=k,F.headers=c,F.body=x.uploadData(),F.errorHandler=lN(e),F}class mk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Cu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Cu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Cu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s,o){if(this.sent_)throw Zd("cannot .send() more than once");if(Kc(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class gk extends mk{initXhr(){this.xhr_.responseType="text"}}function cN(){return new gk}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,t){this._service=e,t instanceof pa?this._location=t:this._location=pa.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ou(e,t)}get root(){const e=new pa(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rN(this._location.path)}get storage(){return this._service}get parent(){const e=ek(this._location.path);if(e===null)return null;const t=new pa(this._location.bucket,e);return new Ou(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw kj(e)}}function yk(n,e,t){n._throwIfRoot("uploadBytes");const r=pk(n.storage,n._location,iN(),new Lc(e,!0),t);return n.storage.makeRequestWithTokens(r,cN).then(s=>({metadata:s,ref:n}))}function vk(n){n._throwIfRoot("getDownloadURL");const e=hk(n.storage,n._location,iN());return n.storage.makeRequestWithTokens(e,cN).then(t=>{if(t===null)throw Ij();return t})}function bk(n,e){const t=tk(n._location.path,e),r=new pa(n._location.bucket,t);return new Ou(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(n){return/^[A-Za-z]+:\/\//.test(n)}function wk(n,e){return new Ou(n,e)}function uN(n,e){if(n instanceof Fy){const t=n;if(t._bucket==null)throw Cj();const r=new Ou(t,t._bucket);return e!=null?uN(r,e):r}else return e!==void 0?bk(n,e):n}function _k(n,e){if(e&&xk(e)){if(n instanceof Fy)return wk(n,e);throw d2("To use ref(service, url), the first argument must be a Storage instance.")}else return uN(n,e)}function Vx(n,e){const t=e?.[X3];return t==null?null:pa.makeFromBucketSpec(t,n)}function Nk(n,e,t,r={}){n.host=`${e}:${t}`;const s=Kc(e);s&&(M2(`https://${n.host}/b`),U2("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:j_(o,n.app.options.projectId))}class Fy{constructor(e,t,r,s,o,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=K3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yj,this._maxUploadRetryTime=vj,this._requests=new Set,s!=null?this._bucket=pa.makeFromBucketSpec(s,this._host):this._bucket=Vx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=pa.makeFromBucketSpec(this._url,e):this._bucket=Vx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ux("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ux("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(da(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ou(this,e)}_makeRequest(e,t,r,s,o=!0){if(this._deleted)return new Lj(Q3());{const c=Hj(e,this._appId,r,s,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const Fx="@firebase/storage",Bx="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="storage";function dN(n,e,t){return n=fr(n),yk(n,e,t)}function fN(n){return n=fr(n),vk(n)}function pN(n,e){return n=fr(n),_k(n,e)}function Ak(n=B2(),e){n=fr(n);const r=hg(n,hN).getImmediate({identifier:e}),s=C_("storage");return s&&Ek(r,...s),r}function Ek(n,e,t,r={}){Nk(n,e,t,r)}function Sk(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new Fy(t,r,s,e,Vu)}function Tk(){ju(new Bc(hN,Sk,"PUBLIC").setMultipleInstances(!0)),Qo(Fx,Bx,""),Qo(Fx,Bx,"esm2020")}Tk();const f2={apiKey:"AIzaSyDO_6eUP3oYQK0VFg2X5gwGOH56OZGA2go",authDomain:"lilutecno-pagina-web.firebaseapp.com",projectId:"lilutecno-pagina-web",storageBucket:"lilutecno-pagina-web.firebasestorage.app",messagingSenderId:"907793758364",appId:"1:907793758364:web:ba94a732c669cbee70d559",measurementId:"G-TX10F634LP"},By=f2.apiKey!=="demo-api-key"&&f2.projectId!=="demo-project";let om=null,Lt=null,Ck=null,qy=null;if(By)try{om=P_(f2),Lt=rj(om),Ck=Bu(om),qy=Ak(om),console.log("Firebase initialized successfully")}catch(n){console.warn("Firebase initialization failed:",n),console.warn("Running in demo mode without Firebase functionality")}else console.warn("Firebase configuration not found. Running in demo mode."),console.warn("To enable Firebase, please set the following environment variables:"),console.warn("VITE_FIREBASE_API_KEY, VITE_FIREBASE_AUTH_DOMAIN, VITE_FIREBASE_PROJECT_ID, etc.");const mN=oe.createContext({currentUser:null,userProfile:null,loading:!0,isAdmin:!1,isPartner:!1,isUser:!1,hasRole:()=>!1,refreshUserProfile:async()=>{},checkPartnerApplicationStatus:async()=>"none"}),ga=()=>oe.useContext(mN),Rk=({children:n})=>{const[e,t]=oe.useState(null),[r,s]=oe.useState(null),[o,c]=oe.useState(!0),[u,d]=oe.useState(null),p=async R=>{if(!Lt)return console.warn("Firestore not available, using mock user profile"),null;try{const F=Kr(Lt,"users",R),q=await If(F);if(q.exists()){const W=q.data();return{uid:q.id,email:W.email,displayName:W.displayName,role:W.role||"user",storeId:W.storeId,active:W.active!==!1,createdAt:W.createdAt?.toDate()||new Date,updatedAt:W.updatedAt?.toDate()||new Date}}return null}catch(F){return console.error("Error fetching user profile:",F),null}},y=async()=>{if(e){const R=await p(e.uid);s(R)}};oe.useEffect(()=>()=>{u&&u()},[u]),oe.useEffect(()=>{if(!Lt){console.warn("Firebase not available, running in demo mode"),c(!1);return}const R=Bu(),F=WC(R,async q=>{if(u&&(u(),d(null)),t(q),q&&Lt)try{const W=Kr(Lt,"users",q.uid),ce=Gl(W,xe=>{if(xe.exists()){const $=xe.data();s({uid:xe.id,email:$.email,displayName:$.displayName,role:$.role||"user",storeId:$.storeId,active:$.active!==!1,createdAt:$.createdAt?.toDate()||new Date,updatedAt:$.updatedAt?.toDate()||new Date})}else s(null)});d(ce)}catch(W){console.error("Error setting up user profile listener:",W)}else s(null);c(!1)});return()=>{F(),u&&u()}},[]);const _=r?.role==="admin",A=r?.role==="partner",x=r?.role==="user",M={currentUser:e,userProfile:r,loading:o,isAdmin:_,isPartner:A,isUser:x,hasRole:R=>r?.role===R,refreshUserProfile:y,checkPartnerApplicationStatus:async()=>{if(!e||!Lt)return"none";try{const R=await If(Kr(Lt,"users",e.uid));return R.exists()&&R.data().partnerApplicationStatus||"none"}catch(R){return console.error("Error checking partner application status:",R),"none"}}};return f.jsx(mN.Provider,{value:M,children:!o&&n})},cf=({searchTerm:n,onSearchChange:e,totalCartItems:t,onCartClick:r,onMobileFiltersClick:s,filteredCount:o,totalAvailableCount:c,isHeaderVisible:u})=>{const d=oe.useRef(null),p=oe.useRef(null),y=oe.useRef(null),_=$l(),A=al(),{currentUser:x,userProfile:k,isAdmin:j,isPartner:M}=ga(),[R,F]=oe.useState(!1),[q,W]=oe.useState(!1),ce=_.pathname.startsWith("/product/"),xe=_.pathname==="/login"||_.pathname==="/register",$=async()=>{try{const O=Bu();await W2(O),F(!1),A("/")}catch(O){console.error("Error al cerrar sesión:",O)}},I=[{name:"Inicio",path:"/"},{name:"Categorías",path:"/#categories"},{name:"Sobre Nosotros",path:"/about"},{name:"Ser Socio",path:"/partner-landing"}],P=[{icon:eS,value:o,label:"En oferta"},{icon:X0,value:c,label:"Disponibles"},{icon:tS,value:"24h",label:"Envío Rápido"},{icon:nS,value:"100%",label:"Garantía"}],V=()=>{p.current&&clearInterval(p.current),p.current=window.setInterval(()=>{if(d.current){const{scrollLeft:O,scrollWidth:le,clientWidth:Se}=d.current;O+Se>=le-1?d.current.scrollTo({left:0,behavior:"smooth"}):d.current.scrollBy({left:Se/4,behavior:"smooth"})}},3e3)},T=()=>{p.current&&clearInterval(p.current),y.current&&clearTimeout(y.current)},D=()=>{T(),y.current=window.setTimeout(V,5e3)};return oe.useEffect(()=>{const O=d.current,le=window.matchMedia("(max-width: 767px)"),Se=ye=>{ye.matches?V():T()},ae=ye=>{if(R||q){const pe=ye.target;!pe.closest("[data-user-menu]")&&!pe.closest("[data-mobile-menu]")&&(F(!1),W(!1))}};return le.matches&&V(),document.addEventListener("click",ae),le.addEventListener("change",Se),O&&(O.addEventListener("pointerdown",D),O.addEventListener("wheel",D,{passive:!0})),()=>{T(),document.removeEventListener("click",ae),le.removeEventListener("change",Se),O&&(O.removeEventListener("pointerdown",D),O.removeEventListener("wheel",D))}},[o,c,R,q]),f.jsxs("header",{className:`bg-gradient-to-r from-orange-500 via-red-500 to-purple-600 shadow-2xl sticky top-0 z-50 text-white transition-transform duration-300 ease-in-out ${u?"translate-y-0":"-translate-y-full"}`,children:[f.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-black text-center py-2 px-4",children:f.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm sm:text-base font-black tracking-wide",children:[f.jsx(X0,{className:"w-5 h-5 text-red-600 animate-pulse"}),f.jsx("span",{className:"truncate",children:"¡OFERTAS MUNDIALES! Hasta 70% OFF"}),f.jsx(X0,{className:"w-5 h-5 text-red-600 animate-pulse"})]})}),f.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4",children:f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(qn,{to:"/",className:"flex items-center space-x-3",children:[f.jsx("img",{src:cS,alt:"Logo de LiluTecno",className:"h-14 w-auto"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h1",{className:"text-2xl md:text-3xl font-black text-white drop-shadow-lg",children:"LiluTecno"}),f.jsx("span",{className:"text-xs text-white/80 hidden md:block",children:"Tecnología Mundial a Tu Alcance"})]})]}),!xe&&f.jsx("nav",{className:"hidden lg:flex items-center space-x-6",children:I.map(O=>f.jsxs(qn,{to:O.path,className:"text-white hover:text-yellow-300 font-semibold transition-colors duration-300 relative group",children:[O.name,f.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-yellow-300 group-hover:w-full transition-all duration-300"})]},O.path))}),f.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[f.jsx("button",{onClick:()=>W(!q),className:"lg:hidden p-2 bg-white/20 border border-white/25 rounded-xl text-white backdrop-blur-sm hover:bg-white/30 transition-colors","aria-label":"Abrir menú","data-mobile-menu":!0,children:f.jsx(aS,{className:"h-6 w-6"})}),!ce&&!xe&&f.jsx("button",{onClick:s,className:"lg:hidden p-2 bg-white/20 border border-white/25 rounded-xl text-white backdrop-blur-sm hover:bg-white/30 transition-colors","aria-label":"Abrir filtros",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"})})}),!xe&&f.jsxs("button",{onClick:r,className:"relative p-3 bg-white/20 border border-white/25 rounded-xl text-white backdrop-blur-sm hover:bg-white/30 transition-colors","aria-label":"Ver carrito de compras",children:[f.jsx(D2,{className:"h-6 w-6"}),t>0&&f.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs font-bold ring-2 ring-white",children:t})]}),f.jsx("a",{href:P2,target:"_blank",rel:"noopener noreferrer",className:"p-3 bg-green-500 rounded-xl text-white shadow-lg hover:bg-green-600 transition-colors","aria-label":"Contactar por WhatsApp",children:f.jsx(w_,{className:"h-6 w-6"})}),x?f.jsxs("div",{className:"relative","data-user-menu":!0,children:[f.jsxs("button",{onClick:()=>F(!R),className:"flex items-center space-x-2 p-2 bg-white/20 border border-white/25 rounded-xl text-white backdrop-blur-sm hover:bg-white/30 transition-colors",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-black font-bold text-sm",children:k?.displayName?.charAt(0)||x.email?.charAt(0)||"U"}),f.jsx("span",{className:"hidden md:inline text-sm font-medium",children:k?.displayName||"Usuario"})]}),R&&f.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-xl shadow-2xl border border-gray-200 py-2 z-50",children:[f.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[f.jsx("p",{className:"text-sm font-semibold text-gray-900",children:k?.displayName||"Usuario"}),f.jsx("p",{className:"text-xs text-gray-500",children:x.email}),k?.role&&f.jsx("span",{className:"inline-block mt-1 px-2 py-1 text-xs bg-orange-100 text-orange-800 rounded-full capitalize",children:k.role})]}),j&&f.jsx(qn,{to:"/admin",onClick:()=>F(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"📊 Panel de Admin"}),M&&f.jsx(qn,{to:"/partner",onClick:()=>F(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"🤝 Panel de Socio"}),f.jsx(qn,{to:"/profile",onClick:()=>F(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"👤 Mi Perfil"}),f.jsx(qn,{to:"/orders",onClick:()=>F(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"📦 Mis Pedidos"}),f.jsx("button",{onClick:$,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors border-t border-gray-100 mt-1",children:"🚀 Cerrar Sesión"})]})]}):f.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[f.jsx(qn,{to:"/login",className:"px-4 py-2 text-white font-semibold hover:text-yellow-300 transition-colors",children:"Iniciar Sesión"}),f.jsx(qn,{to:"/register",className:"px-4 py-2 bg-white text-purple-600 font-bold rounded-xl hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300",children:"Registrarse"})]})]})]}),q&&f.jsx("div",{className:"lg:hidden bg-white/10 backdrop-blur-sm rounded-xl border border-white/25 p-4 mt-2",children:f.jsxs("nav",{className:"space-y-3",children:[I.map(O=>f.jsx(qn,{to:O.path,onClick:()=>W(!1),className:"block text-white hover:text-yellow-300 font-semibold transition-colors py-2",children:O.name},O.path)),!x&&f.jsxs("div",{className:"pt-3 border-t border-white/25 space-y-2",children:[f.jsx(qn,{to:"/login",onClick:()=>W(!1),className:"block w-full text-center py-2 px-4 text-white border border-white/25 rounded-lg hover:bg-white/20 transition-colors",children:"Iniciar Sesión"}),f.jsx(qn,{to:"/register",onClick:()=>W(!1),className:"block w-full text-center py-2 px-4 bg-white text-purple-600 font-bold rounded-lg hover:shadow-lg transition-all",children:"Registrarse"})]})]})}),!ce&&!xe&&f.jsxs("div",{className:"relative",children:[f.jsx(x_,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-300 pointer-events-none"}),f.jsx("input",{type:"text",placeholder:"Busca tu producto favorito...",value:n,onChange:O=>e(O.target.value),className:"w-full bg-gray-600/50 backdrop-blur-sm text-white placeholder-gray-300 border border-white/25 rounded-xl py-3 pl-12 pr-4 focus:outline-none focus:ring-2 focus:ring-orange-300 transition-all"})]}),!ce&&!xe&&f.jsx("div",{ref:d,className:"md:grid md:grid-cols-4 flex overflow-x-auto gap-3 pb-2 -mx-4 px-4 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:'none'] [scrollbar-width:'none']",children:P.map((O,le)=>f.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 text-white bg-white/10 p-3 rounded-lg backdrop-blur-sm w-40 md:w-auto",children:[f.jsx(O.icon,{className:"w-6 h-6"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-lg",children:O.value}),f.jsx("p",{className:"text-xs opacity-80",children:O.label})]})]},le))})]})})]})},bo=n=>{const e=typeof n=="string"?parseFloat(n):n;return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)},rg=n=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(n),Ik=({categories:n,filters:e,onFilterChange:t,onPriceChange:r,onClearFilters:s,maxPrice:o})=>{const c=y=>{t({category:y.target.value})},u=y=>{t({stockOnly:y.target.checked})},d=y=>{const _=Math.min(Number(y.target.value),e.priceRange.max-5e4);r({min:_,max:e.priceRange.max})},p=y=>{const _=Math.max(Number(y.target.value),e.priceRange.min+5e4);r({min:e.priceRange.min,max:_})};return f.jsx("aside",{className:"hidden lg:block lg:w-80 flex-shrink-0",children:f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg sticky top-28",children:[" ",f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"🔍 Filtros"}),f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{htmlFor:"category-filter",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Categoría"}),f.jsxs("select",{id:"category-filter",value:e.category,onChange:c,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-orange-400 transition-colors",children:[f.jsx("option",{value:"",children:"Todas las categorías"}),n.map(y=>f.jsxs("option",{value:y,children:[Mm[y]||Mm.DEFAULT," ",y]},y))]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Rango de precio"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("input",{type:"range",id:"price-min",min:"0",max:o,value:e.priceRange.min,step:"50000",onChange:d,className:"w-full appearance-none h-2 bg-gray-200 rounded-lg cursor-pointer accent-orange-500"}),f.jsx("input",{type:"range",id:"price-max",min:"0",max:o,value:e.priceRange.max,step:"50000",onChange:p,className:"w-full appearance-none h-2 bg-gray-200 rounded-lg cursor-pointer accent-orange-500"}),f.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[f.jsx("span",{children:bo(e.priceRange.min)}),f.jsx("span",{children:bo(e.priceRange.max)})]})]})]}),f.jsx("div",{className:"mb-6",children:f.jsxs("label",{className:"flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",id:"stock-filter",checked:e.stockOnly,onChange:u,className:"rounded text-orange-500 focus:ring-orange-400 h-4 w-4 border-gray-300"}),f.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Solo productos en stock"})]})}),f.jsx("button",{onClick:s,className:"w-full py-2 px-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-400",children:"Limpiar filtros"})]})})},jk=({product:n,onProductClick:e,onAddToCart:t})=>{const[r,s]=oe.useState(!1);oe.useEffect(()=>{const F=setTimeout(()=>s(!0),50);return()=>clearTimeout(F)},[]);const{name:o,price:c,old_price:u,category:d,stock:p,images:y}=n,_=u&&u>c,A=p>0;let x=null;if(_){const F=Math.round((u-c)/u*100);x=f.jsxs("div",{className:"absolute top-3 right-3 bg-red-600 text-white px-2 py-1 rounded-full text-xs font-bold shadow-lg z-10",children:["-",F,"%"]})}const k=F=>{const q=`🛍️ *¡Hola LiluTecno!* 🛍️

Estoy interesado en el siguiente producto:

*Producto:* ${F.name}
*Código:* ${F.id}

Quisiera confirmar disponibilidad y métodos de pago. ¡Gracias! 🚀`;return`${P2}?text=${encodeURIComponent(q)}`},j=F=>{F.stopPropagation(),F.preventDefault(),t(n)},M=F=>{F.stopPropagation(),F.preventDefault(),window.open(k(n),"_blank","noopener,noreferrer")},R="https://picsum.photos/300/300?random="+n.id;return f.jsxs(qn,{to:`/product/${n.id}`,className:`bg-white rounded-2xl shadow-lg flex flex-col group cursor-pointer transition-all duration-300 ease-out hover:shadow-xl hover:-translate-y-2 
                  ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"block h-36 sm:h-44 bg-gray-100 rounded-t-2xl overflow-hidden",children:f.jsx("img",{src:y[0]||R,alt:o,loading:"lazy",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:F=>F.currentTarget.src=R})}),!A&&f.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center rounded-t-2xl",children:f.jsx("span",{className:"font-bold text-gray-600 border border-gray-400 px-3 py-1 rounded-full bg-gray-50",children:"AGOTADO"})}),x]}),f.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[f.jsxs("div",{className:"flex-grow",children:[f.jsx("span",{className:"text-xs font-semibold uppercase text-orange-600 tracking-wider",children:d}),f.jsx("h3",{className:"mt-1 text-sm font-bold text-gray-800 leading-snug group-hover:text-orange-700 transition-colors h-10 line-clamp-2",title:o,children:o})]}),f.jsx("div",{className:"mt-2",children:_?f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500 line-through",children:bo(u)}),f.jsx("p",{className:"text-lg font-extrabold text-red-600",children:bo(c)})]}):f.jsx("p",{className:"text-lg font-extrabold text-gray-900 h-[38px] flex items-end",children:bo(c)})}),f.jsx("div",{className:"mt-3",children:A?f.jsxs("div",{className:"flex",children:[f.jsxs("button",{onClick:j,className:"flex-grow bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-bold text-sm py-2 px-1 rounded-l-lg transition-all duration-300 ease-in-out hover:shadow-md focus:outline-none focus:ring-2 focus:ring-orange-400 focus:ring-opacity-75 flex items-center justify-center","aria-label":`Agregar ${o} al carrito`,children:[f.jsx(D2,{className:"h-4 w-4 sm:h-5 sm:w-5"}),f.jsx("span",{className:"hidden sm:inline-block ml-1",children:"Agregar"})]}),f.jsx("button",{onClick:M,className:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-3 rounded-r-lg transition-all duration-300 ease-in-out hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-opacity-75 -ml-px","aria-label":`Consultar ${o} por WhatsApp`,children:f.jsx(XE,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}):f.jsx("button",{disabled:!0,className:"w-full bg-gray-300 text-gray-500 font-bold py-2 px-4 rounded-lg cursor-not-allowed text-sm",children:"Agotado"})})]})]})},kk=S2.memo(jk),Lk=({products:n,onProductClick:e,onAddToCart:t})=>n.length===0?f.jsxs("div",{className:"flex-1 text-center py-12",children:[f.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-md",children:f.jsx(x_,{className:"h-10 w-10 text-gray-400"})}),f.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"No se encontraron productos que coincidan con tu búsqueda."}),f.jsx("p",{className:"text-sm text-gray-500",children:"Intenta ajustar los filtros o ampliar tu búsqueda."})]}):f.jsx("div",{className:"flex-1",children:f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6",children:n.map(r=>f.jsx(kk,{product:r,onProductClick:e,onAddToCart:t},r.id))})}),Pk=S2.memo(Lk),Dk=()=>f.jsxs("a",{href:P2,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 z-50 bg-gradient-to-br from-green-500 to-teal-600 text-white p-4 rounded-full shadow-2xl hover:scale-110 hover:shadow-green-500/50 transition-all duration-300 ease-in-out animate-pulse-whatsapp","aria-label":"Contactar por WhatsApp",title:"Contactar por WhatsApp",children:[f.jsx("style",{children:`
        @keyframes pulseWhatsapp {
          0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.4); }
          50% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(37, 211, 102, 0); }
        }
        .animate-pulse-whatsapp {
          animation: pulseWhatsapp 2s infinite;
        }
      `}),f.jsx(w_,{className:"h-8 w-8"})]}),Ok=({message:n,type:e,onClose:t})=>{const[r,s]=oe.useState(!1);oe.useEffect(()=>{s(!0);const u=setTimeout(()=>{s(!1),setTimeout(t,300)},2700);return()=>clearTimeout(u)},[t]);const o=e==="success"?"bg-green-500":"bg-red-500",c=e==="success"?O2:N_;return f.jsxs("div",{className:`
        ${o} text-white px-4 py-3 rounded-lg shadow-xl flex items-center gap-3
        transition-all duration-300 ease-in-out
        ${r?"opacity-100 translate-x-0":"opacity-0 translate-x-full"}
      `,children:[f.jsx(c,{className:"w-6 h-6 flex-shrink-0"}),f.jsx("span",{className:"text-sm font-medium",children:n}),f.jsx("button",{onClick:t,className:"ml-auto -mr-1 p-1 hover:bg-white/20 rounded-full transition-colors",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})},qx={BOGOTA:1e4,OTHER:15e3},Mk=["LILUFREE","ENVIOGRATIS"],Uk=({cart:n,cartTotal:e,onBackToCart:t,onOrderSuccess:r})=>{const[s,o]=oe.useState({name:"",phone:"",address:"",city:"",email:""}),[c,u]=oe.useState(""),[d,p]=oe.useState(""),[y,_]=oe.useState(!1),[A,x]=oe.useState(!1);oe.useEffect(()=>{const q=s.city.trim().toLowerCase();u(q==="bogota"||q==="bogotá"?"BOGOTA":q?"OTHER":"")},[s.city]);const k=oe.useMemo(()=>y||!c?0:qx[c],[c,y]),j=e+k,M=q=>{const{name:W,value:ce}=q.target;o({...s,[W]:ce})},R=()=>{Mk.includes(d.toUpperCase())?(_(!0),alert("¡Cupón aplicado! Envío gratis.")):alert("Cupón no válido.")},F=async()=>{if(!s.name||!s.phone||!s.address||!s.city||!s.email||!c){alert("Por favor, completa todos los campos y selecciona una opción de envío.");return}x(!0);try{const q={customer:s,items:n.map($=>({id:$.id,name:$.name,quantity:$.quantity,price:$.price})),subtotal:e,shippingCost:y?0:k,couponApplied:y?d:"N/A",total:j,status:"pending_payment",createdAt:pj()},ce=(await id(Wr(Lt,"orders"),q)).id;new WidgetCheckout({currency:"COP",amountInCents:Math.round(j*100),reference:ce,publicKey:void 0,redirectUrl:"https://lilutecno.com/confirmacion-pago"}).open(function($){r()})}catch(q){console.error("Error al crear el pedido o iniciar el pago: ",q),alert("Hubo un error al procesar tu pedido. Por favor, intenta de nuevo.")}finally{x(!1)}};return f.jsxs("div",{className:"p-4 sm:p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Información de Envío"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("input",{type:"text",name:"name",placeholder:"Nombre completo *",value:s.name,onChange:M,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 transition"}),f.jsx("input",{type:"email",name:"email",placeholder:"Correo electrónico *",value:s.email,onChange:M,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 transition"}),f.jsx("input",{type:"tel",name:"phone",placeholder:"Teléfono de contacto *",value:s.phone,onChange:M,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 transition"}),f.jsx("input",{type:"text",name:"address",placeholder:"Dirección de entrega *",value:s.address,onChange:M,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 transition"}),f.jsx("input",{type:"text",name:"city",placeholder:"Ciudad *",value:s.city,onChange:M,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 transition"})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-800 mt-6 mb-3",children:"Opción de Envío"}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[f.jsxs("button",{onClick:()=>u("BOGOTA"),className:`p-4 border rounded-lg text-left transition-all duration-200 ${c==="BOGOTA"?"bg-blue-500 text-white border-blue-600 shadow-lg":"bg-white hover:bg-gray-100"}`,children:[f.jsx("p",{className:"font-bold",children:"Bogotá"}),f.jsx("p",{className:"text-sm",children:"$10.000 COP"})]}),f.jsxs("button",{onClick:()=>u("OTHER"),className:`p-4 border rounded-lg text-left transition-all duration-200 ${c==="OTHER"?"bg-blue-500 text-white border-blue-600 shadow-lg":"bg-white hover:bg-gray-100"}`,children:[f.jsx("p",{className:"font-bold",children:"Otra ciudad"}),f.jsx("p",{className:"text-sm",children:"$15.000 COP"})]})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-800 mt-6 mb-3",children:"Cupón de Descuento"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",placeholder:"Ej: ENVIOGRATIS",value:d,onChange:q=>p(q.target.value),disabled:y,className:"flex-grow p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 transition disabled:bg-gray-100"}),f.jsxs("button",{onClick:R,disabled:y||!d,className:"bg-gray-700 text-white px-4 rounded-lg hover:bg-gray-800 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[y?f.jsx(O2,{className:"w-5 h-5"}):f.jsx(lS,{className:"w-5 h-5"}),y?"Aplicado":"Aplicar"]})]}),f.jsxs("div",{className:"mt-6 border-t border-gray-200 pt-4",children:[f.jsxs("div",{className:"flex justify-between text-gray-600",children:[f.jsx("span",{children:"Subtotal:"}),f.jsx("span",{className:"font-medium",children:new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(e)})]}),f.jsxs("div",{className:`flex justify-between text-gray-600 ${y?"line-through text-red-500":""}`,children:[f.jsx("span",{children:"Envío:"}),f.jsx("span",{className:"font-medium",children:new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(c?qx[c]:0)})]}),y&&f.jsxs("div",{className:"flex justify-between text-green-600",children:[f.jsx("span",{children:"Envío con cupón:"}),f.jsx("span",{className:"font-medium",children:"$0"})]}),f.jsxs("div",{className:"flex justify-between font-bold text-xl mt-2 text-gray-800",children:[f.jsx("span",{children:"Total:"}),f.jsx("span",{children:new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(j)})]})]}),f.jsxs("div",{className:"mt-6 space-y-3",children:[f.jsx("button",{onClick:F,disabled:A||!c,className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-lg disabled:bg-gray-400 transition-colors text-lg",children:A?"Procesando...":`Pagar ${new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(j)}`}),f.jsx("button",{onClick:t,className:"w-full text-center text-gray-600 hover:text-gray-800 font-medium",children:"← Volver al carrito"})]})]})},Vk=({cart:n,onClose:e,onUpdateQuantity:t,onRemoveFromCart:r,onClearCart:s,addNotification:o})=>{const[c,u]=oe.useState(!1),d=n.reduce((_,A)=>_+A.price*A.quantity,0),p=n.reduce((_,A)=>_+A.quantity,0),y=_=>`https://picsum.photos/100/100?random=${_}`;return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 transition-opacity duration-300 ease-in-out",onClick:e,children:f.jsxs("div",{className:"bg-gray-50 rounded-2xl shadow-2xl w-full max-w-2xl flex flex-col max-h-[90vh] transform transition-all duration-300 ease-in-out scale-95 opacity-0 animate-modal-appear",onClick:_=>_.stopPropagation(),children:[f.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-teal-500 p-4 sm:p-6 text-white flex items-center justify-between rounded-t-2xl flex-shrink-0",children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:c?"Confirmar Pedido":`Mi Carrito (${p})`}),f.jsxs("div",{className:"flex items-center gap-3",children:[n.length>0&&!c&&f.jsx("button",{onClick:s,"aria-label":"Vaciar carrito",className:"hover:text-red-200 transition-colors",children:f.jsx(sb,{className:"h-5 w-5"})}),f.jsx("button",{onClick:e,"aria-label":"Cerrar modal",className:"hover:text-red-200 transition-colors",children:f.jsx(__,{className:"h-6 w-6"})})]})]}),c?f.jsx("div",{className:"flex-grow overflow-y-auto p-1",children:f.jsx(Uk,{cart:n,cartTotal:d,onBackToCart:()=>u(!1),onOrderSuccess:()=>{s(),e(),o("¡Pedido recibido! Gracias por tu compra.")}})}):n.length===0?f.jsxs("div",{className:"p-6 text-center flex flex-col items-center justify-center flex-grow",children:[f.jsx(ZE,{className:"w-16 h-16 text-gray-300 mb-4"}),f.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-2",children:"Tu carrito está vacío"}),f.jsx("p",{className:"text-gray-500 mb-6",children:"Añade productos para verlos aquí."}),f.jsx("button",{onClick:e,className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-6 rounded-lg shadow hover:shadow-md transition-all",children:"Continuar Comprando"})]}):f.jsxs("div",{className:"p-4 sm:p-6 flex-grow flex flex-col",children:[f.jsx("div",{className:"space-y-4 flex-grow overflow-y-auto max-h-96 pr-2 [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 [&::-webkit-scrollbar-thumb]:rounded-full",children:n.map(_=>f.jsxs("div",{className:"flex items-center gap-4 p-3 border border-gray-200 rounded-lg bg-white shadow-sm",children:[f.jsx("img",{src:_.image||y(_.id),alt:_.name,className:"w-16 h-16 object-cover rounded-md border border-gray-100",onError:A=>A.currentTarget.src=y(_.id)}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{className:"font-semibold text-gray-800 text-sm truncate",title:_.name,children:_.name}),f.jsxs("div",{className:"flex items-center justify-between mt-1",children:[f.jsx("span",{className:"font-bold text-green-600 text-sm",children:bo(_.price)}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:()=>t(_.id,_.quantity-1),className:"w-7 h-7 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-600 transition-colors","aria-label":"Disminuir cantidad",children:f.jsx(JE,{className:"w-4 h-4"})}),f.jsx("span",{className:"w-8 text-center font-semibold text-sm text-gray-700",children:_.quantity}),f.jsx("button",{onClick:()=>t(_.id,_.quantity+1),className:"w-7 h-7 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-600 transition-colors","aria-label":"Aumentar cantidad",children:f.jsx(QE,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>r(_.id),className:"w-7 h-7 rounded-full bg-red-100 hover:bg-red-200 flex items-center justify-center ml-2 text-red-600 transition-colors","aria-label":"Eliminar producto",children:f.jsx(sb,{className:"w-4 h-4"})})]})]})]})]},_.id))}),f.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4 flex-shrink-0",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("span",{className:"text-xl font-semibold text-gray-700",children:"Total:"}),f.jsx("span",{className:"text-2xl font-bold text-green-600",children:bo(d)})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("button",{onClick:()=>u(!0),className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-4 rounded-lg",children:"Finalizar Compra"}),f.jsx("button",{onClick:e,className:"w-full py-3 px-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:"Continuar Comprando"})]})]})]})]})})},Fk=({isOpen:n,onClose:e,categories:t,currentFilters:r,onApplyFilters:s,maxPrice:o})=>{const[c,u]=oe.useState(r);if(oe.useEffect(()=>{u(r)},[r,n]),!n)return null;const d=k=>{u(j=>({...j,category:k.target.value}))},p=k=>{u(j=>({...j,stockOnly:k.target.checked}))},y=k=>{const j=Math.min(Number(k.target.value),c.priceRange.max-5e4);u(M=>({...M,priceRange:{...M.priceRange,min:j}}))},_=k=>{const j=Math.max(Number(k.target.value),c.priceRange.min+5e4);u(M=>({...M,priceRange:{...M.priceRange,max:j}}))},A=()=>{s(c),e()},x=()=>{u(U1)};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm z-[100] flex justify-end transition-opacity duration-300 ease-in-out",onClick:e,children:f.jsxs("div",{className:"bg-white w-full max-w-md h-full shadow-2xl flex flex-col transform transition-transform duration-300 ease-in-out translate-x-full animate-slide-in-right",onClick:k=>k.stopPropagation(),children:[f.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[f.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center",children:[f.jsx(KE,{className:"w-5 h-5 mr-2 text-orange-500"})," Filtros"]}),f.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Cerrar filtros",children:f.jsx(__,{className:"h-5 w-5"})})]}),f.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto flex-grow [&::-webkit-scrollbar]:hidden [-ms-overflow-style:'none'] [scrollbar-width:'none']",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"mobile-category-filter",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Categoría"}),f.jsxs("select",{id:"mobile-category-filter",value:c.category,onChange:d,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-orange-400 transition-colors",children:[f.jsx("option",{value:"",children:"Todas las categorías"}),t.map(k=>f.jsxs("option",{value:k,children:[Mm[k]||Mm.DEFAULT," ",k]},k))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Rango de precio"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("input",{type:"range",id:"mobile-price-min",min:"0",max:o,value:c.priceRange.min,step:"50000",onChange:y,className:"w-full appearance-none h-2 bg-gray-200 rounded-lg cursor-pointer accent-orange-500"}),f.jsx("input",{type:"range",id:"mobile-price-max",min:"0",max:o,value:c.priceRange.max,step:"50000",onChange:_,className:"w-full appearance-none h-2 bg-gray-200 rounded-lg cursor-pointer accent-orange-500"}),f.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[f.jsx("span",{children:bo(c.priceRange.min)}),f.jsx("span",{children:bo(c.priceRange.max)})]})]})]}),f.jsx("div",{children:f.jsxs("label",{className:"flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",id:"mobile-stock-filter",checked:c.stockOnly,onChange:p,className:"rounded text-orange-500 focus:ring-orange-400 h-4 w-4 border-gray-300"}),f.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Solo productos en stock"})]})})]}),f.jsxs("div",{className:"p-6 border-t border-gray-200 space-y-3",children:[f.jsx("button",{onClick:A,className:"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-bold py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-300",children:"Aplicar filtros"}),f.jsx("button",{onClick:x,className:"w-full py-3 px-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:"Limpiar filtros"})]})]})})},gN=()=>{const[n,e]=oe.useState([]),t=oe.useCallback((s,o="success")=>{const c=Date.now();e(u=>[...u,{id:c,message:s,type:o}]),setTimeout(()=>{e(u=>u.filter(d=>d.id!==c))},3e3)},[]);return{notifications:n,addNotification:t,removeNotification:s=>{e(o=>o.filter(c=>c.id!==s))}}},d1="lilutecno_cart_v2",yN=n=>{const[e,t]=oe.useState([]);oe.useEffect(()=>{console.log("Attempting to load cart from localStorage...");const d=localStorage.getItem(d1);if(d)try{const p=JSON.parse(d);t(p),console.log("Cart loaded from localStorage:",p)}catch(p){console.error("Failed to parse cart from localStorage",p),localStorage.removeItem(d1)}else console.log("No cart found in localStorage.")},[]),oe.useEffect(()=>{console.log("Attempting to save cart to localStorage:",e),localStorage.setItem(d1,JSON.stringify(e))},[e]);const r=oe.useCallback(d=>{t(p=>p.filter(y=>y.id!==d)),n("Producto eliminado del carrito","error")},[n]),s=oe.useCallback((d,p)=>{if(p<=0){r(d);return}t(y=>y.map(_=>_.id===d?{..._,quantity:p}:_))},[r]),o=oe.useCallback(d=>{t(p=>{console.log("Cart before adding/updating:",p);const y=p.find(A=>A.id===d.id);let _;return y?_=p.map(A=>A.id===d.id?{...A,quantity:A.quantity+1}:A):_=[...p,{...d,quantity:1,image:d.images[0]}],console.log("Cart after adding/updating:",_),_}),n(`${d.name} agregado al carrito`)},[n]),c=oe.useCallback(()=>{t([]),n("Carrito vaciado","success")},[n]),u=e.reduce((d,p)=>d+p.quantity,0);return{cart:e,addToCart:o,removeFromCart:r,updateCartQuantity:s,clearCart:c,totalCartItems:u}},vN=()=>{const[n,e]=oe.useState([]),[t,r]=oe.useState([]),[s,o]=oe.useState([]),[c,u]=oe.useState(U1),[d,p]=oe.useState(!0),[y,_]=oe.useState(null),A=oe.useCallback(async(F=0)=>{p(!0),_(null);try{if(!Lt)throw new Error("Firestore not initialized");const q=Wr(Lt,"products"),ce=(await Fc(q)).docs.map($=>{const I=$.data();return{id:$.id,name:I.name,price:I.price,wholesalePrice:I.wholesalePrice||I.wholesale_price||null,old_price:I.old_price||I.originalPrice||null,category:I.category,stock:I.stock||I.inStock||0,summary:I.summary||I.description||"",images:Array.isArray(I.images)?I.images:I.image?[I.image]:[],features:Array.isArray(I.features)?I.features:I.specifications?Object.entries(I.specifications).map(([P,V])=>`${P}: ${V}`):[],storeId:I.storeId||I.store_id||"lilutecno",storeName:I.storeName||I.store_name||"Lilutecno",supplierId:I.supplierId||I.supplier_id||null,sku:I.sku||null,active:I.active!==!1,createdAt:I.createdAt?.toDate?I.createdAt.toDate():I.createdAt||new Date,updatedAt:I.updatedAt?.toDate?I.updatedAt.toDate():I.updatedAt||I.createdAt||new Date}});e(ce);const xe=[...new Set(ce.map($=>$.category))].sort();o(xe)}catch(q){if(console.error("Error fetching products from Firebase:",q),_(q.message||"Error al obtener productos"),F<3&&(q.code==="unavailable"||q.code==="resource-exhausted")){console.log(`Retrying fetch... (${F+1}/3)`),setTimeout(()=>{A(F+1)},1e3*(F+1));return}e([]),o([])}finally{p(!1)}},[]);oe.useEffect(()=>{A()},[A]);const x=oe.useCallback(()=>{let F=[...n];const{searchTerm:q,category:W,priceRange:ce,stockOnly:xe}=c;if(q){const $=q.toLowerCase();F=F.filter(I=>I.name.toLowerCase().includes($)||I.summary&&I.summary.toLowerCase().includes($))}W&&(F=F.filter($=>$.category===W)),xe&&(F=F.filter($=>$.stock>0)),F=F.filter($=>$.price>=ce.min&&$.price<=ce.max),r(F)},[n,c]);oe.useEffect(()=>{x()},[n,c,x]);const k=oe.useCallback(F=>{u(q=>({...q,...F}))},[]),j=oe.useCallback(F=>{u(q=>({...q,priceRange:F}))},[]),M=oe.useCallback(()=>{u(U1)},[]),R=t.filter(F=>F.old_price&&F.old_price>F.price).length;return{allProducts:n,filteredProducts:t,categories:s,filters:c,loading:d,error:y,handleSetFilters:k,handlePriceRangeChange:j,clearFilters:M,productsOnOfferCount:R,totalAvailableCount:t.length,refetchProducts:A}},bN=()=>{const[n,e]=oe.useState(null),[t,r]=oe.useState(!1),[s,o]=oe.useState(!1),[c,u]=oe.useState(!0),d=oe.useRef(0);oe.useEffect(()=>{const j=()=>{const M=window.scrollY;M>d.current&&M>150?u(!1):u(!0),d.current=M};return window.addEventListener("scroll",j,{passive:!0}),()=>{window.removeEventListener("scroll",j)}},[]);const p=oe.useCallback(j=>{e(j)},[]);return{selectedProduct:n,isCartModalOpen:t,isMobileFiltersModalOpen:s,isHeaderVisible:c,onProductClick:p,closeProductModal:()=>e(null),openCartModal:()=>r(!0),closeCartModal:()=>r(!1),openMobileFiltersModal:()=>o(!0),closeMobileFiltersModal:()=>o(!1),setMobileFiltersModalOpen:o}},Bk=()=>{const{notifications:n,addNotification:e,removeNotification:t}=gN(),{cart:r,addToCart:s,removeFromCart:o,updateCartQuantity:c,clearCart:u,totalCartItems:d}=yN(e),{filteredProducts:p,categories:y,filters:_,handleSetFilters:A,handlePriceRangeChange:x,clearFilters:k,productsOnOfferCount:j,totalAvailableCount:M,loading:R,error:F}=vN(),{isCartModalOpen:q,isMobileFiltersModalOpen:W,isHeaderVisible:ce,openCartModal:xe,closeCartModal:$,openMobileFiltersModal:I,setMobileFiltersModalOpen:P}=bN();return f.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[f.jsx(cf,{isHeaderVisible:ce,searchTerm:_.searchTerm,onSearchChange:V=>A({searchTerm:V}),totalCartItems:d,onCartClick:xe,onMobileFiltersClick:I,filteredCount:j,totalAvailableCount:M}),f.jsxs("main",{className:"container mx-auto px-4 py-8 flex-grow",children:[f.jsxs("section",{id:"categories",className:"mb-12",children:[f.jsxs("h2",{className:"text-3xl font-black text-gray-800 text-center mb-8",children:["Explora Nuestras ",f.jsx("span",{className:"text-orange-600",children:"Categorías"})]}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-8",children:y.map(V=>f.jsxs("button",{onClick:()=>A({category:V}),className:`p-4 rounded-xl border-2 transition-all duration-300 hover:shadow-lg transform hover:-translate-y-1 ${_.category===V?"border-orange-500 bg-orange-50 text-orange-600":"border-gray-200 bg-white text-gray-700 hover:border-orange-300"}`,children:[f.jsx("div",{className:"text-2xl mb-2",children:V==="Electrónicos"?"📱":V==="Computadoras"?"💻":V==="Audio"?"🎵":V==="Gaming"?"🎮":V==="Accesorios"?"🔌":"📦"}),f.jsx("div",{className:"text-sm font-semibold",children:V})]},V))})]}),f.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[f.jsx(Ik,{categories:y,filters:_,onFilterChange:A,onPriceChange:x,onClearFilters:k,maxPrice:M1}),F?f.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-64 bg-white rounded-xl shadow-sm p-8 text-center",children:[f.jsx("div",{className:"text-5xl mb-4",children:"⚠️"}),f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Error de Conexión"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"No se pudieron cargar los productos. Verifica tu conexión a internet."}),f.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"Reintentar"})]}):R?f.jsxs("div",{className:"flex justify-center items-center w-full h-64",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"}),f.jsx("span",{className:"ml-3 text-gray-600",children:"Cargando productos..."})]}):p.length===0&&!_.searchTerm&&!_.category?f.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-64 bg-white rounded-xl shadow-sm p-8 text-center",children:[f.jsx("div",{className:"text-5xl mb-4",children:"📦"}),f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Próximamente"}),f.jsx("p",{className:"text-gray-600",children:"Estamos trabajando para traerte los mejores productos muy pronto."})]}):f.jsx(Pk,{products:p,onAddToCart:s})]})]}),f.jsxs("footer",{className:"bg-gray-800 text-white text-center py-6",children:[f.jsxs("p",{children:["© ",new Date().getFullYear()," LiluTecno. Todos los derechos reservados."]}),f.jsx("p",{className:"text-sm text-gray-400",children:"Tecnología Mundial a Tu Alcance!"})]}),q&&f.jsx(Vk,{cart:r,onClose:$,onUpdateQuantity:c,onRemoveFromCart:o,onClearCart:u,addNotification:e}),W&&f.jsx(Fk,{isOpen:W,onClose:()=>P(!1),categories:y,currentFilters:_,onApplyFilters:V=>{A(V),P(!1)},maxPrice:M1}),f.jsx(Dk,{}),f.jsx("div",{className:"fixed top-4 right-4 z-[1000] space-y-2",children:n.map(V=>f.jsx(Ok,{message:V.message,type:V.type,onClose:()=>t(V.id)},V.id))})]})},xN=oe.createContext(void 0),qk=({children:n})=>{const{notifications:e,addNotification:t,removeNotification:r}=gN(),{cart:s,addToCart:o,removeFromCart:c,updateCartQuantity:u,clearCart:d,totalCartItems:p}=yN(t);return f.jsx(xN.Provider,{value:{cart:s,addToCart:o,removeFromCart:c,updateCartQuantity:u,clearCart:d,totalCartItems:p,addNotification:t,notifications:e,removeNotification:r},children:n})},zk=()=>{const n=oe.useContext(xN);if(n===void 0)throw new Error("useCartContext must be used within a CartProvider");return n},Hk=()=>{const{productId:n}=d_(),e=al(),[t,r]=oe.useState(null),[s,o]=oe.useState(!0),[c,u]=oe.useState(null),[d,p]=oe.useState(""),{addNotification:y,addToCart:_,cart:A,totalCartItems:x}=zk(),{filters:k,handleSetFilters:j,productsOnOfferCount:M,totalAvailableCount:R}=vN(),{isHeaderVisible:F,openCartModal:q,openMobileFiltersModal:W}=bN();oe.useEffect(()=>{(async()=>{if(!n){u("ID de producto no proporcionado."),o(!1);return}try{const T=Kr(Lt,"products",n),D=await If(T);if(D.exists()){const O={id:D.id,...D.data()};r(O),p(O.images[0]||`https://picsum.photos/600/600?random=${O.id}`)}else u("Producto no encontrado.")}catch{u("Error al cargar el producto.")}finally{o(!1)}})(),window.scrollTo({top:0,behavior:"smooth"})},[n]);const ce=oe.useMemo(()=>{if(!t)return[];const V=[],T=t.features.join(" ").toLowerCase();return T.includes("hdmi")&&V.push({name:"HDMI",icon:iS}),(T.includes("bluetooth")||T.includes("bt"))&&V.push({name:"Bluetooth",icon:sS}),V},[t]);if(s)return f.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[f.jsx(cf,{}),f.jsxs("main",{className:"container mx-auto px-4 py-8 flex-grow flex items-center justify-center",children:[f.jsx("span",{className:"sr-only",children:"Cargando producto..."}),f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"})]})]});if(c)return f.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[f.jsx(cf,{}),f.jsxs("main",{className:"container mx-auto px-4 py-8 flex-grow flex flex-col items-center justify-center text-center",children:[f.jsxs("p",{className:"text-lg text-red-600",role:"alert",children:["Error: ",c]}),f.jsx("button",{onClick:()=>e("/"),className:"mt-4 px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-400",children:"Volver al inicio"})]})]});if(!t)return f.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[f.jsx(cf,{}),f.jsxs("main",{className:"container mx-auto px-4 py-8 flex-grow flex flex-col items-center justify-center text-center",children:[f.jsx("p",{className:"text-lg text-gray-700",children:"Producto no disponible."}),f.jsx("button",{onClick:()=>e("/"),className:"mt-4 px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-400",children:"Volver al inicio"})]})]});const xe=t.stock>0,$=t.old_price&&t.old_price>t.price,I=()=>{t?(_(t),y(`¡${t.name} añadido al carrito!`,"success")):y("Error: No se pudo añadir el producto al carrito.","error")},P=`https://picsum.photos/600/600?random=${t.id}`;return f.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[f.jsx(cf,{isHeaderVisible:F,searchTerm:k.searchTerm,onSearchChange:V=>j({searchTerm:V}),totalCartItems:x,onCartClick:q,onMobileFiltersClick:W,filteredCount:M,totalAvailableCount:R}),f.jsx("main",{className:"container mx-auto px-2 sm:px-4 py-0 flex-grow",children:f.jsxs("section",{className:"w-full max-w-5xl bg-white rounded-2xl shadow-lg p-2 sm:p-4 md:p-6 flex flex-col md:flex-row gap-4 md:gap-8 mt-2 md:mt-6",children:[f.jsxs("button",{onClick:()=>e(-1),className:"mb-4 mt-0 pt-0 flex items-center text-gray-600 hover:text-orange-500 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-400","aria-label":"Volver a la lista de productos",children:[f.jsx(oS,{className:"h-5 w-5 mr-2"}),"Volver"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-10",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("div",{className:"relative w-full aspect-square bg-gray-100 rounded-lg shadow-lg border border-gray-200 overflow-hidden",children:f.jsx("img",{id:"main-modal-image",src:d,alt:t.name,className:"w-full h-full object-contain",loading:"lazy",decoding:"async",onError:V=>V.currentTarget.src=P,tabIndex:0,"aria-label":`Imagen principal de ${t.name}`})}),t.images.length>1&&f.jsx("div",{className:"thumbnail-gallery flex items-center gap-2 mt-4 overflow-x-auto pb-2",children:t.images.map((V,T)=>f.jsx("img",{src:V,loading:"lazy",alt:`Miniatura ${T+1} de ${t.name}`,className:`w-16 h-16 object-cover rounded-md cursor-pointer border-2 transition-all duration-200
                        ${d===V?"border-orange-500 shadow-md scale-105":"border-transparent hover:border-orange-300"}`,onClick:()=>p(V),onKeyDown:D=>{D.key==="Enter"&&p(V)},tabIndex:0,"aria-label":`Seleccionar miniatura ${T+1} de ${t.name}`,onError:D=>D.currentTarget.src=`https://picsum.photos/100/100?random=${t.id}${T}`},T))}),ce.length>0&&f.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 flex items-center justify-center gap-x-6 gap-y-2 text-gray-500 flex-wrap",children:ce.map(V=>f.jsxs("div",{className:"flex flex-col items-center gap-1",title:V.name,children:[f.jsx(V.icon,{className:"h-8 w-8 text-gray-700"}),f.jsx("span",{className:"text-xs font-semibold",children:V.name})]},V.name))})]}),f.jsxs("div",{className:"space-y-4 md:space-y-6 flex flex-col",children:[f.jsx("div",{className:"flex items-start justify-between",children:f.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold text-gray-900 tracking-tight pr-4",children:t.name})}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Precio"}),f.jsxs("div",{className:"flex items-end gap-3 flex-wrap",children:[f.jsx("p",{className:"text-4xl font-extrabold text-red-600 tracking-tight",children:bo(t.price)}),$&&f.jsx("p",{className:"text-xl font-medium text-gray-400 line-through",children:bo(t.old_price)}),$&&f.jsxs("div",{className:"ml-auto flex items-center gap-1 rounded-full bg-red-100 px-3 py-1 text-sm font-bold text-red-700",children:[f.jsx(rS,{className:"h-4 w-4"}),f.jsx("span",{children:"OFERTA"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Disponibilidad"}),f.jsxs("div",{className:`inline-flex items-center gap-1.5 rounded-full px-3 py-1 text-sm font-bold ${xe?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[xe?f.jsx(O2,{className:"w-4 h-4"}):f.jsx(N_,{className:"w-4 h-4"}),xe?`${t.stock} disponibles`:"Agotado"]})]}),t.summary&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Resumen"}),f.jsx("p",{className:"text-gray-700 text-base",children:t.summary})]}),t.features&&t.features.length>0&&f.jsxs("div",{className:"space-y-2 border-t border-gray-200 pt-4",children:[f.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Características Principales:"}),f.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-600 marker:text-orange-500",children:t.features.map((V,T)=>f.jsx("li",{children:V},T))})]}),f.jsxs("div",{className:"mt-auto pt-6 space-y-3 flex flex-col gap-3",children:[xe&&f.jsxs("button",{onClick:I,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-bold py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-orange-400 focus:ring-opacity-75",children:[f.jsx(D2,{className:"w-5 h-5"}),"Agregar al Carrito"]}),f.jsxs("button",{onClick:()=>{const T=`Tengo una pregunta sobre este producto: ${window.location.href}`,D=`https://wa.me/573163026089?text=${encodeURIComponent(T)}`;window.open(D,"_blank","noopener,noreferrer")},className:"w-full flex items-center justify-center gap-2 bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-green-400",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12c0 5.385 4.365 9.75 9.75 9.75.978 0 1.93-.144 2.828-.412.267-.08.553-.02.753.174l2.316 2.316a.75.75 0 0 0 1.28-.53v-3.068a.75.75 0 0 1 .22-.53A9.708 9.708 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12Z"})}),"Preguntar por WhatsApp"]})]})]})]})]})}),f.jsxs("footer",{className:"bg-gray-800 text-white text-center py-6",children:[f.jsxs("p",{children:["© ",new Date().getFullYear()," LiluTecno. Todos los derechos reservados."]}),f.jsx("p",{className:"text-sm text-gray-400",children:"Tecnología Mundial a Tu Alcance!"})]})]})},Gk=()=>{const[n,e]=oe.useState(""),[t,r]=oe.useState(""),[s,o]=oe.useState(""),[c,u]=oe.useState(!1),d=al(),p=Bu(),{userProfile:y}=ga(),_=async A=>{if(A.preventDefault(),o(""),!By||!p){o("Firebase no está configurado correctamente. Por favor, contacta al administrador."),u(!1);return}u(!0);try{await zC(p,n,t),y?.role==="admin"?d("/admin"):d("/")}catch(x){x.code==="auth/user-not-found"?o("No existe una cuenta con este email."):x.code==="auth/wrong-password"?o("Contraseña incorrecta."):x.code==="auth/invalid-email"?o("Email inválido."):o("Error al iniciar sesión. Verifica tus credenciales."),console.error("Login error:",x)}finally{u(!1)}};return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-500 via-red-500 to-purple-600 flex items-center justify-center px-4",children:f.jsxs("div",{className:"max-w-md w-full",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"bg-white rounded-full p-6 shadow-2xl inline-block mb-4",children:f.jsx("span",{className:"text-4xl font-black bg-gradient-to-r from-orange-500 to-purple-600 bg-clip-text text-transparent",children:"LiluTecno"})}),f.jsx("h1",{className:"text-3xl font-black text-white mb-2",children:"¡Bienvenido!"}),f.jsx("p",{className:"text-white/80 text-sm",children:"Inicia sesión en tu cuenta"})]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 backdrop-blur-sm border border-white/25",children:[f.jsxs("form",{onSubmit:_,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-800 mb-2",children:"Correo Electrónico"}),f.jsx("input",{id:"email",type:"email",value:n,onChange:A=>e(A.target.value),placeholder:"tu@email.com",required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-800 mb-2",children:"Contraseña"}),f.jsx("input",{id:"password",type:"password",value:t,onChange:A=>r(A.target.value),placeholder:"••••••••",required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300"})]}),s&&f.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm",children:s}),f.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white font-bold py-3 px-6 rounded-xl hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:c?f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Iniciando sesión..."]}):"Iniciar Sesión"})]}),f.jsxs("div",{className:"mt-6 text-center space-y-3",children:[f.jsxs("p",{className:"text-sm text-gray-600",children:["¿No tienes cuenta?"," ",f.jsx(qn,{to:"/register",className:"text-orange-600 font-semibold hover:text-orange-700 transition-colors",children:"Regístrate aquí"})]}),f.jsx("p",{className:"text-xs text-gray-500",children:f.jsx("a",{href:"#",className:"hover:text-orange-600 transition-colors",children:"¿Olvidaste tu contraseña?"})})]})]}),f.jsx("div",{className:"text-center mt-6",children:f.jsx(qn,{to:"/",className:"text-white/80 hover:text-white text-sm font-medium transition-colors",children:"← Volver al inicio"})})]})})},$k=()=>{const[n,e]=oe.useState({displayName:"",email:"",password:"",confirmPassword:""}),[t,r]=oe.useState(""),[s,o]=oe.useState(!1),c=al(),u=Bu(),d=_=>{const{name:A,value:x}=_.target;e(k=>({...k,[A]:x}))},p=()=>n.displayName.trim()?n.email.trim()?n.password.length<6?(r("La contraseña debe tener al menos 6 caracteres."),!1):n.password!==n.confirmPassword?(r("Las contraseñas no coinciden."),!1):!0:(r("El email es requerido."),!1):(r("El nombre es requerido."),!1),y=async _=>{if(_.preventDefault(),r(""),!By||!u||!Lt){r("Firebase no está configurado correctamente. Por favor, contacta al administrador.");return}if(p()){o(!0);try{const x=(await qC(u,n.email,n.password)).user;await GC(x,{displayName:n.displayName}),await $3(Kr(Lt,"users",x.uid),{uid:x.uid,email:n.email,displayName:n.displayName,role:"user",active:!0,createdAt:new Date,updatedAt:new Date}),c("/")}catch(A){A.code==="auth/email-already-in-use"?r("Ya existe una cuenta con este email."):A.code==="auth/invalid-email"?r("Email inválido."):A.code==="auth/weak-password"?r("La contraseña es muy débil."):r("Error al crear la cuenta. Inténtalo de nuevo."),console.error("Register error:",A)}finally{o(!1)}}};return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-red-500 to-orange-500 flex items-center justify-center px-4",children:f.jsxs("div",{className:"max-w-md w-full",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"bg-white rounded-full p-6 shadow-2xl inline-block mb-4",children:f.jsx("span",{className:"text-4xl font-black bg-gradient-to-r from-purple-600 to-orange-500 bg-clip-text text-transparent",children:"LiluTecno"})}),f.jsx("h1",{className:"text-3xl font-black text-white mb-2",children:"¡Únete a Nosotros!"}),f.jsx("p",{className:"text-white/80 text-sm",children:"Crea tu cuenta y comienza a comprar"})]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 backdrop-blur-sm border border-white/25",children:[f.jsxs("form",{onSubmit:y,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"displayName",className:"block text-sm font-semibold text-gray-800 mb-2",children:"Nombre Completo"}),f.jsx("input",{id:"displayName",name:"displayName",type:"text",value:n.displayName,onChange:d,placeholder:"Tu nombre completo",required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-800 mb-2",children:"Correo Electrónico"}),f.jsx("input",{id:"email",name:"email",type:"email",value:n.email,onChange:d,placeholder:"tu@email.com",required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-800 mb-2",children:"Contraseña"}),f.jsx("input",{id:"password",name:"password",type:"password",value:n.password,onChange:d,placeholder:"Mínimo 6 caracteres",required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-800 mb-2",children:"Confirmar Contraseña"}),f.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:n.confirmPassword,onChange:d,placeholder:"Repite tu contraseña",required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"})]}),t&&f.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm",children:t}),f.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-purple-600 to-orange-500 text-white font-bold py-3 px-6 rounded-xl hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:s?f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Creando cuenta..."]}):"Crear Cuenta"})]}),f.jsxs("div",{className:"mt-6 text-center space-y-3",children:[f.jsxs("p",{className:"text-sm text-gray-600",children:["¿Ya tienes cuenta?"," ",f.jsx(qn,{to:"/login",className:"text-purple-600 font-semibold hover:text-purple-700 transition-colors",children:"Inicia sesión aquí"})]}),f.jsxs("p",{className:"text-xs text-gray-500",children:["Al registrarte, aceptas nuestros"," ",f.jsx("a",{href:"#",className:"hover:text-purple-600 transition-colors",children:"Términos y Condiciones"})]})]})]}),f.jsx("div",{className:"text-center mt-6",children:f.jsx(qn,{to:"/",className:"text-white/80 hover:text-white text-sm font-medium transition-colors",children:"← Volver al inicio"})})]})})},Yk=()=>f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx("div",{className:"bg-gradient-to-r from-orange-500 via-red-500 to-purple-600 text-white py-16",children:f.jsxs("div",{className:"container mx-auto px-4 text-center",children:[f.jsxs("h1",{className:"text-4xl md:text-6xl font-black mb-4",children:["Sobre ",f.jsx("span",{className:"text-yellow-300",children:"LiluTecno"})]}),f.jsx("p",{className:"text-xl md:text-2xl text-white/90 max-w-3xl mx-auto",children:"La plataforma número 1 para hacer dropshipping en Colombia"})]})}),f.jsx("div",{className:"container mx-auto px-4 py-16",children:f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-12",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("span",{className:"text-6xl mb-4 block",children:"🚀"}),f.jsx("h2",{className:"text-3xl font-black text-gray-800 mb-4",children:"Nuestra Historia"})]}),f.jsxs("div",{className:"prose prose-lg max-w-none",children:[f.jsxs("p",{className:"text-gray-700 text-lg leading-relaxed mb-6",children:[f.jsx("strong",{className:"text-orange-600",children:"LiluTecno"})," comenzó su aventura en ",f.jsx("strong",{children:"2022"})," con una visión clara: democratizar el acceso a la tecnología mundial en Colombia y convertirse en la plataforma líder de dropshipping en el país."]}),f.jsx("p",{className:"text-gray-700 text-lg leading-relaxed mb-6",children:"Desde nuestros humildes inicios, hemos trabajado incansablemente para construir una plataforma que no solo conecte a vendedores y compradores, sino que también empodere a emprendedores colombianos para que puedan acceder a productos tecnológicos de calidad mundial sin necesidad de grandes inversiones iniciales."})]})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("span",{className:"text-5xl mb-3 block",children:"🎯"}),f.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Nuestra Misión"})]}),f.jsx("p",{className:"text-gray-700 text-center",children:"Facilitar el acceso a tecnología mundial de alta calidad en Colombia, proporcionando una plataforma confiable y eficiente para el dropshipping que empodere a emprendedores y satisfaga las necesidades tecnológicas de nuestros clientes."})]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("span",{className:"text-5xl mb-3 block",children:"🔮"}),f.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Nuestra Visión"})]}),f.jsx("p",{className:"text-gray-700 text-center",children:"Convertirnos en la plataforma número 1 de comercio electrónico en Colombia, compitiendo directamente con gigantes como Mercado Libre, y expandir nuestro alcance a toda Latinoamérica."})]})]}),f.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 rounded-2xl shadow-2xl p-8 text-center mb-12",children:[f.jsx("h3",{className:"text-3xl font-black text-black mb-8",children:"En la Actualidad"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-6 border border-white/25",children:[f.jsx("div",{className:"text-4xl font-black text-black mb-2",children:"2022"}),f.jsx("div",{className:"text-lg font-semibold text-black",children:"Año de Fundación"})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-6 border border-white/25",children:[f.jsx("div",{className:"text-4xl font-black text-black mb-2",children:"#1"}),f.jsx("div",{className:"text-lg font-semibold text-black",children:"Plataforma Dropshipping"})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-6 border border-white/25",children:[f.jsx("div",{className:"text-4xl font-black text-black mb-2",children:"🇨🇴"}),f.jsx("div",{className:"text-lg font-semibold text-black",children:"Líderes en Colombia"})]})]})]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-12",children:[f.jsxs("h3",{className:"text-3xl font-black text-gray-800 text-center mb-8",children:["¿Por qué elegir ",f.jsx("span",{className:"text-orange-600",children:"LiluTecno?"})]}),f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"text-center p-6",children:[f.jsx("span",{className:"text-4xl mb-3 block",children:"⚡"}),f.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:"Tecnología Mundial"}),f.jsx("p",{className:"text-gray-600 text-sm",children:"Acceso directo a los productos tecnológicos más innovadores del mundo"})]}),f.jsxs("div",{className:"text-center p-6",children:[f.jsx("span",{className:"text-4xl mb-3 block",children:"🤝"}),f.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:"Dropshipping Fácil"}),f.jsx("p",{className:"text-gray-600 text-sm",children:"Plataforma intuitiva que facilita el dropshipping sin complicaciones"})]}),f.jsxs("div",{className:"text-center p-6",children:[f.jsx("span",{className:"text-4xl mb-3 block",children:"📈"}),f.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:"Crecimiento Garantizado"}),f.jsx("p",{className:"text-gray-600 text-sm",children:"Herramientas y soporte para hacer crecer tu negocio exitosamente"})]}),f.jsxs("div",{className:"text-center p-6",children:[f.jsx("span",{className:"text-4xl mb-3 block",children:"🛡️"}),f.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:"Confianza Total"}),f.jsx("p",{className:"text-gray-600 text-sm",children:"Plataforma segura con garantías de calidad y servicio"})]}),f.jsxs("div",{className:"text-center p-6",children:[f.jsx("span",{className:"text-4xl mb-3 block",children:"🌎"}),f.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:"Alcance Global"}),f.jsx("p",{className:"text-gray-600 text-sm",children:"Conectamos Colombia con los mejores proveedores mundiales"})]}),f.jsxs("div",{className:"text-center p-6",children:[f.jsx("span",{className:"text-4xl mb-3 block",children:"💪"}),f.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:"Apoyo Constante"}),f.jsx("p",{className:"text-gray-600 text-sm",children:"Soporte técnico y comercial para emprendedores 24/7"})]})]})]}),f.jsxs("div",{className:"text-center bg-gradient-to-r from-purple-600 to-orange-500 rounded-2xl shadow-2xl p-8",children:[f.jsx("h3",{className:"text-3xl font-black text-white mb-4",children:"¡Únete a la Revolución Tecnológica!"}),f.jsx("p",{className:"text-white/90 text-lg mb-8 max-w-2xl mx-auto",children:"Forma parte de la comunidad LiluTecno y comienza tu aventura en el mundo del dropshipping tecnológico. El futuro del comercio electrónico en Colombia comienza contigo."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[f.jsx(qn,{to:"/register",className:"bg-white text-purple-600 font-bold py-3 px-8 rounded-xl hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:"Crear Cuenta Gratis"}),f.jsx(qn,{to:"/",className:"bg-white/20 backdrop-blur-sm text-white font-bold py-3 px-8 rounded-xl border border-white/25 hover:bg-white/30 transition-all duration-300",children:"Explorar Productos"})]})]})]})}),f.jsx("footer",{className:"bg-gray-800 text-white text-center py-8",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsx("p",{className:"text-lg font-semibold mb-2",children:"LiluTecno - Tecnología Mundial a Tu Alcance"}),f.jsx("p",{className:"text-gray-400 text-sm",children:"© 2024 LiluTecno. Todos los derechos reservados."})]})})]}),lm=({children:n,roles:e,requireAuth:t=!0})=>{const{currentUser:r,userProfile:s,loading:o,hasRole:c}=ga();return o?f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):t&&!r?f.jsx(pE,{to:"/login",replace:!0}):e&&e.length>0&&(!s||!e.some(u=>c(u)))?f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Acceso Denegado"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"No tienes permisos para acceder a esta página."}),f.jsx("button",{onClick:()=>window.history.back(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Volver"})]})}):s?.active?f.jsx(f.Fragment,{children:n}):f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Cuenta Inactiva"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Tu cuenta ha sido desactivada. Contacta al administrador."})]})})},wh=({title:n,value:e,subtitle:t,color:r="blue",icon:s})=>{const o={blue:"bg-blue-50 border-blue-200 text-blue-800",green:"bg-green-50 border-green-200 text-green-800",yellow:"bg-yellow-50 border-yellow-200 text-yellow-800",red:"bg-red-50 border-red-200 text-red-800",purple:"bg-purple-50 border-purple-200 text-purple-800"};return f.jsx("div",{className:`rounded-xl border-2 p-6 ${o[r]}`,children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium opacity-75",children:n}),f.jsx("p",{className:"text-3xl font-bold",children:e}),t&&f.jsx("p",{className:"text-sm opacity-75 mt-1",children:t})]}),s&&f.jsx("div",{className:"text-4xl opacity-50",children:s})]})})},Wk=({stats:n,storeStats:e,loading:t})=>t?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(r=>f.jsx("div",{className:"animate-pulse",children:f.jsx("div",{className:"bg-gray-200 rounded-xl h-32"})},r))}):f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsx(wh,{title:"Total Productos",value:n.totalProducts.toLocaleString(),subtitle:"En inventario",color:"blue",icon:"📦"}),f.jsx(wh,{title:"Tiendas Activas",value:n.totalStores.toLocaleString(),subtitle:"Registradas",color:"green",icon:"🏪"}),f.jsx(wh,{title:"Usuarios Totales",value:n.totalUsers.toLocaleString(),subtitle:"Registrados",color:"purple",icon:"👥"}),f.jsx(wh,{title:"Productos Bajo Stock",value:n.lowStockProducts.toLocaleString(),subtitle:"≤ 5 unidades",color:"red",icon:"⚠️"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsx(wh,{title:"Valor Total Inventario",value:rg(n.totalRevenue),subtitle:"Estimado en COP",color:"green",icon:"💰"}),f.jsx(wh,{title:"Pedidos Recientes",value:n.recentOrders.toLocaleString(),subtitle:"Últimos 30 días",color:"blue",icon:"📊"})]}),f.jsxs("div",{className:"mt-8",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Estadísticas por Tienda"}),f.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tienda"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Productos"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor Total"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bajo Stock"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(r=>f.jsxs("tr",{className:"hover:bg-gray-50",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"flex items-center",children:f.jsx("div",{className:"text-sm font-medium text-gray-900",children:r.storeName})})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:r.totalProducts.toLocaleString()}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:rg(r.totalValue)}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${r.lowStockCount>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:r.lowStockCount})})]},r.storeId))})]})})})]})]}),Kk=({selectedStore:n})=>{const[e,t]=oe.useState([]),[r,s]=oe.useState([]),[o,c]=oe.useState(!0),[u,d]=oe.useState(null),[p,y]=oe.useState({stock:0,price:0,wholesalePrice:0}),[_,A]=oe.useState({search:"",category:"",lowStock:!1}),{userProfile:x}=ga();oe.useEffect(()=>{const q=rd(Wr(Lt,"products"),Ly("updatedAt","desc")),W=Gl(q,ce=>{const xe=ce.docs.map($=>{const I=$.data();return{id:$.id,name:I.name,price:I.price,wholesalePrice:I.wholesalePrice||0,old_price:I.old_price,category:I.category,stock:I.stock,summary:I.summary,images:I.images||[],features:I.features||[],storeId:I.storeId||"lilutecno",storeName:I.storeName||"Lilutecno",supplierId:I.supplierId,sku:I.sku,active:I.active!==!1,createdAt:I.createdAt?.toDate()||new Date,updatedAt:I.updatedAt?.toDate()||new Date}});t(xe),c(!1)});return()=>W()},[]),oe.useEffect(()=>{let q=e;if(n&&(q=q.filter(W=>W.storeId===n)),_.search){const W=_.search.toLowerCase();q=q.filter(ce=>ce.name.toLowerCase().includes(W)||ce.category.toLowerCase().includes(W)||ce.sku?.toLowerCase().includes(W))}_.category&&(q=q.filter(W=>W.category===_.category)),_.lowStock&&(q=q.filter(W=>W.stock<=5)),s(q)},[e,_,n]);const k=[...new Set(e.map(q=>q.category))].sort(),j=q=>{d(q.id),y({stock:q.stock,price:q.price,wholesalePrice:q.wholesalePrice||0})},M=async q=>{try{const W=Kr(Lt,"products",q);await Ol(W,{stock:p.stock,price:p.price,wholesalePrice:p.wholesalePrice,updatedAt:new Date}),d(null)}catch(W){console.error("Error updating product:",W),alert("Error al actualizar el producto")}},R=()=>{d(null)},F=async q=>{try{const W=Kr(Lt,"products",q.id);await Ol(W,{active:!q.active,updatedAt:new Date})}catch(W){console.error("Error toggling product status:",W),alert("Error al cambiar el estado del producto")}};return o?f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filtros de Inventario"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Buscar producto"}),f.jsx("input",{type:"text",placeholder:"Nombre, categoría o SKU...",value:_.search,onChange:q=>A(W=>({...W,search:q.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoría"}),f.jsxs("select",{value:_.category,onChange:q=>A(W=>({...W,category:q.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[f.jsx("option",{value:"",children:"Todas las categorías"}),k.map(q=>f.jsx("option",{value:q,children:q},q))]})]}),f.jsx("div",{className:"flex items-end",children:f.jsxs("label",{className:"flex items-center",children:[f.jsx("input",{type:"checkbox",checked:_.lowStock,onChange:q=>A(W=>({...W,lowStock:q.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),f.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Solo bajo stock"})]})}),f.jsx("div",{className:"flex items-end",children:f.jsx("button",{onClick:()=>A({search:"",category:"",lowStock:!1}),className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-900 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Limpiar filtros"})})]})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[f.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:f.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Inventario de Productos (",r.length,")"]})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tienda"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio Venta"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio Mayorista"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(q=>f.jsxs("tr",{className:"hover:bg-gray-50",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:q.images&&q.images.length>0?f.jsx("img",{className:"h-10 w-10 rounded object-cover",src:q.images[0],alt:q.name}):f.jsx("div",{className:"h-10 w-10 rounded bg-gray-200 flex items-center justify-center",children:"📦"})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.name}),f.jsx("div",{className:"text-sm text-gray-500",children:q.category})]})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:q.storeName}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u===q.id?f.jsx("input",{type:"number",value:p.stock,onChange:W=>y(ce=>({...ce,stock:parseInt(W.target.value)||0})),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm",min:"0"}):f.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${q.stock<=5?"bg-red-100 text-red-800":q.stock<=10?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:q.stock})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u===q.id?f.jsx("input",{type:"number",value:p.price,onChange:W=>y(ce=>({...ce,price:parseFloat(W.target.value)||0})),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm",min:"0",step:"1000"}):rg(q.price)}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u===q.id?f.jsx("input",{type:"number",value:p.wholesalePrice,onChange:W=>y(ce=>({...ce,wholesalePrice:parseFloat(W.target.value)||0})),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm",min:"0",step:"1000"}):rg(q.wholesalePrice||0)}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("button",{onClick:()=>F(q),className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full cursor-pointer ${q.active?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:q.active?"Activo":"Inactivo"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:u===q.id?f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:()=>M(q.id),className:"text-green-600 hover:text-green-900",children:"Guardar"}),f.jsx("button",{onClick:R,className:"text-gray-600 hover:text-gray-900",children:"Cancelar"})]}):f.jsx("button",{onClick:()=>j(q),className:"text-blue-600 hover:text-blue-900",children:"Editar"})})]},q.id))})]})})]})]})},Xk=({onStoreSelect:n})=>{const[e,t]=oe.useState([]),[r,s]=oe.useState([]),[o,c]=oe.useState(!0),[u,d]=oe.useState(!1),[p,y]=oe.useState({name:"",description:"",type:"partner_store",ownerId:""}),{userProfile:_}=ga();oe.useEffect(()=>{const R=Wr(Lt,"stores"),F=Gl(R,ce=>{const xe=ce.docs.map($=>{const I=$.data();return{id:$.id,name:I.name,type:I.type,ownerId:I.ownerId,description:I.description,logo:I.logo,active:I.active!==!1,createdAt:I.createdAt?.toDate()||new Date,updatedAt:I.updatedAt?.toDate()||new Date}});t(xe),c(!1)}),q=Wr(Lt,"users"),W=Gl(q,ce=>{const xe=ce.docs.map($=>{const I=$.data();return{uid:$.id,email:I.email,displayName:I.displayName,role:I.role||"user",storeId:I.storeId,active:I.active!==!1,createdAt:I.createdAt?.toDate()||new Date,updatedAt:I.updatedAt?.toDate()||new Date}});s(xe)});return()=>{F(),W()}},[]);const A=async()=>{if(!p.name.trim()){alert("El nombre de la tienda es requerido");return}try{await id(Wr(Lt,"stores"),{...p,active:!0,createdAt:new Date,updatedAt:new Date}),y({name:"",description:"",type:"partner_store",ownerId:""}),d(!1)}catch(R){console.error("Error adding store:",R),alert("Error al agregar la tienda")}},x=async R=>{try{const F=Kr(Lt,"stores",R.id);await Ol(F,{active:!R.active,updatedAt:new Date})}catch(F){console.error("Error updating store status:",F),alert("Error al actualizar el estado de la tienda")}},k=async R=>{if(confirm(`¿Estás seguro de que quieres eliminar la tienda "${R.name}"?`))try{const F=Kr(Lt,"stores",R.id);await Y3(F)}catch(F){console.error("Error deleting store:",F),alert("Error al eliminar la tienda")}},j=R=>r.find(F=>F.uid===R),M=R=>Math.floor(Math.random()*100);return o?f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Gestión de Tiendas"}),f.jsx("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"+ Agregar Tienda"})]}),u&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[f.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Agregar Nueva Tienda"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la tienda *"}),f.jsx("input",{type:"text",value:p.name,onChange:R=>y(F=>({...F,name:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: Tienda de Electrónicos"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción"}),f.jsx("textarea",{value:p.description,onChange:R=>y(F=>({...F,description:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3,placeholder:"Descripción de la tienda..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de tienda"}),f.jsxs("select",{value:p.type,onChange:R=>y(F=>({...F,type:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[f.jsx("option",{value:"partner_store",children:"Tienda Socio"}),f.jsx("option",{value:"lilutecno",children:"Lilutecno"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Propietario"}),f.jsxs("select",{value:p.ownerId,onChange:R=>y(F=>({...F,ownerId:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[f.jsx("option",{value:"",children:"Seleccionar usuario..."}),r.filter(R=>R.role==="partner"||R.role==="admin").map(R=>f.jsx("option",{value:R.uid,children:R.displayName||R.email},R.uid))]})]})]}),f.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[f.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),f.jsx("button",{onClick:A,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Agregar"})]})]})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(R=>{const F=j(R.ownerId),q=M(R.id);return f.jsxs("div",{className:`bg-white rounded-xl shadow-sm border-2 p-6 ${R.active?"border-green-200":"border-gray-200"}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:`w-3 h-3 rounded-full ${R.active?"bg-green-500":"bg-gray-400"}`}),f.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:R.name})]}),f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${R.type==="lilutecno"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:R.type==="lilutecno"?"Lilutecno":"Socio"})]}),R.description&&f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:R.description}),f.jsxs("div",{className:"space-y-2 mb-4",children:[f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-gray-500",children:"Propietario:"}),f.jsx("span",{className:"text-gray-900",children:F?F.displayName||F.email:"No asignado"})]}),f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-gray-500",children:"Productos:"}),f.jsx("span",{className:"text-gray-900",children:q})]}),f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-gray-500",children:"Creada:"}),f.jsx("span",{className:"text-gray-900",children:R.createdAt.toLocaleDateString()})]})]}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:()=>n&&n(R.id),className:"flex-1 px-3 py-2 text-sm bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",children:"Ver Productos"}),f.jsx("button",{onClick:()=>x(R),className:`px-3 py-2 text-sm rounded-lg transition-colors ${R.active?"bg-red-50 text-red-600 hover:bg-red-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:R.active?"Desactivar":"Activar"}),f.jsx("button",{onClick:()=>k(R),className:"px-3 py-2 text-sm bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:"🗑️"})]})]},R.id)})}),e.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"text-6xl mb-4",children:"🏪"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay tiendas registradas"}),f.jsx("p",{className:"text-gray-500 mb-4",children:"Comienza agregando la primera tienda."}),f.jsx("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Agregar Primera Tienda"})]})]})},Qk=()=>{const[n,e]=oe.useState(!1),[t,r]=oe.useState([]),s=async()=>{try{const p=(await Fc(Wr(Lt,"stores"))).docs.find(_=>{const A=_.data();return A.name==="Lilutecno"||A.type==="lilutecno"});return p?p.id:(await id(Wr(Lt,"stores"),{name:"Lilutecno",type:"lilutecno",ownerId:"admin",description:"Tienda principal de Lilutecno - Importadores de tecnología",active:!0,createdAt:new Date,updatedAt:new Date})).id}catch(d){throw console.error("Error creating Lilutecno store:",d),d}},o=async()=>{e(!0);const d=[];try{const p=await s();d.push({success:!0,message:"Tienda Lilutecno creada/verificada exitosamente",details:{storeId:p}});const _=(await Fc(Wr(Lt,"products"))).docs;d.push({success:!0,message:`Se encontraron ${_.length} productos para migrar`,details:{count:_.length}});const A=Ox(Lt);let x=0;for(const k of _){const j=k.data();if(!j.storeId||!j.storeName){const M=Kr(Lt,"products",k.id);A.update(M,{storeId:p,storeName:"Lilutecno",supplierId:j.supplierId||"lilutecno-import",active:j.active!==!1,wholesalePrice:j.wholesalePrice||j.price*.7,updatedAt:new Date}),x++}}x>0?(await A.commit(),d.push({success:!0,message:`${x} productos actualizados exitosamente`,details:{updatedCount:x}})):d.push({success:!0,message:"Todos los productos ya tienen información de tienda asignada",details:{updatedCount:0}})}catch(p){console.error("Error durante la migración:",p),d.push({success:!1,message:"Error durante la migración de productos",details:{error:p.message}})}r(d),e(!1)},c=async()=>{e(!0);const d=[];try{const y=(await Fc(Wr(Lt,"users"))).docs;d.push({success:!0,message:`Se encontraron ${y.length} usuarios para verificar`,details:{count:y.length}});const _=Ox(Lt);let A=0;for(const x of y){const k=x.data();if(!k.role){const j=Kr(Lt,"users",x.id);_.update(j,{role:"user",active:k.active!==!1,updatedAt:new Date}),A++}}A>0?(await _.commit(),d.push({success:!0,message:`${A} usuarios actualizados con roles por defecto`,details:{updatedCount:A}})):d.push({success:!0,message:"Todos los usuarios ya tienen roles asignados",details:{updatedCount:0}})}catch(p){console.error("Error durante la migración de usuarios:",p),d.push({success:!1,message:"Error durante la migración de usuarios",details:{error:p.message}})}r([...t,...d]),e(!1)},u=async()=>{await o(),await c()};return f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Herramienta de Migración de Datos"}),f.jsxs("div",{className:"space-y-4 mb-6",children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Esta herramienta permite migrar los datos existentes para ser compatibles con el nuevo sistema de tiendas y roles."}),f.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("span",{className:"text-yellow-600",children:"⚠️"})}),f.jsx("div",{className:"ml-3",children:f.jsxs("p",{className:"text-sm text-yellow-700",children:[f.jsx("strong",{children:"Importante:"})," Asegúrate de hacer una copia de seguridad de tu base de datos antes de ejecutar la migración."]})})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[f.jsx("button",{onClick:o,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?"Migrando...":"Migrar Productos"}),f.jsx("button",{onClick:c,disabled:n,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?"Migrando...":"Migrar Usuarios"}),f.jsx("button",{onClick:u,disabled:n,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?"Migrando...":"Migración Completa"})]}),t.length>0&&f.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[f.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Resultados de la Migración"}),f.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:t.map((d,p)=>f.jsx("div",{className:`p-3 rounded-lg text-sm ${d.success?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:f.jsxs("div",{className:"flex items-start",children:[f.jsx("span",{className:"flex-shrink-0 mr-2",children:d.success?"✅":"❌"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{children:d.message}),d.details&&f.jsx("pre",{className:"mt-1 text-xs opacity-75 font-mono",children:JSON.stringify(d.details,null,2)})]})]})},p))})]})]})},Jk=()=>{const[n,e]=oe.useState([]),[t,r]=oe.useState(!0),[s,o]=oe.useState(null),[c,u]=oe.useState(""),[d,p]=oe.useState(!1);oe.useEffect(()=>{const j=rd(Wr(Lt,"partnerApplications"),Ly("createdAt","desc")),M=Gl(j,R=>{const F=[];R.forEach(q=>{F.push({id:q.id,...q.data(),createdAt:q.data().createdAt?.toDate()||new Date,updatedAt:q.data().updatedAt?.toDate()||new Date})}),e(F),r(!1)});return()=>M()},[]);const y=async j=>{try{await Ol(Kr(Lt,"partnerApplications",j.id),{status:"approved",updatedAt:new Date}),await Ol(Kr(Lt,"users",j.userId),{role:"partner",partnerApplicationStatus:"approved",storeId:`partner_${j.userId}`,displayName:j.fullName,updatedAt:new Date}),o(null)}catch(M){console.error("Error approving application:",M),alert("Error al aprobar la solicitud. Por favor, inténtalo de nuevo.")}},_=async j=>{o(j),p(!0)},A=async()=>{if(s)try{await Ol(Kr(Lt,"partnerApplications",s.id),{status:"rejected",rejectionReason:c,updatedAt:new Date}),await Ol(Kr(Lt,"users",s.userId),{partnerApplicationStatus:"rejected",updatedAt:new Date}),p(!1),u(""),o(null)}catch(j){console.error("Error rejecting application:",j),alert("Error al rechazar la solicitud. Por favor, inténtalo de nuevo.")}},x=j=>{switch(j){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},k=j=>{switch(j){case"approved":return"Aprobada";case"rejected":return"Rechazada";default:return"Pendiente"}};return t?f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Solicitudes de Socios"}),f.jsx("div",{className:"space-y-4",children:[1,2,3].map(j=>f.jsxs("div",{className:"animate-pulse flex items-center justify-between p-4 border border-gray-200 rounded-xl",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("div",{className:"rounded-full bg-gray-200 h-12 w-12"}),f.jsxs("div",{children:[f.jsx("div",{className:"h-4 bg-gray-200 rounded w-32 mb-2"}),f.jsx("div",{className:"h-3 bg-gray-200 rounded w-24"})]})]}),f.jsx("div",{className:"h-8 bg-gray-200 rounded w-24"})]},j))})]}):f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Solicitudes de Socios"}),n.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"text-5xl mb-4",children:"👥"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay solicitudes pendientes"}),f.jsx("p",{className:"text-gray-500",children:"Todas las solicitudes han sido procesadas"})]}):f.jsx("div",{className:"space-y-4",children:n.map(j=>f.jsxs("div",{className:"p-4 border border-gray-200 rounded-xl hover:shadow-md transition-shadow",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-orange-500 rounded-full w-12 h-12 flex items-center justify-center text-white font-bold",children:j.fullName.charAt(0)}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-gray-900",children:j.fullName}),f.jsx("p",{className:"text-sm text-gray-600",children:j.email}),f.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[j.partnerType==="importer"?"Importador":"Dropshipper"," • ",j.phone]})]})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${x(j.status)}`,children:k(j.status)}),j.status==="pending"&&f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:()=>y(j),className:"px-3 py-1 bg-green-500 text-white text-sm rounded-lg hover:bg-green-600 transition-colors",children:"Aprobar"}),f.jsx("button",{onClick:()=>_(j),className:"px-3 py-1 bg-red-500 text-white text-sm rounded-lg hover:bg-red-600 transition-colors",children:"Rechazar"})]}),j.idPhoto&&f.jsx("a",{href:j.idPhoto,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700 text-sm",children:"Ver ID"})]})]}),j.rejectionReason&&f.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:f.jsxs("p",{className:"text-sm text-red-800",children:[f.jsx("span",{className:"font-medium",children:"Motivo del rechazo:"})," ",j.rejectionReason]})}),f.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Solicitado el ",j.createdAt.toLocaleDateString("es-CO")," a las ",j.createdAt.toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"})]})]},j.id))}),d&&s&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Rechazar Solicitud"}),f.jsxs("p",{className:"text-gray-600 mb-2",children:["¿Estás seguro de que deseas rechazar la solicitud de ",f.jsx("span",{className:"font-bold",children:s.fullName}),"?"]}),f.jsx("p",{className:"text-gray-600 mb-4",children:"Proporciona un motivo para el rechazo:"}),f.jsx("textarea",{value:c,onChange:j=>u(j.target.value),placeholder:"Motivo del rechazo...",rows:4,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-300"}),f.jsxs("div",{className:"flex space-x-3 mt-6",children:[f.jsx("button",{onClick:A,disabled:!c.trim(),className:"flex-1 bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50",children:"Confirmar Rechazo"}),f.jsx("button",{onClick:()=>{p(!1),u(""),o(null)},className:"flex-1 bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})]})},Zk=()=>{const[n,e]=oe.useState({totalProducts:0,totalStores:0,totalUsers:0,lowStockProducts:0,totalRevenue:0,recentOrders:0}),[t,r]=oe.useState([]),[s,o]=oe.useState(!0),c=async()=>{try{o(!0);const u=Wr(Lt,"products"),p=(await Fc(u)).docs.map(F=>({id:F.id,...F.data()})),y=Wr(Lt,"users"),_=await Fc(y),A=Wr(Lt,"stores"),x=await Fc(A),k=p.filter(F=>F.stock<=5).length,j=p.reduce((F,q)=>F+q.price*(100-q.stock),0),M=p.reduce((F,q)=>{const W=q.storeId||"lilutecno";return F[W]||(F[W]=[]),F[W].push(q),F},{}),R=Object.entries(M).map(([F,q])=>{const W=q.reduce((xe,$)=>xe+$.price*$.stock,0),ce=q.filter(xe=>xe.stock<=5).length;return{storeId:F,storeName:q[0]?.storeName||F,totalProducts:q.length,totalValue:W,lowStockCount:ce,lastUpdated:new Date}});e({totalProducts:p.length,totalStores:x.size,totalUsers:_.size,lowStockProducts:k,totalRevenue:j,recentOrders:Math.floor(Math.random()*50)}),r(R)}catch(u){console.error("Error fetching admin stats:",u)}finally{o(!1)}};return oe.useEffect(()=>{c();const u=Wr(Lt,"products"),d=Gl(u,()=>{c()});return()=>d()},[]),{stats:n,storeStats:t,loading:s,refetchStats:c}},eL=()=>{const[n,e]=oe.useState("dashboard"),[t,r]=oe.useState(""),{userProfile:s,currentUser:o}=ga(),{stats:c,storeStats:u,loading:d}=Zk(),p=al(),y=Bu(),_=async()=>{try{await W2(y),p("/login")}catch(k){console.error("Error al cerrar sesión:",k)}},A=[{id:"dashboard",name:"Dashboard",icon:"📊"},{id:"inventory",name:"Inventario",icon:"📦"},{id:"stores",name:"Tiendas",icon:"🏪"},{id:"partners",name:"Socios",icon:"👥"},{id:"users",name:"Usuarios",icon:"👤"},{id:"migration",name:"Migración",icon:"🔄"},{id:"settings",name:"Configuración",icon:"⚙️"}],x=()=>{switch(n){case"dashboard":return f.jsx(Wk,{stats:c,storeStats:u,loading:d});case"inventory":return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Inventario"}),t&&f.jsx("button",{onClick:()=>r(""),className:"px-3 py-1 text-sm bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200",children:"Ver todos los productos"})]}),f.jsx(Kk,{selectedStore:t})]});case"stores":return f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Tiendas"}),f.jsx(Xk,{onStoreSelect:k=>{r(k),e("inventory")}})]});case"partners":return f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Socios"}),f.jsx(Jk,{})]});case"users":return f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Usuarios"}),f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:[f.jsx("div",{className:"text-6xl mb-4",children:"👥"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Próximamente"}),f.jsx("p",{className:"text-gray-500",children:"La gestión de usuarios estará disponible pronto."})]})]});case"migration":return f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Migración de Datos"}),f.jsx(Qk,{})]});case"settings":return f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Configuración del Sistema"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Configuración General"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-gray-700",children:"Notificaciones por email"}),f.jsx("input",{type:"checkbox",className:"rounded border-gray-300",defaultChecked:!0})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-gray-700",children:"Actualizaciones automáticas"}),f.jsx("input",{type:"checkbox",className:"rounded border-gray-300",defaultChecked:!0})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-gray-700",children:"Modo mantenimiento"}),f.jsx("input",{type:"checkbox",className:"rounded border-gray-300"})]})]})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Información del Sistema"}),f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-500",children:"Versión:"}),f.jsx("span",{className:"text-gray-900",children:"1.0.0"})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-500",children:"Base de datos:"}),f.jsx("span",{className:"text-green-600",children:"Conectada"})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-500",children:"Última actualización:"}),f.jsx("span",{className:"text-gray-900",children:new Date().toLocaleDateString()})]})]})]})]})]});default:return null}};return f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-16",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Panel de Administrador"}),f.jsx("span",{className:"text-sm text-gray-500",children:"Lilutecno"})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"text-sm text-gray-700",children:["Bienvenido, ",f.jsx("span",{className:"font-medium",children:s?.displayName||o?.email})]}),f.jsx("button",{onClick:_,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors text-sm",children:"Cerrar Sesión"})]})]})})}),f.jsx("nav",{className:"bg-white border-b border-gray-200",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsx("div",{className:"flex space-x-8",children:A.map(k=>f.jsxs("button",{onClick:()=>e(k.id),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors ${n===k.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[f.jsx("span",{className:"mr-2",children:k.icon}),k.name]},k.id))})})}),f.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:x()}),f.jsx("footer",{className:"bg-white border-t border-gray-200 mt-12",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:f.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500",children:[f.jsx("div",{children:"© 2024 Lilutecno. Todos los derechos reservados."}),f.jsx("div",{children:"Panel de Administrador v1.0"})]})})})]})},tL=()=>{const n=al(),[e,t]=oe.useState({name:"",price:0,old_price:null,category:"",stock:0,summary:"",images:[],features:[]}),[r,s]=oe.useState(!1),[o,c]=oe.useState(""),u=y=>{const{name:_,value:A}=y.target,x=["price","stock"].includes(_)||_==="old_price";t(k=>({...k,[_]:x?Number(A)||null:A}))},d=(y,_)=>{const A=y.target.value.split(",").map(x=>x.trim());t(x=>({...x,[_]:A}))},p=async y=>{if(y.preventDefault(),!e.name||!e.category||e.price<=0){c("Por favor, completa los campos requeridos: Nombre, Categoría y Precio.");return}s(!0),c("");try{const _=Wr(Lt,"products");await id(_,e),n("/admin")}catch(_){c("Error al guardar el producto. Inténtalo de nuevo."),console.error(_),s(!1)}};return f.jsxs("div",{style:{padding:"2rem",maxWidth:"600px",margin:"auto"},children:[f.jsx("h1",{children:"Añadir Nuevo Producto"}),f.jsxs("form",{onSubmit:p,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[f.jsx("input",{name:"name",value:e.name,onChange:u,placeholder:"Nombre del Producto",required:!0}),f.jsx("input",{name:"price",type:"number",value:e.price,onChange:u,placeholder:"Precio",required:!0}),f.jsx("input",{name:"old_price",type:"number",value:e.old_price??"",onChange:u,placeholder:"Precio Antiguo (opcional)"}),f.jsx("input",{name:"category",value:e.category,onChange:u,placeholder:"Categoría",required:!0}),f.jsx("input",{name:"stock",type:"number",value:e.stock,onChange:u,placeholder:"Stock",required:!0}),f.jsx("textarea",{name:"summary",value:e.summary,onChange:u,placeholder:"Resumen"}),f.jsx("input",{name:"images",onChange:y=>d(y,"images"),placeholder:"URLs de Imágenes (separadas por coma)"}),f.jsx("textarea",{name:"features",onChange:y=>d(y,"features"),placeholder:"Características (separadas por coma)"}),o&&f.jsx("p",{style:{color:"red"},children:o}),f.jsx("button",{type:"submit",disabled:r,style:{padding:"0.75rem"},children:r?"Guardando...":"Guardar Producto"})]})]})},nL=()=>{const{id:n}=d_(),e=al(),[t,r]=oe.useState({}),[s,o]=oe.useState(!0),[c,u]=oe.useState("");oe.useEffect(()=>{if(!n)return;(async()=>{try{const A=Kr(Lt,"products",n),x=await If(A);x.exists()?r({id:n,...x.data()}):u("Producto no encontrado.")}catch(A){u("Error al cargar el producto."),console.error(A)}finally{o(!1)}})()},[n]);const d=_=>{const{name:A,value:x}=_.target,k=["price","stock"].includes(A)||A==="old_price";r(j=>({...j,[A]:k?Number(x)||null:x}))},p=(_,A)=>{const x=_.target.value.split(",").map(k=>k.trim());r(k=>({...k,[A]:x}))},y=async _=>{if(_.preventDefault(),!n||!t.name||!t.category||(t.price??0)<=0){u("Por favor, completa los campos requeridos: Nombre, Categoría y Precio.");return}o(!0),u("");try{const A=Kr(Lt,"products",n),{id:x,...k}=t;await Ol(A,k),e("/admin")}catch(A){u("Error al actualizar el producto. Inténtalo de nuevo."),console.error(A),o(!1)}};return s?f.jsx("div",{children:"Cargando..."}):c?f.jsx("div",{style:{color:"red"},children:c}):f.jsxs("div",{style:{padding:"2rem",maxWidth:"600px",margin:"auto"},children:[f.jsx("h1",{children:"Editar Producto"}),f.jsxs("form",{onSubmit:y,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[f.jsx("input",{name:"name",value:t.name||"",onChange:d,placeholder:"Nombre del Producto",required:!0}),f.jsx("input",{name:"price",type:"number",value:t.price||0,onChange:d,placeholder:"Precio",required:!0}),f.jsx("input",{name:"old_price",type:"number",value:t.old_price||"",onChange:d,placeholder:"Precio Antiguo (opcional)"}),f.jsx("input",{name:"category",value:t.category||"",onChange:d,placeholder:"Categoría",required:!0}),f.jsx("input",{name:"stock",type:"number",value:t.stock||0,onChange:d,placeholder:"Stock",required:!0}),f.jsx("textarea",{name:"summary",value:t.summary||"",onChange:d,placeholder:"Resumen"}),f.jsx("input",{name:"images",defaultValue:Array.isArray(t.images)?t.images.join(", "):"",onChange:_=>p(_,"images"),placeholder:"URLs de Imágenes (separadas por coma)"}),f.jsx("textarea",{name:"features",defaultValue:Array.isArray(t.features)?t.features.join(", "):"",onChange:_=>p(_,"features"),placeholder:"Características (separadas por coma)"}),f.jsx("button",{type:"submit",disabled:s,style:{padding:"0.75rem"},children:s?"Actualizando...":"Actualizar Producto"})]})]})},wN=({onApplicationSubmitted:n})=>{const{currentUser:e}=ga(),[t,r]=oe.useState({fullName:"",email:"",phone:"",address:"",partnerType:"dropshipper",rutNumber:""}),[s,o]=oe.useState(null),[c,u]=oe.useState(null),[d,p]=oe.useState(""),[y,_]=oe.useState(!1),A=M=>{const{name:R,value:F}=M.target;r(q=>({...q,[R]:F}))},x=M=>{if(M.target.files&&M.target.files[0]){const R=M.target.files[0];o(R);const F=new FileReader;F.onloadend=()=>{u(F.result)},F.readAsDataURL(R)}},k=()=>t.fullName.trim()?t.email.trim()?t.phone.trim()?t.address.trim()?t.partnerType?!0:(p("Por favor selecciona el tipo de socio."),!1):(p("La dirección es requerida."),!1):(p("El número de teléfono es requerido."),!1):(p("El correo electrónico es requerido."),!1):(p("El nombre completo es requerido."),!1),j=async M=>{if(M.preventDefault(),p(""),!!k()){if(!e){p("Debes estar autenticado para aplicar.");return}_(!0);try{let R="";if(s){const q=pN(qy,`partner-applications/${e.uid}/${s.name}`);await dN(q,s),R=await fN(q)}const F={userId:e.uid,fullName:t.fullName,email:t.email,phone:t.phone,address:t.address,partnerType:t.partnerType,idPhoto:R,rutNumber:t.rutNumber||"",status:"pending",createdAt:new Date,updatedAt:new Date};await id(Wr(Lt,"partnerApplications"),F),await $3(Kr(Lt,"users",e.uid),{partnerApplicationStatus:"pending",updatedAt:new Date},{merge:!0}),n()}catch(R){console.error("Error submitting application:",R),p("Error al enviar la solicitud. Por favor, inténtalo de nuevo.")}finally{_(!1)}}};return f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 backdrop-blur-sm border border-white/25",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Registro de Socio"}),f.jsx("p",{className:"text-gray-600",children:"Completa la información para unirte a nuestra red de socios"})]}),f.jsxs("form",{onSubmit:j,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"fullName",className:"block text-sm font-semibold text-gray-800 mb-2",children:"Nombre Completo *"}),f.jsx("input",{id:"fullName",name:"fullName",type:"text",value:t.fullName,onChange:A,placeholder:"Tu nombre completo",required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-800 mb-2",children:"Correo Electrónico *"}),f.jsx("input",{id:"email",name:"email",type:"email",value:t.email,onChange:A,placeholder:"tu@email.com",required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-800 mb-2",children:"Teléfono *"}),f.jsx("input",{id:"phone",name:"phone",type:"tel",value:t.phone,onChange:A,placeholder:"Número de contacto",required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"address",className:"block text-sm font-semibold text-gray-800 mb-2",children:"Dirección *"}),f.jsx("input",{id:"address",name:"address",type:"text",value:t.address,onChange:A,placeholder:"Dirección completa",required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"partnerType",className:"block text-sm font-semibold text-gray-800 mb-2",children:"Tipo de Socio *"}),f.jsxs("select",{id:"partnerType",name:"partnerType",value:t.partnerType,onChange:A,required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300",children:[f.jsx("option",{value:"dropshipper",children:"Dropshipper"}),f.jsx("option",{value:"importer",children:"Importador"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"rutNumber",className:"block text-sm font-semibold text-gray-800 mb-2",children:"Número de RUT (Opcional)"}),f.jsx("input",{id:"rutNumber",name:"rutNumber",type:"text",value:t.rutNumber,onChange:A,placeholder:"Número de RUT si aplica",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"idPhoto",className:"block text-sm font-semibold text-gray-800 mb-2",children:"Foto de la Cédula (Opcional)"}),f.jsx("input",{id:"idPhoto",name:"idPhoto",type:"file",accept:"image/*",onChange:x,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"}),c&&f.jsx("div",{className:"mt-3",children:f.jsx("img",{src:c,alt:"Preview",className:"max-w-full h-32 object-contain rounded-lg border border-gray-200"})})]}),d&&f.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm",children:d}),f.jsx("button",{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-purple-600 to-orange-500 text-white font-bold py-3 px-6 rounded-xl hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:y?f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Enviando solicitud..."]}):"Enviar Solicitud"})]}),f.jsxs("div",{className:"mt-6 text-center text-xs text-gray-500",children:[f.jsx("p",{children:"* Campos obligatorios"}),f.jsx("p",{className:"mt-2",children:"Tu solicitud será revisada por nuestro equipo. Recibirás una notificación cuando sea aprobada."})]})]})},rL=()=>{const{currentUser:n,userProfile:e}=ga(),[t,r]=oe.useState([]),[s,o]=oe.useState(!0),[c,u]=oe.useState(!1),[d,p]=oe.useState(null),[y,_]=oe.useState({name:"",price:"",wholesalePrice:"",old_price:"",category:"",stock:"",summary:"",features:"",sku:""}),[A,x]=oe.useState([]),[k,j]=oe.useState([]),[M,R]=oe.useState("");oe.useEffect(()=>{if(!n||!e)return;const V=rd(Wr(Lt,"products"),Pg("supplierId","==",n.uid)),T=Gl(V,D=>{const O=[];D.forEach(le=>{O.push({id:le.id,...le.data(),createdAt:le.data().createdAt?.toDate()||new Date,updatedAt:le.data().updatedAt?.toDate()||new Date})}),r(O),o(!1)});return()=>T()},[n,e]);const F=V=>{const{name:T,value:D}=V.target;_(O=>({...O,[T]:D}))},q=V=>{if(V.target.files){const T=Array.from(V.target.files);x(T);const D=[];T.forEach(O=>{const le=new FileReader;le.onloadend=()=>{D.push(le.result),D.length===T.length&&j(D)},le.readAsDataURL(O)})}},W=()=>{_({name:"",price:"",wholesalePrice:"",old_price:"",category:"",stock:"",summary:"",features:"",sku:""}),x([]),j([]),p(null),u(!1),R("")},ce=()=>y.name.trim()?!y.price||parseFloat(y.price)<=0?(R("El precio debe ser mayor a cero."),!1):!y.wholesalePrice||parseFloat(y.wholesalePrice)<=0?(R("El precio al por mayor debe ser mayor a cero."),!1):y.category.trim()?!y.stock||parseInt(y.stock)<0?(R("El stock debe ser un número válido."),!1):y.summary.trim()?!0:(R("La descripción es requerida."),!1):(R("La categoría es requerida."),!1):(R("El nombre del producto es requerido."),!1),xe=async V=>{if(V.preventDefault(),R(""),!!ce()){if(!n||!e){R("Debes estar autenticado para gestionar productos.");return}try{const T=[];for(const O of A){const le=pN(qy,`products/${n.uid}/${Date.now()}_${O.name}`);await dN(le,O);const Se=await fN(le);T.push(Se)}const D={name:y.name,price:parseFloat(y.price),wholesalePrice:parseFloat(y.wholesalePrice),old_price:y.old_price?parseFloat(y.old_price):void 0,category:y.category,stock:parseInt(y.stock),summary:y.summary,features:y.features.split(`
`).filter(O=>O.trim()!==""),images:T,storeId:e.storeId||"partner_store",storeName:e.displayName||"Tienda de Socio",supplierId:n.uid,sku:y.sku||void 0,active:!0,createdAt:new Date,updatedAt:new Date};d?await Ol(Kr(Lt,"products",d.id),{...D,updatedAt:new Date}):await id(Wr(Lt,"products"),D),W()}catch(T){console.error("Error saving product:",T),R("Error al guardar el producto. Por favor, inténtalo de nuevo.")}}},$=V=>{p(V),_({name:V.name,price:V.price.toString(),wholesalePrice:V.wholesalePrice.toString(),old_price:V.old_price?.toString()||"",category:V.category,stock:V.stock.toString(),summary:V.summary,features:V.features.join(`
`),sku:V.sku||""}),j(V.images),u(!0)},I=async V=>{if(window.confirm("¿Estás seguro de que deseas eliminar este producto?"))try{await Y3(Kr(Lt,"products",V))}catch(T){console.error("Error deleting product:",T),R("Error al eliminar el producto. Por favor, inténtalo de nuevo.")}},P=()=>{W(),u(!0)};return s?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Productos"}),f.jsx("button",{onClick:P,className:"bg-gradient-to-r from-purple-600 to-orange-500 text-white font-bold py-2 px-4 rounded-lg hover:shadow-lg transition-all",children:"+ Agregar Producto"})]}),M&&f.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm mb-6",children:M}),c?f.jsxs("form",{onSubmit:xe,className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-800 mb-2",children:"Nombre del Producto *"}),f.jsx("input",{id:"name",name:"name",type:"text",value:y.name,onChange:F,placeholder:"Nombre del producto",required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"category",className:"block text-sm font-semibold text-gray-800 mb-2",children:"Categoría *"}),f.jsxs("select",{id:"category",name:"category",value:y.category,onChange:F,required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300",children:[f.jsx("option",{value:"",children:"Selecciona una categoría"}),f.jsx("option",{value:"Electrónica",children:"Electrónica"}),f.jsx("option",{value:"Hogar",children:"Hogar"}),f.jsx("option",{value:"Moda",children:"Moda"}),f.jsx("option",{value:"Deportes",children:"Deportes"}),f.jsx("option",{value:"Juguetes",children:"Juguetes"}),f.jsx("option",{value:"Salud",children:"Salud"}),f.jsx("option",{value:"Automotriz",children:"Automotriz"}),f.jsx("option",{value:"Otros",children:"Otros"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"price",className:"block text-sm font-semibold text-gray-800 mb-2",children:"Precio de Venta (COP) *"}),f.jsx("input",{id:"price",name:"price",type:"number",step:"0.01",value:y.price,onChange:F,placeholder:"Precio para clientes finales",required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"wholesalePrice",className:"block text-sm font-semibold text-gray-800 mb-2",children:"Precio al Por Mayor (COP) *"}),f.jsx("input",{id:"wholesalePrice",name:"wholesalePrice",type:"number",step:"0.01",value:y.wholesalePrice,onChange:F,placeholder:"Precio para socios",required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"old_price",className:"block text-sm font-semibold text-gray-800 mb-2",children:"Precio Anterior (Opcional)"}),f.jsx("input",{id:"old_price",name:"old_price",type:"number",step:"0.01",value:y.old_price,onChange:F,placeholder:"Precio anterior para mostrar descuento",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"stock",className:"block text-sm font-semibold text-gray-800 mb-2",children:"Stock *"}),f.jsx("input",{id:"stock",name:"stock",type:"number",value:y.stock,onChange:F,placeholder:"Cantidad disponible",required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"sku",className:"block text-sm font-semibold text-gray-800 mb-2",children:"SKU (Opcional)"}),f.jsx("input",{id:"sku",name:"sku",type:"text",value:y.sku,onChange:F,placeholder:"Código de producto",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"summary",className:"block text-sm font-semibold text-gray-800 mb-2",children:"Descripción Corta *"}),f.jsx("textarea",{id:"summary",name:"summary",value:y.summary,onChange:F,placeholder:"Breve descripción del producto",required:!0,rows:3,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"features",className:"block text-sm font-semibold text-gray-800 mb-2",children:"Características (una por línea)"}),f.jsx("textarea",{id:"features",name:"features",value:y.features,onChange:F,placeholder:`Característica 1
Característica 2
Característica 3`,rows:4,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"images",className:"block text-sm font-semibold text-gray-800 mb-2",children:"Imágenes del Producto"}),f.jsx("input",{id:"images",name:"images",type:"file",accept:"image/*",onChange:q,multiple:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"}),k.length>0&&f.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:k.map((V,T)=>f.jsx("img",{src:V,alt:`Preview ${T}`,className:"w-24 h-24 object-cover rounded-lg border border-gray-200"},T))})]}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-600 to-orange-500 text-white font-bold py-3 px-6 rounded-xl hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:d?"Actualizar Producto":"Agregar Producto"}),f.jsx("button",{type:"button",onClick:W,className:"px-6 py-3 border border-gray-300 text-gray-700 font-bold rounded-xl hover:bg-gray-50 transition-colors",children:"Cancelar"})]})]}):f.jsx("div",{children:t.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"text-5xl mb-4",children:"📦"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tienes productos aún"}),f.jsx("p",{className:"text-gray-500 mb-6",children:"Comienza agregando tu primer producto a tu catálogo"}),f.jsx("button",{onClick:P,className:"bg-gradient-to-r from-purple-600 to-orange-500 text-white font-bold py-2 px-4 rounded-lg hover:shadow-lg transition-all",children:"+ Agregar Producto"})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(V=>f.jsx("div",{className:"border border-gray-200 rounded-xl overflow-hidden hover:shadow-lg transition-shadow",children:f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex justify-between items-start mb-3",children:[f.jsx("h3",{className:"font-bold text-gray-900 truncate",children:V.name}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:()=>$(V),className:"text-blue-600 hover:text-blue-800",children:"✏️"}),f.jsx("button",{onClick:()=>I(V.id),className:"text-red-600 hover:text-red-800",children:"🗑️"})]})]}),f.jsxs("div",{className:"flex items-center mb-2",children:[f.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["$",V.price.toLocaleString("es-CO")]}),V.old_price&&f.jsxs("span",{className:"ml-2 text-sm text-gray-500 line-through",children:["$",V.old_price.toLocaleString("es-CO")]})]}),f.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[f.jsx("span",{className:"font-medium",children:"Por Mayor:"})," $",V.wholesalePrice.toLocaleString("es-CO")]}),f.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-3",children:[f.jsxs("span",{children:["Stock: ",V.stock]}),f.jsx("span",{className:"capitalize",children:V.category})]}),f.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:V.summary})]})},V.id))})})]})},iL="modulepreload",sL=function(n){return"/"+n},zx={},f1=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let d=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");s=d(t.map(p=>{if(p=sL(p),p in zx)return;zx[p]=!0;const y=p.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const A=document.createElement("link");if(A.rel=y?"stylesheet":iL,y||(A.as="script"),A.crossOrigin="",A.href=p,u&&A.setAttribute("nonce",u),document.head.appendChild(A),y)return new Promise((x,k)=>{A.addEventListener("load",x),A.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return s.then(c=>{for(const u of c||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};function Xn(n){"@babel/helpers - typeof";return Xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xn(n)}var No=Uint8Array,ma=Uint16Array,zy=Int32Array,Hy=new No([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Gy=new No([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Hx=new No([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_N=function(n,e){for(var t=new ma(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var s=new zy(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)s[o]=o-t[r]<<5|r;return{b:t,r:s}},NN=_N(Hy,2),aL=NN.b,p2=NN.r;aL[28]=258,p2[258]=28;var oL=_N(Gy,0),Gx=oL.r,m2=new ma(32768);for(var xr=0;xr<32768;++xr){var Tc=(xr&43690)>>1|(xr&21845)<<1;Tc=(Tc&52428)>>2|(Tc&13107)<<2,Tc=(Tc&61680)>>4|(Tc&3855)<<4,m2[xr]=((Tc&65280)>>8|(Tc&255)<<8)>>1}var yf=(function(n,e,t){for(var r=n.length,s=0,o=new ma(e);s<r;++s)n[s]&&++o[n[s]-1];var c=new ma(e);for(s=1;s<e;++s)c[s]=c[s-1]+o[s-1]<<1;var u;if(t){u=new ma(1<<e);var d=15-e;for(s=0;s<r;++s)if(n[s])for(var p=s<<4|n[s],y=e-n[s],_=c[n[s]-1]++<<y,A=_|(1<<y)-1;_<=A;++_)u[m2[_]>>d]=p}else for(u=new ma(r),s=0;s<r;++s)n[s]&&(u[s]=m2[c[n[s]-1]++]>>15-n[s]);return u}),Mu=new No(288);for(var xr=0;xr<144;++xr)Mu[xr]=8;for(var xr=144;xr<256;++xr)Mu[xr]=9;for(var xr=256;xr<280;++xr)Mu[xr]=7;for(var xr=280;xr<288;++xr)Mu[xr]=8;var ig=new No(32);for(var xr=0;xr<32;++xr)ig[xr]=5;var lL=yf(Mu,9,0),cL=yf(ig,5,0),AN=function(n){return(n+7)/8|0},uL=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new No(n.subarray(e,t))},jl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},ef=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},p1=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var s=t.length,o=t.slice();if(!s)return{t:SN,l:0};if(s==1){var c=new No(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(ce,xe){return ce.f-xe.f}),t.push({s:-1,f:25001});var u=t[0],d=t[1],p=0,y=1,_=2;for(t[0]={s:-1,f:u.f+d.f,l:u,r:d};y!=s-1;)u=t[t[p].f<t[_].f?p++:_++],d=t[p!=y&&t[p].f<t[_].f?p++:_++],t[y++]={s:-1,f:u.f+d.f,l:u,r:d};for(var A=o[0].s,r=1;r<s;++r)o[r].s>A&&(A=o[r].s);var x=new ma(A+1),k=g2(t[y-1],x,0);if(k>e){var r=0,j=0,M=k-e,R=1<<M;for(o.sort(function(xe,$){return x[$.s]-x[xe.s]||xe.f-$.f});r<s;++r){var F=o[r].s;if(x[F]>e)j+=R-(1<<k-x[F]),x[F]=e;else break}for(j>>=M;j>0;){var q=o[r].s;x[q]<e?j-=1<<e-x[q]++-1:++r}for(;r>=0&&j;--r){var W=o[r].s;x[W]==e&&(--x[W],++j)}k=e}return{t:new No(x),l:k}},g2=function(n,e,t){return n.s==-1?Math.max(g2(n.l,e,t+1),g2(n.r,e,t+1)):e[n.s]=t},$x=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ma(++e),r=0,s=n[0],o=1,c=function(d){t[r++]=d},u=1;u<=e;++u)if(n[u]==s&&u!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(s),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(s);o=1,s=n[u]}return{c:t.subarray(0,r),n:e}},tf=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},EN=function(n,e,t){var r=t.length,s=AN(e+2);n[s]=r&255,n[s+1]=r>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var o=0;o<r;++o)n[s+o+4]=t[o];return(s+4+r)*8},Yx=function(n,e,t,r,s,o,c,u,d,p,y){jl(e,y++,t),++s[256];for(var _=p1(s,15),A=_.t,x=_.l,k=p1(o,15),j=k.t,M=k.l,R=$x(A),F=R.c,q=R.n,W=$x(j),ce=W.c,xe=W.n,$=new ma(19),I=0;I<F.length;++I)++$[F[I]&31];for(var I=0;I<ce.length;++I)++$[ce[I]&31];for(var P=p1($,7),V=P.t,T=P.l,D=19;D>4&&!V[Hx[D-1]];--D);var O=p+5<<3,le=tf(s,Mu)+tf(o,ig)+c,Se=tf(s,A)+tf(o,j)+c+14+3*D+tf($,V)+2*$[16]+3*$[17]+7*$[18];if(d>=0&&O<=le&&O<=Se)return EN(e,y,n.subarray(d,d+p));var ae,ye,pe,je;if(jl(e,y,1+(Se<le)),y+=2,Se<le){ae=yf(A,x,0),ye=A,pe=yf(j,M,0),je=j;var ee=yf(V,T,0);jl(e,y,q-257),jl(e,y+5,xe-1),jl(e,y+10,D-4),y+=14;for(var I=0;I<D;++I)jl(e,y+3*I,V[Hx[I]]);y+=3*D;for(var me=[F,ce],B=0;B<2;++B)for(var X=me[B],I=0;I<X.length;++I){var te=X[I]&31;jl(e,y,ee[te]),y+=V[te],te>15&&(jl(e,y,X[I]>>5&127),y+=X[I]>>12)}}else ae=lL,ye=Mu,pe=cL,je=ig;for(var I=0;I<u;++I){var ue=r[I];if(ue>255){var te=ue>>18&31;ef(e,y,ae[te+257]),y+=ye[te+257],te>7&&(jl(e,y,ue>>23&31),y+=Hy[te]);var de=ue&31;ef(e,y,pe[de]),y+=je[de],de>3&&(ef(e,y,ue>>5&8191),y+=Gy[de])}else ef(e,y,ae[ue]),y+=ye[ue]}return ef(e,y,ae[256]),y+ye[256]},hL=new zy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),SN=new No(0),dL=function(n,e,t,r,s,o){var c=o.z||n.length,u=new No(r+c+5*(1+Math.ceil(c/7e3))+s),d=u.subarray(r,u.length-s),p=o.l,y=(o.r||0)&7;if(e){y&&(d[0]=o.r>>3);for(var _=hL[e-1],A=_>>13,x=_&8191,k=(1<<t)-1,j=o.p||new ma(32768),M=o.h||new ma(k+1),R=Math.ceil(t/3),F=2*R,q=function(Me){return(n[Me]^n[Me+1]<<R^n[Me+2]<<F)&k},W=new zy(25e3),ce=new ma(288),xe=new ma(32),$=0,I=0,P=o.i||0,V=0,T=o.w||0,D=0;P+2<c;++P){var O=q(P),le=P&32767,Se=M[O];if(j[le]=Se,M[O]=le,T<=P){var ae=c-P;if(($>7e3||V>24576)&&(ae>423||!p)){y=Yx(n,d,0,W,ce,xe,I,V,D,P-D,y),V=$=I=0,D=P;for(var ye=0;ye<286;++ye)ce[ye]=0;for(var ye=0;ye<30;++ye)xe[ye]=0}var pe=2,je=0,ee=x,me=le-Se&32767;if(ae>2&&O==q(P-me))for(var B=Math.min(A,ae)-1,X=Math.min(32767,P),te=Math.min(258,ae);me<=X&&--ee&&le!=Se;){if(n[P+pe]==n[P+pe-me]){for(var ue=0;ue<te&&n[P+ue]==n[P+ue-me];++ue);if(ue>pe){if(pe=ue,je=me,ue>B)break;for(var de=Math.min(me,ue-2),_e=0,ye=0;ye<de;++ye){var ke=P-me+ye&32767,Pe=j[ke],ze=ke-Pe&32767;ze>_e&&(_e=ze,Se=ke)}}}le=Se,Se=j[le],me+=le-Se&32767}if(je){W[V++]=268435456|p2[pe]<<18|Gx[je];var Qe=p2[pe]&31,nt=Gx[je]&31;I+=Hy[Qe]+Gy[nt],++ce[257+Qe],++xe[nt],T=P+pe,++$}else W[V++]=n[P],++ce[n[P]]}}for(P=Math.max(P,T);P<c;++P)W[V++]=n[P],++ce[n[P]];y=Yx(n,d,p,W,ce,xe,I,V,D,P-D,y),p||(o.r=y&7|d[y/8|0]<<3,y-=7,o.h=M,o.p=j,o.i=P,o.w=T)}else{for(var P=o.w||0;P<c+p;P+=65535){var rt=P+65535;rt>=c&&(d[y/8|0]=p,rt=c),y=EN(d,y+1,n.subarray(P,rt))}o.i=c}return uL(u,0,r+AN(y)+s)},TN=function(){var n=1,e=0;return{p:function(t){for(var r=n,s=e,o=t.length|0,c=0;c!=o;){for(var u=Math.min(c+2655,o);c<u;++c)s+=r+=t[c];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}n=r,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},fL=function(n,e,t,r,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new No(o.length+n.length);c.set(o),c.set(n,o.length),n=c,s.w=o.length}return dL(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,s)},CN=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},pL=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=TN();s.p(e.dictionary),CN(n,2,s.d())}};function y2(n,e){e||(e={});var t=TN();t.p(n);var r=fL(n,e,e.dictionary?6:2,4);return pL(r,e),CN(r,r.length-4,t.d()),r}var mL=typeof TextDecoder<"u"&&new TextDecoder,gL=0;try{mL.decode(SN,{stream:!0}),gL=1}catch{}function yL(n){if(Array.isArray(n))return n}function vL(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,o,c,u=[],d=!0,p=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(d=(r=o.call(t)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(y){p=!0,s=y}finally{try{if(!d&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(p)throw s}}return u}}function Wx(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function bL(n,e){if(n){if(typeof n=="string")return Wx(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Wx(n,e):void 0}}function xL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kx(n,e){return yL(n)||vL(n,e)||bL(n,e)||xL()}function Xx(n,e="utf8"){return new TextDecoder(e).decode(n)}const wL=new TextEncoder;function _L(n){return wL.encode(n)}const NL=1024*8,AL=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),m1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class $y{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=NL,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const s=t.offset?t.offset>>>0:0,o=e.byteLength-s;let c=s;(ArrayBuffer.isView(e)||e instanceof $y)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+s),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=m1[t].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+r);if(this.littleEndian===AL&&t!=="uint8"&&t!=="int8"){const u=new Uint8Array(this.buffer.slice(s,s+r));u.reverse();const d=new m1[t](u.buffer);return this.offset+=r,d.reverse(),d}const c=new m1[t](o);return this.offset+=r,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return Xx(this.readBytes(e))}decodeText(e=1,t="utf8"){return Xx(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(_L(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function sd(n){let e=n.length;for(;--e>=0;)n[e]=0}const EL=3,SL=258,RN=29,TL=256,CL=TL+1+RN,IN=30,RL=512,IL=new Array((CL+2)*2);sd(IL);const jL=new Array(IN*2);sd(jL);const kL=new Array(RL);sd(kL);const LL=new Array(SL-EL+1);sd(LL);const PL=new Array(RN);sd(PL);const DL=new Array(IN);sd(DL);const OL=(n,e,t,r)=>{let s=n&65535|0,o=n>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do s=s+e[r++]|0,o=o+s|0;while(--c);s%=65521,o%=65521}return s|o<<16|0};var v2=OL;const ML=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},UL=new Uint32Array(ML()),VL=(n,e,t,r)=>{const s=UL,o=r+t;n^=-1;for(let c=r;c<o;c++)n=n>>>8^s[(n^e[c])&255];return n^-1};var $o=VL,b2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},jN={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const FL=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var BL=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)FL(t,r)&&(n[r]=t[r])}}return n},qL=n=>{let e=0;for(let r=0,s=n.length;r<s;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,s=0,o=n.length;r<o;r++){let c=n[r];t.set(c,s),s+=c.length}return t},kN={assign:BL,flattenChunks:qL};let LN=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{LN=!1}const jf=new Uint8Array(256);for(let n=0;n<256;n++)jf[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;jf[254]=jf[254]=1;var zL=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,s,o,c=n.length,u=0;for(s=0;s<c;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<c&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),u+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(u),o=0,s=0;o<u;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<c&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const HL=(n,e)=>{if(e<65534&&n.subarray&&LN)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var GL=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,s;const o=new Array(t*2);for(s=0,r=0;r<t;){let c=n[r++];if(c<128){o[s++]=c;continue}let u=jf[c];if(u>4){o[s++]=65533,r+=u-1;continue}for(c&=u===2?31:u===3?15:7;u>1&&r<t;)c=c<<6|n[r++]&63,u--;if(u>1){o[s++]=65533;continue}c<65536?o[s++]=c:(c-=65536,o[s++]=55296|c>>10&1023,o[s++]=56320|c&1023)}return HL(o,s)},$L=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+jf[n[t]]>e?t:e},x2={string2buf:zL,buf2string:GL,utf8border:$L};function YL(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var WL=YL;const cm=16209,KL=16191;var XL=function(e,t){let r,s,o,c,u,d,p,y,_,A,x,k,j,M,R,F,q,W,ce,xe,$,I,P,V;const T=e.state;r=e.next_in,P=e.input,s=r+(e.avail_in-5),o=e.next_out,V=e.output,c=o-(t-e.avail_out),u=o+(e.avail_out-257),d=T.dmax,p=T.wsize,y=T.whave,_=T.wnext,A=T.window,x=T.hold,k=T.bits,j=T.lencode,M=T.distcode,R=(1<<T.lenbits)-1,F=(1<<T.distbits)-1;e:do{k<15&&(x+=P[r++]<<k,k+=8,x+=P[r++]<<k,k+=8),q=j[x&R];t:for(;;){if(W=q>>>24,x>>>=W,k-=W,W=q>>>16&255,W===0)V[o++]=q&65535;else if(W&16){ce=q&65535,W&=15,W&&(k<W&&(x+=P[r++]<<k,k+=8),ce+=x&(1<<W)-1,x>>>=W,k-=W),k<15&&(x+=P[r++]<<k,k+=8,x+=P[r++]<<k,k+=8),q=M[x&F];n:for(;;){if(W=q>>>24,x>>>=W,k-=W,W=q>>>16&255,W&16){if(xe=q&65535,W&=15,k<W&&(x+=P[r++]<<k,k+=8,k<W&&(x+=P[r++]<<k,k+=8)),xe+=x&(1<<W)-1,xe>d){e.msg="invalid distance too far back",T.mode=cm;break e}if(x>>>=W,k-=W,W=o-c,xe>W){if(W=xe-W,W>y&&T.sane){e.msg="invalid distance too far back",T.mode=cm;break e}if($=0,I=A,_===0){if($+=p-W,W<ce){ce-=W;do V[o++]=A[$++];while(--W);$=o-xe,I=V}}else if(_<W){if($+=p+_-W,W-=_,W<ce){ce-=W;do V[o++]=A[$++];while(--W);if($=0,_<ce){W=_,ce-=W;do V[o++]=A[$++];while(--W);$=o-xe,I=V}}}else if($+=_-W,W<ce){ce-=W;do V[o++]=A[$++];while(--W);$=o-xe,I=V}for(;ce>2;)V[o++]=I[$++],V[o++]=I[$++],V[o++]=I[$++],ce-=3;ce&&(V[o++]=I[$++],ce>1&&(V[o++]=I[$++]))}else{$=o-xe;do V[o++]=V[$++],V[o++]=V[$++],V[o++]=V[$++],ce-=3;while(ce>2);ce&&(V[o++]=V[$++],ce>1&&(V[o++]=V[$++]))}}else if((W&64)===0){q=M[(q&65535)+(x&(1<<W)-1)];continue n}else{e.msg="invalid distance code",T.mode=cm;break e}break}}else if((W&64)===0){q=j[(q&65535)+(x&(1<<W)-1)];continue t}else if(W&32){T.mode=KL;break e}else{e.msg="invalid literal/length code",T.mode=cm;break e}break}}while(r<s&&o<u);ce=k>>3,r-=ce,k-=ce<<3,x&=(1<<k)-1,e.next_in=r,e.next_out=o,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=o<u?257+(u-o):257-(o-u),T.hold=x,T.bits=k};const _h=15,Qx=852,Jx=592,Zx=0,g1=1,ew=2,QL=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),JL=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ZL=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),eP=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),tP=(n,e,t,r,s,o,c,u)=>{const d=u.bits;let p=0,y=0,_=0,A=0,x=0,k=0,j=0,M=0,R=0,F=0,q,W,ce,xe,$,I=null,P;const V=new Uint16Array(_h+1),T=new Uint16Array(_h+1);let D=null,O,le,Se;for(p=0;p<=_h;p++)V[p]=0;for(y=0;y<r;y++)V[e[t+y]]++;for(x=d,A=_h;A>=1&&V[A]===0;A--);if(x>A&&(x=A),A===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,u.bits=1,0;for(_=1;_<A&&V[_]===0;_++);for(x<_&&(x=_),M=1,p=1;p<=_h;p++)if(M<<=1,M-=V[p],M<0)return-1;if(M>0&&(n===Zx||A!==1))return-1;for(T[1]=0,p=1;p<_h;p++)T[p+1]=T[p]+V[p];for(y=0;y<r;y++)e[t+y]!==0&&(c[T[e[t+y]]++]=y);if(n===Zx?(I=D=c,P=20):n===g1?(I=QL,D=JL,P=257):(I=ZL,D=eP,P=0),F=0,y=0,p=_,$=o,k=x,j=0,ce=-1,R=1<<x,xe=R-1,n===g1&&R>Qx||n===ew&&R>Jx)return 1;for(;;){O=p-j,c[y]+1<P?(le=0,Se=c[y]):c[y]>=P?(le=D[c[y]-P],Se=I[c[y]-P]):(le=96,Se=0),q=1<<p-j,W=1<<k,_=W;do W-=q,s[$+(F>>j)+W]=O<<24|le<<16|Se|0;while(W!==0);for(q=1<<p-1;F&q;)q>>=1;if(q!==0?(F&=q-1,F+=q):F=0,y++,--V[p]===0){if(p===A)break;p=e[t+c[y]]}if(p>x&&(F&xe)!==ce){for(j===0&&(j=x),$+=_,k=p-j,M=1<<k;k+j<A&&(M-=V[k+j],!(M<=0));)k++,M<<=1;if(R+=1<<k,n===g1&&R>Qx||n===ew&&R>Jx)return 1;ce=F&xe,s[ce]=x<<24|k<<16|$-o|0}}return F!==0&&(s[$+F]=p-j<<24|64<<16|0),u.bits=x,0};var vf=tP;const nP=0,PN=1,DN=2,{Z_FINISH:tw,Z_BLOCK:rP,Z_TREES:um,Z_OK:Uu,Z_STREAM_END:iP,Z_NEED_DICT:sP,Z_STREAM_ERROR:Ya,Z_DATA_ERROR:ON,Z_MEM_ERROR:MN,Z_BUF_ERROR:aP,Z_DEFLATED:nw}=jN,Dg=16180,rw=16181,iw=16182,sw=16183,aw=16184,ow=16185,lw=16186,cw=16187,uw=16188,hw=16189,sg=16190,kl=16191,y1=16192,dw=16193,v1=16194,fw=16195,pw=16196,mw=16197,gw=16198,hm=16199,dm=16200,yw=16201,vw=16202,bw=16203,xw=16204,ww=16205,b1=16206,_w=16207,Nw=16208,Tr=16209,UN=16210,VN=16211,oP=852,lP=592,cP=15,uP=cP,Aw=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function hP(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Hu=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Dg||e.mode>VN?1:0},FN=n=>{if(Hu(n))return Ya;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Dg,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(oP),e.distcode=e.distdyn=new Int32Array(lP),e.sane=1,e.back=-1,Uu},BN=n=>{if(Hu(n))return Ya;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,FN(n)},qN=(n,e)=>{let t;if(Hu(n))return Ya;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ya:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,BN(n))},zN=(n,e)=>{if(!n)return Ya;const t=new hP;n.state=t,t.strm=n,t.window=null,t.mode=Dg;const r=qN(n,e);return r!==Uu&&(n.state=null),r},dP=n=>zN(n,uP);let Ew=!0,x1,w1;const fP=n=>{if(Ew){x1=new Int32Array(512),w1=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(vf(PN,n.lens,0,288,x1,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;vf(DN,n.lens,0,32,w1,0,n.work,{bits:5}),Ew=!1}n.lencode=x1,n.lenbits=9,n.distcode=w1,n.distbits=5},HN=(n,e,t,r)=>{let s;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>r&&(s=r),o.window.set(e.subarray(t-r,t-r+s),o.wnext),r-=s,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},pP=(n,e)=>{let t,r,s,o,c,u,d,p,y,_,A,x,k,j,M=0,R,F,q,W,ce,xe,$,I;const P=new Uint8Array(4);let V,T;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Hu(n)||!n.output||!n.input&&n.avail_in!==0)return Ya;t=n.state,t.mode===kl&&(t.mode=y1),c=n.next_out,s=n.output,d=n.avail_out,o=n.next_in,r=n.input,u=n.avail_in,p=t.hold,y=t.bits,_=u,A=d,I=Uu;e:for(;;)switch(t.mode){case Dg:if(t.wrap===0){t.mode=y1;break}for(;y<16;){if(u===0)break e;u--,p+=r[o++]<<y,y+=8}if(t.wrap&2&&p===35615){t.wbits===0&&(t.wbits=15),t.check=0,P[0]=p&255,P[1]=p>>>8&255,t.check=$o(t.check,P,2,0),p=0,y=0,t.mode=rw;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((p&255)<<8)+(p>>8))%31){n.msg="incorrect header check",t.mode=Tr;break}if((p&15)!==nw){n.msg="unknown compression method",t.mode=Tr;break}if(p>>>=4,y-=4,$=(p&15)+8,t.wbits===0&&(t.wbits=$),$>15||$>t.wbits){n.msg="invalid window size",t.mode=Tr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=p&512?hw:kl,p=0,y=0;break;case rw:for(;y<16;){if(u===0)break e;u--,p+=r[o++]<<y,y+=8}if(t.flags=p,(t.flags&255)!==nw){n.msg="unknown compression method",t.mode=Tr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Tr;break}t.head&&(t.head.text=p>>8&1),t.flags&512&&t.wrap&4&&(P[0]=p&255,P[1]=p>>>8&255,t.check=$o(t.check,P,2,0)),p=0,y=0,t.mode=iw;case iw:for(;y<32;){if(u===0)break e;u--,p+=r[o++]<<y,y+=8}t.head&&(t.head.time=p),t.flags&512&&t.wrap&4&&(P[0]=p&255,P[1]=p>>>8&255,P[2]=p>>>16&255,P[3]=p>>>24&255,t.check=$o(t.check,P,4,0)),p=0,y=0,t.mode=sw;case sw:for(;y<16;){if(u===0)break e;u--,p+=r[o++]<<y,y+=8}t.head&&(t.head.xflags=p&255,t.head.os=p>>8),t.flags&512&&t.wrap&4&&(P[0]=p&255,P[1]=p>>>8&255,t.check=$o(t.check,P,2,0)),p=0,y=0,t.mode=aw;case aw:if(t.flags&1024){for(;y<16;){if(u===0)break e;u--,p+=r[o++]<<y,y+=8}t.length=p,t.head&&(t.head.extra_len=p),t.flags&512&&t.wrap&4&&(P[0]=p&255,P[1]=p>>>8&255,t.check=$o(t.check,P,2,0)),p=0,y=0}else t.head&&(t.head.extra=null);t.mode=ow;case ow:if(t.flags&1024&&(x=t.length,x>u&&(x=u),x&&(t.head&&($=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+x),$)),t.flags&512&&t.wrap&4&&(t.check=$o(t.check,r,x,o)),u-=x,o+=x,t.length-=x),t.length))break e;t.length=0,t.mode=lw;case lw:if(t.flags&2048){if(u===0)break e;x=0;do $=r[o+x++],t.head&&$&&t.length<65536&&(t.head.name+=String.fromCharCode($));while($&&x<u);if(t.flags&512&&t.wrap&4&&(t.check=$o(t.check,r,x,o)),u-=x,o+=x,$)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=cw;case cw:if(t.flags&4096){if(u===0)break e;x=0;do $=r[o+x++],t.head&&$&&t.length<65536&&(t.head.comment+=String.fromCharCode($));while($&&x<u);if(t.flags&512&&t.wrap&4&&(t.check=$o(t.check,r,x,o)),u-=x,o+=x,$)break e}else t.head&&(t.head.comment=null);t.mode=uw;case uw:if(t.flags&512){for(;y<16;){if(u===0)break e;u--,p+=r[o++]<<y,y+=8}if(t.wrap&4&&p!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Tr;break}p=0,y=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=kl;break;case hw:for(;y<32;){if(u===0)break e;u--,p+=r[o++]<<y,y+=8}n.adler=t.check=Aw(p),p=0,y=0,t.mode=sg;case sg:if(t.havedict===0)return n.next_out=c,n.avail_out=d,n.next_in=o,n.avail_in=u,t.hold=p,t.bits=y,sP;n.adler=t.check=1,t.mode=kl;case kl:if(e===rP||e===um)break e;case y1:if(t.last){p>>>=y&7,y-=y&7,t.mode=b1;break}for(;y<3;){if(u===0)break e;u--,p+=r[o++]<<y,y+=8}switch(t.last=p&1,p>>>=1,y-=1,p&3){case 0:t.mode=dw;break;case 1:if(fP(t),t.mode=hm,e===um){p>>>=2,y-=2;break e}break;case 2:t.mode=pw;break;case 3:n.msg="invalid block type",t.mode=Tr}p>>>=2,y-=2;break;case dw:for(p>>>=y&7,y-=y&7;y<32;){if(u===0)break e;u--,p+=r[o++]<<y,y+=8}if((p&65535)!==(p>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Tr;break}if(t.length=p&65535,p=0,y=0,t.mode=v1,e===um)break e;case v1:t.mode=fw;case fw:if(x=t.length,x){if(x>u&&(x=u),x>d&&(x=d),x===0)break e;s.set(r.subarray(o,o+x),c),u-=x,o+=x,d-=x,c+=x,t.length-=x;break}t.mode=kl;break;case pw:for(;y<14;){if(u===0)break e;u--,p+=r[o++]<<y,y+=8}if(t.nlen=(p&31)+257,p>>>=5,y-=5,t.ndist=(p&31)+1,p>>>=5,y-=5,t.ncode=(p&15)+4,p>>>=4,y-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Tr;break}t.have=0,t.mode=mw;case mw:for(;t.have<t.ncode;){for(;y<3;){if(u===0)break e;u--,p+=r[o++]<<y,y+=8}t.lens[D[t.have++]]=p&7,p>>>=3,y-=3}for(;t.have<19;)t.lens[D[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,V={bits:t.lenbits},I=vf(nP,t.lens,0,19,t.lencode,0,t.work,V),t.lenbits=V.bits,I){n.msg="invalid code lengths set",t.mode=Tr;break}t.have=0,t.mode=gw;case gw:for(;t.have<t.nlen+t.ndist;){for(;M=t.lencode[p&(1<<t.lenbits)-1],R=M>>>24,F=M>>>16&255,q=M&65535,!(R<=y);){if(u===0)break e;u--,p+=r[o++]<<y,y+=8}if(q<16)p>>>=R,y-=R,t.lens[t.have++]=q;else{if(q===16){for(T=R+2;y<T;){if(u===0)break e;u--,p+=r[o++]<<y,y+=8}if(p>>>=R,y-=R,t.have===0){n.msg="invalid bit length repeat",t.mode=Tr;break}$=t.lens[t.have-1],x=3+(p&3),p>>>=2,y-=2}else if(q===17){for(T=R+3;y<T;){if(u===0)break e;u--,p+=r[o++]<<y,y+=8}p>>>=R,y-=R,$=0,x=3+(p&7),p>>>=3,y-=3}else{for(T=R+7;y<T;){if(u===0)break e;u--,p+=r[o++]<<y,y+=8}p>>>=R,y-=R,$=0,x=11+(p&127),p>>>=7,y-=7}if(t.have+x>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Tr;break}for(;x--;)t.lens[t.have++]=$}}if(t.mode===Tr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Tr;break}if(t.lenbits=9,V={bits:t.lenbits},I=vf(PN,t.lens,0,t.nlen,t.lencode,0,t.work,V),t.lenbits=V.bits,I){n.msg="invalid literal/lengths set",t.mode=Tr;break}if(t.distbits=6,t.distcode=t.distdyn,V={bits:t.distbits},I=vf(DN,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,V),t.distbits=V.bits,I){n.msg="invalid distances set",t.mode=Tr;break}if(t.mode=hm,e===um)break e;case hm:t.mode=dm;case dm:if(u>=6&&d>=258){n.next_out=c,n.avail_out=d,n.next_in=o,n.avail_in=u,t.hold=p,t.bits=y,XL(n,A),c=n.next_out,s=n.output,d=n.avail_out,o=n.next_in,r=n.input,u=n.avail_in,p=t.hold,y=t.bits,t.mode===kl&&(t.back=-1);break}for(t.back=0;M=t.lencode[p&(1<<t.lenbits)-1],R=M>>>24,F=M>>>16&255,q=M&65535,!(R<=y);){if(u===0)break e;u--,p+=r[o++]<<y,y+=8}if(F&&(F&240)===0){for(W=R,ce=F,xe=q;M=t.lencode[xe+((p&(1<<W+ce)-1)>>W)],R=M>>>24,F=M>>>16&255,q=M&65535,!(W+R<=y);){if(u===0)break e;u--,p+=r[o++]<<y,y+=8}p>>>=W,y-=W,t.back+=W}if(p>>>=R,y-=R,t.back+=R,t.length=q,F===0){t.mode=ww;break}if(F&32){t.back=-1,t.mode=kl;break}if(F&64){n.msg="invalid literal/length code",t.mode=Tr;break}t.extra=F&15,t.mode=yw;case yw:if(t.extra){for(T=t.extra;y<T;){if(u===0)break e;u--,p+=r[o++]<<y,y+=8}t.length+=p&(1<<t.extra)-1,p>>>=t.extra,y-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=vw;case vw:for(;M=t.distcode[p&(1<<t.distbits)-1],R=M>>>24,F=M>>>16&255,q=M&65535,!(R<=y);){if(u===0)break e;u--,p+=r[o++]<<y,y+=8}if((F&240)===0){for(W=R,ce=F,xe=q;M=t.distcode[xe+((p&(1<<W+ce)-1)>>W)],R=M>>>24,F=M>>>16&255,q=M&65535,!(W+R<=y);){if(u===0)break e;u--,p+=r[o++]<<y,y+=8}p>>>=W,y-=W,t.back+=W}if(p>>>=R,y-=R,t.back+=R,F&64){n.msg="invalid distance code",t.mode=Tr;break}t.offset=q,t.extra=F&15,t.mode=bw;case bw:if(t.extra){for(T=t.extra;y<T;){if(u===0)break e;u--,p+=r[o++]<<y,y+=8}t.offset+=p&(1<<t.extra)-1,p>>>=t.extra,y-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Tr;break}t.mode=xw;case xw:if(d===0)break e;if(x=A-d,t.offset>x){if(x=t.offset-x,x>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Tr;break}x>t.wnext?(x-=t.wnext,k=t.wsize-x):k=t.wnext-x,x>t.length&&(x=t.length),j=t.window}else j=s,k=c-t.offset,x=t.length;x>d&&(x=d),d-=x,t.length-=x;do s[c++]=j[k++];while(--x);t.length===0&&(t.mode=dm);break;case ww:if(d===0)break e;s[c++]=t.length,d--,t.mode=dm;break;case b1:if(t.wrap){for(;y<32;){if(u===0)break e;u--,p|=r[o++]<<y,y+=8}if(A-=d,n.total_out+=A,t.total+=A,t.wrap&4&&A&&(n.adler=t.check=t.flags?$o(t.check,s,A,c-A):v2(t.check,s,A,c-A)),A=d,t.wrap&4&&(t.flags?p:Aw(p))!==t.check){n.msg="incorrect data check",t.mode=Tr;break}p=0,y=0}t.mode=_w;case _w:if(t.wrap&&t.flags){for(;y<32;){if(u===0)break e;u--,p+=r[o++]<<y,y+=8}if(t.wrap&4&&p!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Tr;break}p=0,y=0}t.mode=Nw;case Nw:I=iP;break e;case Tr:I=ON;break e;case UN:return MN;case VN:default:return Ya}return n.next_out=c,n.avail_out=d,n.next_in=o,n.avail_in=u,t.hold=p,t.bits=y,(t.wsize||A!==n.avail_out&&t.mode<Tr&&(t.mode<b1||e!==tw))&&HN(n,n.output,n.next_out,A-n.avail_out),_-=n.avail_in,A-=n.avail_out,n.total_in+=_,n.total_out+=A,t.total+=A,t.wrap&4&&A&&(n.adler=t.check=t.flags?$o(t.check,s,A,n.next_out-A):v2(t.check,s,A,n.next_out-A)),n.data_type=t.bits+(t.last?64:0)+(t.mode===kl?128:0)+(t.mode===hm||t.mode===v1?256:0),(_===0&&A===0||e===tw)&&I===Uu&&(I=aP),I},mP=n=>{if(Hu(n))return Ya;let e=n.state;return e.window&&(e.window=null),n.state=null,Uu},gP=(n,e)=>{if(Hu(n))return Ya;const t=n.state;return(t.wrap&2)===0?Ya:(t.head=e,e.done=!1,Uu)},yP=(n,e)=>{const t=e.length;let r,s,o;return Hu(n)||(r=n.state,r.wrap!==0&&r.mode!==sg)?Ya:r.mode===sg&&(s=1,s=v2(s,e,t,0),s!==r.check)?ON:(o=HN(n,e,t,t),o?(r.mode=UN,MN):(r.havedict=1,Uu))};var vP=BN,bP=qN,xP=FN,wP=dP,_P=zN,NP=pP,AP=mP,EP=gP,SP=yP,TP="pako inflate (from Nodeca project)",Ll={inflateReset:vP,inflateReset2:bP,inflateResetKeep:xP,inflateInit:wP,inflateInit2:_P,inflate:NP,inflateEnd:AP,inflateGetHeader:EP,inflateSetDictionary:SP,inflateInfo:TP};function CP(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var RP=CP;const GN=Object.prototype.toString,{Z_NO_FLUSH:IP,Z_FINISH:jP,Z_OK:kf,Z_STREAM_END:_1,Z_NEED_DICT:N1,Z_STREAM_ERROR:kP,Z_DATA_ERROR:Sw,Z_MEM_ERROR:LP}=jN;function Qf(n){this.options=kN.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new WL,this.strm.avail_out=0;let t=Ll.inflateInit2(this.strm,e.windowBits);if(t!==kf)throw new Error(b2[t]);if(this.header=new RP,Ll.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=x2.string2buf(e.dictionary):GN.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Ll.inflateSetDictionary(this.strm,e.dictionary),t!==kf)))throw new Error(b2[t])}Qf.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let o,c,u;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?jP:IP,GN.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=Ll.inflate(t,c),o===N1&&s&&(o=Ll.inflateSetDictionary(t,s),o===kf?o=Ll.inflate(t,c):o===Sw&&(o=N1));t.avail_in>0&&o===_1&&t.state.wrap>0&&n[t.next_in]!==0;)Ll.inflateReset(t),o=Ll.inflate(t,c);switch(o){case kP:case Sw:case N1:case LP:return this.onEnd(o),this.ended=!0,!1}if(u=t.avail_out,t.next_out&&(t.avail_out===0||o===_1))if(this.options.to==="string"){let d=x2.utf8border(t.output,t.next_out),p=t.next_out-d,y=x2.buf2string(t.output,d);t.next_out=p,t.avail_out=r-p,p&&t.output.set(t.output.subarray(d,d+p),0),this.onData(y)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===kf&&u===0)){if(o===_1)return o=Ll.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Qf.prototype.onData=function(n){this.chunks.push(n)};Qf.prototype.onEnd=function(n){n===kf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=kN.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function PP(n,e){const t=new Qf(e);if(t.push(n),t.err)throw t.msg||b2[t.err];return t.result}var DP=Qf,OP=PP,MP={Inflate:DP,inflate:OP};const{Inflate:UP,inflate:VP}=MP;var Tw=UP,FP=VP;const $N=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;$N[n]=e}const Cw=4294967295;function BP(n,e,t){let r=n;for(let s=0;s<t;s++)r=$N[(r^e[s])&255]^r>>>8;return r}function qP(n,e){return(BP(Cw,n,e)^Cw)>>>0}function Rw(n,e,t){const r=n.readUint32(),s=qP(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(s!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${s}`)}function YN(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function WN(n,e,t,r){let s=0;for(;s<r;s++)e[s]=n[s];for(;s<t;s++)e[s]=n[s]+e[s-r]&255}function KN(n,e,t,r){let s=0;if(t.length===0)for(;s<r;s++)e[s]=n[s];else for(;s<r;s++)e[s]=n[s]+t[s]&255}function XN(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-s]>>1)&255}else{for(;o<s;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-s]+t[o]>>1)&255}}function QN(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-s]&255}else{for(;o<s;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+zP(e[o-s],t[o],t[o-s])&255}}function zP(n,e,t){const r=n+e-t,s=Math.abs(r-n),o=Math.abs(r-e),c=Math.abs(r-t);return s<=o&&s<=c?n:o<=c?e:t}function HP(n,e,t,r,s,o){switch(n){case 0:YN(e,t,s);break;case 1:WN(e,t,s,o);break;case 2:KN(e,t,r,s);break;case 3:XN(e,t,r,s,o);break;case 4:QN(e,t,r,s,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const GP=new Uint16Array([255]),$P=new Uint8Array(GP.buffer),YP=$P[0]===255;function WP(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(o/8)*s,d=new Uint8Array(r*t*u);let p=0;for(let y=0;y<7;y++){const _=c[y],A=Math.ceil((t-_.x)/_.xStep),x=Math.ceil((r-_.y)/_.yStep);if(A<=0||x<=0)continue;const k=A*u,j=new Uint8Array(k);for(let M=0;M<x;M++){const R=e[p++],F=e.subarray(p,p+k);p+=k;const q=new Uint8Array(k);HP(R,F,q,j,k,u),j.set(q);for(let W=0;W<A;W++){const ce=_.x+W*_.xStep,xe=_.y+M*_.yStep;if(!(ce>=t||xe>=r))for(let $=0;$<u;$++)d[(xe*t+ce)*u+$]=q[W*u+$]}}}if(o===16){const y=new Uint16Array(d.buffer);if(YP)for(let _=0;_<y.length;_++)y[_]=KP(y[_]);return y}else return d}function KP(n){return(n&255)<<8|n>>8&255}const XP=new Uint16Array([255]),QP=new Uint8Array(XP.buffer),JP=QP[0]===255,ZP=new Uint8Array(0);function Iw(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,c=Math.ceil(o/8)*s,u=Math.ceil(o/8*s*t),d=new Uint8Array(r*u);let p=ZP,y=0,_,A;for(let x=0;x<r;x++){switch(_=e.subarray(y+1,y+1+u),A=d.subarray(x*u,(x+1)*u),e[y]){case 0:YN(_,A,u);break;case 1:WN(_,A,u,c);break;case 2:KN(_,A,p,u);break;case 3:XN(_,A,p,u,c);break;case 4:QN(_,A,p,u,c);break;default:throw new Error(`Unsupported filter: ${e[y]}`)}p=A,y+=u+1}if(o===16){const x=new Uint16Array(d.buffer);if(JP)for(let k=0;k<x.length;k++)x[k]=e9(x[k]);return x}else return d}function e9(n){return(n&255)<<8|n>>8&255}const Im=Uint8Array.of(137,80,78,71,13,10,26,10);function jw(n){if(!t9(n.readBytes(Im.length)))throw new Error("wrong PNG signature")}function t9(n){if(n.length<Im.length)return!1;for(let e=0;e<Im.length;e++)if(n[e]!==Im[e])return!1;return!0}const n9="tEXt",r9=0,JN=new TextDecoder("latin1");function i9(n){if(a9(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const s9=/^[\u0000-\u00FF]*$/;function a9(n){if(!s9.test(n))throw new Error("invalid latin1 text")}function o9(n,e,t){const r=ZN(e);n[r]=l9(e,t-r.length-1)}function ZN(n){for(n.mark();n.readByte()!==r9;);const e=n.offset;n.reset();const t=JN.decode(n.readBytes(e-n.offset-1));return n.skip(1),i9(t),t}function l9(n,e){return JN.decode(n.readBytes(e))}const ha={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},A1={UNKNOWN:-1,DEFLATE:0},kw={UNKNOWN:-1,ADAPTIVE:0},E1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},fm={NONE:0,BACKGROUND:1,PREVIOUS:2},S1={SOURCE:0,OVER:1};class c9 extends $y{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new Tw,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=A1.UNKNOWN,this._filterMethod=kw.UNKNOWN,this._interlaceMethod=E1.UNKNOWN,this._colorType=ha.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(jw(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(jw(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case n9:o9(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Rw(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Rw(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=u9(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case ha.GREYSCALE:r=1;break;case ha.TRUECOLOUR:r=3;break;case ha.INDEXED_COLOUR:r=1;break;case ha.GREYSCALE_ALPHA:r=2;break;case ha.TRUECOLOUR_ALPHA:r=4;break;case ha.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==A1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<t;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case ha.GREYSCALE:case ha.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case ha.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case ha.UNKNOWN:case ha.GREYSCALE_ALPHA:case ha.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=ZN(this),r=this.readUint8();if(r!==A1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:FP(s)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=Iw({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(r,s,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case fm.NONE:break;case fm.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const c=(s*e.width+o)*this._png.channels;for(let u=0;u<this._png.channels;u++)r.data[c+u]=0}break;case fm.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,s=(o,c)=>{const u=((o+t.yOffset)*this._png.width+t.xOffset+c)*this._png.channels,d=(o*t.width+c)*this._png.channels;return{index:u,frameIndex:d}};switch(t.blendOp){case S1.SOURCE:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:u,frameIndex:d}=s(o,c);for(let p=0;p<this._png.channels;p++)e.data[u+p]=t.data[d+p]}break;case S1.OVER:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:u,frameIndex:d}=s(o,c);for(let p=0;p<this._png.channels;p++){const y=t.data[d+this._png.channels-1]/r,_=p%(this._png.channels-1)===0?1:t.data[d+p],A=Math.floor(y*_+(1-y)*e.data[u+p]);e.data[u+p]+=A}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==kw.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===E1.NO_INTERLACE)this._png.data=Iw({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===E1.ADAM7)this._png.data=WP({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:fm.NONE,blendOp:S1.SOURCE,data:e}),this._inflator=new Tw,this._writingDataChunks=!1}}function u9(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Lw;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Lw||(Lw={}));function h9(n,e){return new c9(n,e).decode()}var Wt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function T1(){Wt.console&&typeof Wt.console.log=="function"&&Wt.console.log.apply(Wt.console,arguments)}var lr={log:T1,warn:function(n){Wt.console&&(typeof Wt.console.warn=="function"?Wt.console.warn.apply(Wt.console,arguments):T1.call(null,arguments))},error:function(n){Wt.console&&(typeof Wt.console.error=="function"?Wt.console.error.apply(Wt.console,arguments):T1(n))}};function C1(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Nu(r.response,e,t)},r.onerror=function(){lr.error("could not download file")},r.send()}function Pw(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function pm(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Nu=Wt.saveAs||((typeof window>"u"?"undefined":Xn(window))!=="object"||window!==Wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Wt.URL||Wt.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?Pw(s.href)?C1(n,e,t):pm(s,s.target="_blank"):pm(s)):(s.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){pm(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Pw(n))C1(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){pm(r)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:Xn(o)!=="object"&&(lr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return C1(n,e,t);var s=n.type==="application/octet-stream",o=/constructor/i.test(Wt.HTMLElement)||Wt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&o)&&(typeof FileReader>"u"?"undefined":Xn(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var y=u.result;y=c?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=y:location=y,r=null},u.readAsDataURL(n)}else{var d=Wt.URL||Wt.webkitURL,p=d.createObjectURL(n);r?r.location=p:location.href=p,r=null,setTimeout(function(){d.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function eA(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<t.length;r++){var s=t[r].re,o=t[r].process,c=s.exec(n);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),d=this.g.toString(16),p=this.b.toString(16);return u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),p.length==1&&(p="0"+p),"#"+u+d+p}}var jm=Wt.atob.bind(Wt),Dw=Wt.btoa.bind(Wt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function R1(n,e){var t=n[0],r=n[1],s=n[2],o=n[3];t=ms(t,r,s,o,e[0],7,-680876936),o=ms(o,t,r,s,e[1],12,-389564586),s=ms(s,o,t,r,e[2],17,606105819),r=ms(r,s,o,t,e[3],22,-1044525330),t=ms(t,r,s,o,e[4],7,-176418897),o=ms(o,t,r,s,e[5],12,1200080426),s=ms(s,o,t,r,e[6],17,-1473231341),r=ms(r,s,o,t,e[7],22,-45705983),t=ms(t,r,s,o,e[8],7,1770035416),o=ms(o,t,r,s,e[9],12,-1958414417),s=ms(s,o,t,r,e[10],17,-42063),r=ms(r,s,o,t,e[11],22,-1990404162),t=ms(t,r,s,o,e[12],7,1804603682),o=ms(o,t,r,s,e[13],12,-40341101),s=ms(s,o,t,r,e[14],17,-1502002290),t=gs(t,r=ms(r,s,o,t,e[15],22,1236535329),s,o,e[1],5,-165796510),o=gs(o,t,r,s,e[6],9,-1069501632),s=gs(s,o,t,r,e[11],14,643717713),r=gs(r,s,o,t,e[0],20,-373897302),t=gs(t,r,s,o,e[5],5,-701558691),o=gs(o,t,r,s,e[10],9,38016083),s=gs(s,o,t,r,e[15],14,-660478335),r=gs(r,s,o,t,e[4],20,-405537848),t=gs(t,r,s,o,e[9],5,568446438),o=gs(o,t,r,s,e[14],9,-1019803690),s=gs(s,o,t,r,e[3],14,-187363961),r=gs(r,s,o,t,e[8],20,1163531501),t=gs(t,r,s,o,e[13],5,-1444681467),o=gs(o,t,r,s,e[2],9,-51403784),s=gs(s,o,t,r,e[7],14,1735328473),t=ys(t,r=gs(r,s,o,t,e[12],20,-1926607734),s,o,e[5],4,-378558),o=ys(o,t,r,s,e[8],11,-2022574463),s=ys(s,o,t,r,e[11],16,1839030562),r=ys(r,s,o,t,e[14],23,-35309556),t=ys(t,r,s,o,e[1],4,-1530992060),o=ys(o,t,r,s,e[4],11,1272893353),s=ys(s,o,t,r,e[7],16,-155497632),r=ys(r,s,o,t,e[10],23,-1094730640),t=ys(t,r,s,o,e[13],4,681279174),o=ys(o,t,r,s,e[0],11,-358537222),s=ys(s,o,t,r,e[3],16,-722521979),r=ys(r,s,o,t,e[6],23,76029189),t=ys(t,r,s,o,e[9],4,-640364487),o=ys(o,t,r,s,e[12],11,-421815835),s=ys(s,o,t,r,e[15],16,530742520),t=vs(t,r=ys(r,s,o,t,e[2],23,-995338651),s,o,e[0],6,-198630844),o=vs(o,t,r,s,e[7],10,1126891415),s=vs(s,o,t,r,e[14],15,-1416354905),r=vs(r,s,o,t,e[5],21,-57434055),t=vs(t,r,s,o,e[12],6,1700485571),o=vs(o,t,r,s,e[3],10,-1894986606),s=vs(s,o,t,r,e[10],15,-1051523),r=vs(r,s,o,t,e[1],21,-2054922799),t=vs(t,r,s,o,e[8],6,1873313359),o=vs(o,t,r,s,e[15],10,-30611744),s=vs(s,o,t,r,e[6],15,-1560198380),r=vs(r,s,o,t,e[13],21,1309151649),t=vs(t,r,s,o,e[4],6,-145523070),o=vs(o,t,r,s,e[11],10,-1120210379),s=vs(s,o,t,r,e[2],15,718787259),r=vs(r,s,o,t,e[9],21,-343485551),n[0]=Dc(t,n[0]),n[1]=Dc(r,n[1]),n[2]=Dc(s,n[2]),n[3]=Dc(o,n[3])}function Og(n,e,t,r,s,o){return e=Dc(Dc(e,n),Dc(r,o)),Dc(e<<s|e>>>32-s,t)}function ms(n,e,t,r,s,o,c){return Og(e&t|~e&r,n,e,s,o,c)}function gs(n,e,t,r,s,o,c){return Og(e&r|t&~r,n,e,s,o,c)}function ys(n,e,t,r,s,o,c){return Og(e^t^r,n,e,s,o,c)}function vs(n,e,t,r,s,o,c){return Og(t^(e|~r),n,e,s,o,c)}function tA(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)R1(r,d9(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(R1(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,R1(r,s),r}function d9(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var Ow="0123456789abcdef".split("");function f9(n){for(var e="",t=0;t<4;t++)e+=Ow[n>>8*t+4&15]+Ow[n>>8*t&15];return e}function p9(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function w2(n){return tA(n).map(p9).join("")}var m9=(function(n){for(var e=0;e<n.length;e++)n[e]=f9(n[e]);return n.join("")})(tA("hello"))!="5d41402abc4b2a76b9719d911017c592";function Dc(n,e){if(m9){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function _2(n,e){var t,r,s,o;if(n!==t){for(var c=(s=n,o=1+(256/n.length|0),new Array(o+1).join(s)),u=[],d=0;d<256;d++)u[d]=d;var p=0;for(d=0;d<256;d++){var y=u[d];p=(p+y+c.charCodeAt(d))%256,u[d]=u[p],u[p]=y}t=n,r=u}else u=r;var _=e.length,A=0,x=0,k="";for(d=0;d<_;d++)x=(x+(y=u[A=(A+1)%256]))%256,u[A]=u[x],u[x]=y,c=u[(u[A]+u[x])%256],k+=String.fromCharCode(e.charCodeAt(d)^c);return k}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Mw={print:4,modify:8,copy:16,"annot-forms":32};function Rh(n,e,t,r){this.v=1,this.r=2;var s=192;n.forEach(function(u){if(Mw.perm!==void 0)throw new Error("Invalid permission: "+u);s+=Mw[u]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var o=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^s)),this.encryptionKey=w2(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=_2(this.encryptionKey,this.padding)}function Ih(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var s=n.charCodeAt(r);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):n[r]}return e}function Uw(n){if(Xn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,s){if(s=s||!1,typeof t!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!s],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[t]){var c=e[t][o];try{c[0].apply(n,r)}catch(u){Wt.console&&lr.error("jsPDF PubSub Error",u.message,u)}c[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function ag(n){if(!(this instanceof ag))return new ag(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function nA(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Au(n,e,t,r,s){if(!(this instanceof Au))return new Au(n,e,t,r,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,nA.call(this,r,s)}function kh(n,e,t,r,s){if(!(this instanceof kh))return new kh(n,e,t,r,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,nA.call(this,r,s)}function Nt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],o=arguments[3],c=[],u=1,d=16,p="S",y=null;Xn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,s=n.format||s,o=n.compress||n.compressPdf||o,(y=n.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(d=n.floatPrecision),p=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),r=r||"mm",t=(""+(t||"P")).toLowerCase();var _=n.putOnlyUsedFonts||!1,A={},x={internal:{},__private__:{}};x.__private__.PubSub=Uw;var k="1.3",j=x.__private__.getPdfVersion=function(){return k};x.__private__.setPdfVersion=function(N){k=N};var M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return M};var R=x.__private__.getPageFormat=function(N){return M[N]};s=s||"a4";var F="compat",q="advanced",W=F;function ce(){this.saveGraphicsState(),se(new Rt(jt,0,0,-jt,0,qi()*jt).toString()+" cm"),this.setFontSize(this.getFontSize()/jt),p="n",W=q}function xe(){this.restoreGraphicsState(),p="S",W=F}var $=x.__private__.combineFontStyleAndFontWeight=function(N,z){if(N=="bold"&&z=="normal"||N=="bold"&&z==400||N=="normal"&&z=="italic"||N=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(N=z==400||z==="normal"?N==="italic"?"italic":"normal":z!=700&&z!=="bold"||N!=="normal"?(z==700?"bold":z)+""+N:"bold"),N};x.advancedAPI=function(N){var z=W===F;return z&&ce.call(this),typeof N!="function"||(N(this),z&&xe.call(this)),this},x.compatAPI=function(N){var z=W===q;return z&&xe.call(this),typeof N!="function"||(N(this),z&&ce.call(this)),this},x.isAdvancedAPI=function(){return W===q};var I,P=function(N){if(W!==q)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=x.roundToPrecision=x.__private__.roundToPrecision=function(N,z){var re=e||z;if(isNaN(N)||isNaN(re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(re).replace(/0+$/,"")};I=x.hpf=x.__private__.hpf=typeof d=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return V(N,d)}:d==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return V(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return V(N,16)};var T=x.f2=x.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return V(N,2)},D=x.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return V(N,3)},O=x.scale=x.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return W===F?N*jt:W===q?N:void 0},le=function(N){return O((function(z){return W===F?qi()-z:W===q?z:void 0})(N))};x.__private__.setPrecision=x.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(e=parseInt(N,10))};var Se,ae="00000000000000000000000000000000",ye=x.__private__.getFileId=function(){return ae},pe=x.__private__.setFileId=function(N){return ae=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(tn=new Rh(y.userPermissions,y.userPassword,y.ownerPassword,ae)),ae};x.setFileId=function(N){return pe(N),this},x.getFileId=function(){return ye()};var je=x.__private__.convertDateToPDFDate=function(N){var z=N.getTimezoneOffset(),re=z<0?"+":"-",fe=Math.floor(Math.abs(z/60)),we=Math.abs(z%60),Be=[re,te(fe),"'",te(we),"'"].join("");return["D:",N.getFullYear(),te(N.getMonth()+1),te(N.getDate()),te(N.getHours()),te(N.getMinutes()),te(N.getSeconds()),Be].join("")},ee=x.__private__.convertPDFDateToDate=function(N){var z=parseInt(N.substr(2,4),10),re=parseInt(N.substr(6,2),10)-1,fe=parseInt(N.substr(8,2),10),we=parseInt(N.substr(10,2),10),Be=parseInt(N.substr(12,2),10),We=parseInt(N.substr(14,2),10);return new Date(z,re,fe,we,Be,We,0)},me=x.__private__.setCreationDate=function(N){var z;if(N===void 0&&(N=new Date),N instanceof Date)z=je(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=N}return Se=z},B=x.__private__.getCreationDate=function(N){var z=Se;return N==="jsDate"&&(z=ee(Se)),z};x.setCreationDate=function(N){return me(N),this},x.getCreationDate=function(N){return B(N)};var X,te=x.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},ue=x.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},de=0,_e=[],ke=[],Pe=0,ze=[],Qe=[],nt=!1,rt=ke;x.__private__.setCustomOutputDestination=function(N){nt=!0,rt=N};var Me=function(N){nt||(rt=N)};x.__private__.resetCustomOutputDestination=function(){nt=!1,rt=ke};var se=x.__private__.out=function(N){return N=N.toString(),Pe+=N.length+1,rt.push(N),rt},nn=x.__private__.write=function(N){return se(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},Tt=x.__private__.getArrayBuffer=function(N){for(var z=N.length,re=new ArrayBuffer(z),fe=new Uint8Array(re);z--;)fe[z]=N.charCodeAt(z);return re},Et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return Et};var Ze=n.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(N){return Ze=W===q?N/jt:N,this};var yt,tt=x.__private__.getFontSize=x.getFontSize=function(){return W===F?Ze:Ze*jt},Kt=n.R2L||!1;x.__private__.setR2L=x.setR2L=function(N){return Kt=N,this},x.__private__.getR2L=x.getR2L=function(){return Kt};var bt,gn=x.__private__.setZoomMode=function(N){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))yt=N;else if(isNaN(N)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');yt=N}else yt=parseInt(N,10)};x.__private__.getZoomMode=function(){return yt};var qt,ut=x.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');bt=N};x.__private__.getPageMode=function(){return bt};var wt=x.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');qt=N};x.__private__.getLayoutMode=function(){return qt},x.__private__.setDisplayMode=x.setDisplayMode=function(N,z,re){return gn(N),wt(z),ut(re),this};var St={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(N){if(Object.keys(St).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return St[N]},x.__private__.getDocumentProperties=function(){return St},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(N){for(var z in St)St.hasOwnProperty(z)&&N[z]&&(St[z]=N[z]);return this},x.__private__.setDocumentProperty=function(N,z){if(Object.keys(St).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return St[N]=z};var st,jt,xt,Tn,on,ht={},Ct={},Cn=[],_t={},rn={},Vt={},rr={},Hn=null,yn=0,Pt=[],sn=new Uw(x),Qs=n.hotfixes||[],pr={},rs={},yi=[],Rt=function N(z,re,fe,we,Be,We){if(!(this instanceof N))return new N(z,re,fe,we,Be,We);isNaN(z)&&(z=1),isNaN(re)&&(re=0),isNaN(fe)&&(fe=0),isNaN(we)&&(we=1),isNaN(Be)&&(Be=0),isNaN(We)&&(We=0),this._matrix=[z,re,fe,we,Be,We]};Object.defineProperty(Rt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(Rt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(Rt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(Rt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(Rt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(Rt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(Rt.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(Rt.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(Rt.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(Rt.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(Rt.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(Rt.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(Rt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Rt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Rt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Rt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Rt.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(N)},Rt.prototype.multiply=function(N){var z=N.sx*this.sx+N.shy*this.shx,re=N.sx*this.shy+N.shy*this.sy,fe=N.shx*this.sx+N.sy*this.shx,we=N.shx*this.shy+N.sy*this.sy,Be=N.tx*this.sx+N.ty*this.shx+this.tx,We=N.tx*this.shy+N.ty*this.sy+this.ty;return new Rt(z,re,fe,we,Be,We)},Rt.prototype.decompose=function(){var N=this.sx,z=this.shy,re=this.shx,fe=this.sy,we=this.tx,Be=this.ty,We=Math.sqrt(N*N+z*z),at=(N/=We)*re+(z/=We)*fe;re-=N*at,fe-=z*at;var pt=Math.sqrt(re*re+fe*fe);return at/=pt,N*(fe/=pt)<z*(re/=pt)&&(N=-N,z=-z,at=-at,We=-We),{scale:new Rt(We,0,0,pt,0,0),translate:new Rt(1,0,0,1,we,Be),rotate:new Rt(N,z,-z,N,0,0),skew:new Rt(1,0,at,1,0,0)}},Rt.prototype.toString=function(N){return this.join(" ")},Rt.prototype.inversed=function(){var N=this.sx,z=this.shy,re=this.shx,fe=this.sy,we=this.tx,Be=this.ty,We=1/(N*fe-z*re),at=fe*We,pt=-z*We,kt=-re*We,zt=N*We;return new Rt(at,pt,kt,zt,-at*we-kt*Be,-pt*we-zt*Be)},Rt.prototype.applyToPoint=function(N){var z=N.x*this.sx+N.y*this.shx+this.tx,re=N.x*this.shy+N.y*this.sy+this.ty;return new Ea(z,re)},Rt.prototype.applyToRectangle=function(N){var z=this.applyToPoint(N),re=this.applyToPoint(new Ea(N.x+N.w,N.y+N.h));return new Sa(z.x,z.y,re.x-z.x,re.y-z.y)},Rt.prototype.clone=function(){var N=this.sx,z=this.shy,re=this.shx,fe=this.sy,we=this.tx,Be=this.ty;return new Rt(N,z,re,fe,we,Be)},x.Matrix=Rt;var Rn=x.matrixMult=function(N,z){return z.multiply(N)},Gn=new Rt(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=Gn;var Ln=function(N,z){if(!rn[N]){var re=(z instanceof Au?"Sh":"P")+(Object.keys(_t).length+1).toString(10);z.id=re,rn[N]=re,_t[re]=z,sn.publish("addPattern",z)}};x.ShadingPattern=Au,x.TilingPattern=kh,x.addShadingPattern=function(N,z){return P("addShadingPattern()"),Ln(N,z),this},x.beginTilingPattern=function(N){P("beginTilingPattern()"),hs(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},x.endTilingPattern=function(N,z){P("endTilingPattern()"),z.stream=Qe[X].join(`
`),Ln(N,z),sn.publish("endTilingPattern",z),yi.pop().restore()};var mr,Qn=x.__private__.newObject=function(){var N=Ur();return cr(N,!0),N},Ur=x.__private__.newObjectDeferred=function(){return de++,_e[de]=function(){return Pe},de},cr=function(N,z){return z=typeof z=="boolean"&&z,_e[N]=Pe,z&&se(N+" 0 obj"),N},ya=x.__private__.newAdditionalObject=function(){var N={objId:Ur(),content:""};return ze.push(N),N},is=Ur(),ci=Ur(),ui=x.__private__.decodeColorString=function(N){var z=N.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length!==5||z[4]!=="k"&&z[4]!=="K"||(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var re=parseFloat(z[0]);z=[re,re,re,"r"]}for(var fe="#",we=0;we<3;we++)fe+=("0"+Math.floor(255*parseFloat(z[we])).toString(16)).slice(-2);return fe},Vr=x.__private__.encodeColorString=function(N){var z;typeof N=="string"&&(N={ch1:N});var re=N.ch1,fe=N.ch2,we=N.ch3,Be=N.ch4,We=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof re=="string"&&re.charAt(0)!=="#"){var at=new eA(re);if(at.ok)re=at.toHex();else if(!/^\d*\.?\d*$/.test(re))throw new Error('Invalid color "'+re+'" passed to jsPDF.encodeColorString.')}if(typeof re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(re)&&(re="#"+re[1]+re[1]+re[2]+re[2]+re[3]+re[3]),typeof re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(re)){var pt=parseInt(re.substr(1),16);re=pt>>16&255,fe=pt>>8&255,we=255&pt}if(fe===void 0||Be===void 0&&re===fe&&fe===we)z=typeof re=="string"?re+" "+We[0]:N.precision===2?T(re/255)+" "+We[0]:D(re/255)+" "+We[0];else if(Be===void 0||Xn(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return["1.","1.","1.",We[1]].join(" ");z=typeof re=="string"?[re,fe,we,We[1]].join(" "):N.precision===2?[T(re/255),T(fe/255),T(we/255),We[1]].join(" "):[D(re/255),D(fe/255),D(we/255),We[1]].join(" ")}else z=typeof re=="string"?[re,fe,we,Be,We[2]].join(" "):N.precision===2?[T(re),T(fe),T(we),T(Be),We[2]].join(" "):[D(re),D(fe),D(we),D(Be),We[2]].join(" ");return z},Fr=x.__private__.getFilters=function(){return c},Jn=x.__private__.putStream=function(N){var z=(N=N||{}).data||"",re=N.filters||Fr(),fe=N.alreadyAppliedFilters||[],we=N.addLength1||!1,Be=z.length,We=N.objectId,at=function(gr){return gr};if(y!==null&&We===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(at=tn.encryptor(We,0));var pt={};re===!0&&(re=["FlateEncode"]);var kt=N.additionalKeyValues||[],zt=(pt=Nt.API.processDataByFilters!==void 0?Nt.API.processDataByFilters(z,re):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(pt.data.length!==0&&(kt.push({key:"Length",value:pt.data.length}),we===!0&&kt.push({key:"Length1",value:Be})),zt.length!=0)if(zt.split("/").length-1==1)kt.push({key:"Filter",value:zt});else{kt.push({key:"Filter",value:"["+zt+"]"});for(var cn=0;cn<kt.length;cn+=1)if(kt[cn].key==="DecodeParms"){for(var Zn=[],ir=0;ir<pt.reverseChain.split("/").length-1;ir+=1)Zn.push("null");Zn.push(kt[cn].value),kt[cn].value="["+Zn.join(" ")+"]"}}se("<<");for(var Pn=0;Pn<kt.length;Pn++)se("/"+kt[Pn].key+" "+kt[Pn].value);se(">>"),pt.data.length!==0&&(se("stream"),se(at(pt.data)),se("endstream"))},$n=x.__private__.putPage=function(N){var z=N.number,re=N.data,fe=N.objId,we=N.contentsObjId;cr(fe,!0),se("<</Type /Page"),se("/Parent "+N.rootDictionaryObjId+" 0 R"),se("/Resources "+N.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(I(N.mediaBox.bottomLeftX))+" "+parseFloat(I(N.mediaBox.bottomLeftY))+" "+I(N.mediaBox.topRightX)+" "+I(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&se("/CropBox ["+I(N.cropBox.bottomLeftX)+" "+I(N.cropBox.bottomLeftY)+" "+I(N.cropBox.topRightX)+" "+I(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&se("/BleedBox ["+I(N.bleedBox.bottomLeftX)+" "+I(N.bleedBox.bottomLeftY)+" "+I(N.bleedBox.topRightX)+" "+I(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&se("/TrimBox ["+I(N.trimBox.bottomLeftX)+" "+I(N.trimBox.bottomLeftY)+" "+I(N.trimBox.topRightX)+" "+I(N.trimBox.topRightY)+"]"),N.artBox!==null&&se("/ArtBox ["+I(N.artBox.bottomLeftX)+" "+I(N.artBox.bottomLeftY)+" "+I(N.artBox.topRightX)+" "+I(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&se("/UserUnit "+N.userUnit),sn.publish("putPage",{objId:fe,pageContext:Pt[z],pageNumber:z,page:re}),se("/Contents "+we+" 0 R"),se(">>"),se("endobj");var Be=re.join(`
`);return W===q&&(Be+=`
Q`),cr(we,!0),Jn({data:Be,filters:Fr(),objectId:we}),se("endobj"),fe},ss=x.__private__.putPages=function(){var N,z,re=[];for(N=1;N<=yn;N++)Pt[N].objId=Ur(),Pt[N].contentsObjId=Ur();for(N=1;N<=yn;N++)re.push($n({number:N,data:Qe[N],objId:Pt[N].objId,contentsObjId:Pt[N].contentsObjId,mediaBox:Pt[N].mediaBox,cropBox:Pt[N].cropBox,bleedBox:Pt[N].bleedBox,trimBox:Pt[N].trimBox,artBox:Pt[N].artBox,userUnit:Pt[N].userUnit,rootDictionaryObjId:is,resourceDictionaryObjId:ci}));cr(is,!0),se("<</Type /Pages");var fe="/Kids [";for(z=0;z<yn;z++)fe+=re[z]+" 0 R ";se(fe+"]"),se("/Count "+yn),se(">>"),se("endobj"),sn.publish("postPutPages")},Ds=function(N){sn.publish("putFont",{font:N,out:se,newObject:Qn,putStream:Jn}),N.isAlreadyPutted!==!0&&(N.objectNumber=Qn(),se("<<"),se("/Type /Font"),se("/BaseFont /"+Ih(N.postScriptName)),se("/Subtype /Type1"),typeof N.encoding=="string"&&se("/Encoding /"+N.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},Si=function(N){N.objectNumber=Qn();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[I(N.x),I(N.y),I(N.x+N.width),I(N.y+N.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var re=N.pages[1].join(`
`);Jn({data:re,additionalKeyValues:z,objectId:N.objectNumber}),se("endobj")},as=function(N,z){z||(z=21);var re=Qn(),fe=(function(We,at){var pt,kt=[],zt=1/(at-1);for(pt=0;pt<1;pt+=zt)kt.push(pt);if(kt.push(1),We[0].offset!=0){var cn={offset:0,color:We[0].color};We.unshift(cn)}if(We[We.length-1].offset!=1){var Zn={offset:1,color:We[We.length-1].color};We.push(Zn)}for(var ir="",Pn=0,gr=0;gr<kt.length;gr++){for(pt=kt[gr];pt>We[Pn+1].offset;)Pn++;var Fn=We[Pn].offset,zr=(pt-Fn)/(We[Pn+1].offset-Fn),Fs=We[Pn].color,ra=We[Pn+1].color;ir+=ue(Math.round((1-zr)*Fs[0]+zr*ra[0]).toString(16))+ue(Math.round((1-zr)*Fs[1]+zr*ra[1]).toString(16))+ue(Math.round((1-zr)*Fs[2]+zr*ra[2]).toString(16))}return ir.trim()})(N.colors,z),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+z+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Jn({data:fe,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),se("endobj"),N.objectNumber=Qn(),se("<< /ShadingType "+N.type),se("/ColorSpace /DeviceRGB");var Be="/Coords ["+I(parseFloat(N.coords[0]))+" "+I(parseFloat(N.coords[1]))+" ";N.type===2?Be+=I(parseFloat(N.coords[2]))+" "+I(parseFloat(N.coords[3])):Be+=I(parseFloat(N.coords[2]))+" "+I(parseFloat(N.coords[3]))+" "+I(parseFloat(N.coords[4]))+" "+I(parseFloat(N.coords[5])),se(Be+="]"),N.matrix&&se("/Matrix ["+N.matrix.toString()+"]"),se("/Function "+re+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},Wa=function(N,z){var re=Ur(),fe=Qn();z.push({resourcesOid:re,objectOid:fe}),N.objectNumber=fe;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+N.boundingBox.map(I).join(" ")+"]"}),we.push({key:"XStep",value:I(N.xStep)}),we.push({key:"YStep",value:I(N.yStep)}),we.push({key:"Resources",value:re+" 0 R"}),N.matrix&&we.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),Jn({data:N.stream,additionalKeyValues:we,objectId:N.objectNumber}),se("endobj")},Wl=function(N){for(var z in N.objectNumber=Qn(),se("<<"),N)switch(z){case"opacity":se("/ca "+T(N[z]));break;case"stroke-opacity":se("/CA "+T(N[z]))}se(">>"),se("endobj")},Js=function(N){cr(N.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var z in se("/Font <<"),ht)ht.hasOwnProperty(z)&&(_===!1||_===!0&&A.hasOwnProperty(z))&&se("/"+z+" "+ht[z].objectNumber+" 0 R");se(">>")})(),(function(){if(Object.keys(_t).length>0){for(var z in se("/Shading <<"),_t)_t.hasOwnProperty(z)&&_t[z]instanceof Au&&_t[z].objectNumber>=0&&se("/"+z+" "+_t[z].objectNumber+" 0 R");sn.publish("putShadingPatternDict"),se(">>")}})(),(function(z){if(Object.keys(_t).length>0){for(var re in se("/Pattern <<"),_t)_t.hasOwnProperty(re)&&_t[re]instanceof x.TilingPattern&&_t[re].objectNumber>=0&&_t[re].objectNumber<z&&se("/"+re+" "+_t[re].objectNumber+" 0 R");sn.publish("putTilingPatternDict"),se(">>")}})(N.objectOid),(function(){if(Object.keys(Vt).length>0){var z;for(z in se("/ExtGState <<"),Vt)Vt.hasOwnProperty(z)&&Vt[z].objectNumber>=0&&se("/"+z+" "+Vt[z].objectNumber+" 0 R");sn.publish("putGStateDict"),se(">>")}})(),(function(){for(var z in se("/XObject <<"),pr)pr.hasOwnProperty(z)&&pr[z].objectNumber>=0&&se("/"+z+" "+pr[z].objectNumber+" 0 R");sn.publish("putXobjectDict"),se(">>")})(),se(">>"),se("endobj")},cl=function(N){Ct[N.fontName]=Ct[N.fontName]||{},Ct[N.fontName][N.fontStyle]=N.id},Zs=function(N,z,re,fe,we){var Be={id:"F"+(Object.keys(ht).length+1).toString(10),postScriptName:N,fontName:z,fontStyle:re,encoding:fe,isStandardFont:we||!1,metadata:{}};return sn.publish("addFont",{font:Be,instance:this}),ht[Be.id]=Be,cl(Be),Be.id},Rr=x.__private__.pdfEscape=x.pdfEscape=function(N,z){return(function(re,fe){var we,Be,We,at,pt,kt,zt,cn,Zn;if(We=(fe=fe||{}).sourceEncoding||"Unicode",pt=fe.outputEncoding,(fe.autoencode||pt)&&ht[st].metadata&&ht[st].metadata[We]&&ht[st].metadata[We].encoding&&(at=ht[st].metadata[We].encoding,!pt&&ht[st].encoding&&(pt=ht[st].encoding),!pt&&at.codePages&&(pt=at.codePages[0]),typeof pt=="string"&&(pt=at[pt]),pt)){for(zt=!1,kt=[],we=0,Be=re.length;we<Be;we++)(cn=pt[re.charCodeAt(we)])?kt.push(String.fromCharCode(cn)):kt.push(re[we]),kt[we].charCodeAt(0)>>8&&(zt=!0);re=kt.join("")}for(we=re.length;zt===void 0&&we!==0;)re.charCodeAt(we-1)>>8&&(zt=!0),we--;if(!zt)return re;for(kt=fe.noBOM?[]:[254,255],we=0,Be=re.length;we<Be;we++){if((Zn=(cn=re.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+re+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");kt.push(Zn),kt.push(cn-(Zn<<8))}return String.fromCharCode.apply(void 0,kt)})(N,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ir=x.__private__.beginPage=function(N){Qe[++yn]=[],Pt[yn]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},Os(yn),Me(Qe[X])},va=function(N,z){var re,fe,we;switch(t=z||t,typeof N=="string"&&(re=R(N.toLowerCase()),Array.isArray(re)&&(fe=re[0],we=re[1])),Array.isArray(N)&&(fe=N[0]*jt,we=N[1]*jt),isNaN(fe)&&(fe=s[0],we=s[1]),(fe>14400||we>14400)&&(lr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),we=Math.min(14400,we)),s=[fe,we],t.substr(0,1)){case"l":we>fe&&(s=[we,fe]);break;case"p":fe>we&&(s=[we,fe])}Ir(s),Us(_s),se(us),wn!==0&&se(wn+" J"),Aa!==0&&se(Aa+" j"),sn.publish("addPage",{pageNumber:yn})},Co=function(N){N>0&&N<=yn&&(Qe.splice(N,1),Pt.splice(N,1),yn--,X>yn&&(X=yn),this.setPage(X))},Os=function(N){N>0&&N<=yn&&(X=N)},Ka=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return Qe.length-1},Xa=function(N,z,re){var fe,we=void 0;return re=re||{},N=N!==void 0?N:ht[st].fontName,z=z!==void 0?z:ht[st].fontStyle,fe=N.toLowerCase(),Ct[fe]!==void 0&&Ct[fe][z]!==void 0?we=Ct[fe][z]:Ct[N]!==void 0&&Ct[N][z]!==void 0?we=Ct[N][z]:re.disableWarning===!1&&lr.warn("Unable to look up font label for font '"+N+"', '"+z+"'. Refer to getFontList() for available fonts."),we||re.noFallback||(we=Ct.times[z])==null&&(we=Ct.times.normal),we},ba=x.__private__.putInfo=function(){var N=Qn(),z=function(fe){return fe};for(var re in y!==null&&(z=tn.encryptor(N,0)),se("<<"),se("/Producer ("+Rr(z("jsPDF "+Nt.version))+")"),St)St.hasOwnProperty(re)&&St[re]&&se("/"+re.substr(0,1).toUpperCase()+re.substr(1)+" ("+Rr(z(St[re]))+")");se("/CreationDate ("+Rr(z(Se))+")"),se(">>"),se("endobj")},Ro=x.__private__.putCatalog=function(N){var z=(N=N||{}).rootDictionaryObjId||is;switch(Qn(),se("<<"),se("/Type /Catalog"),se("/Pages "+z+" 0 R"),yt||(yt="fullwidth"),yt){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var re=""+yt;re.substr(re.length-1)==="%"&&(yt=parseInt(yt)/100),typeof yt=="number"&&se("/OpenAction [3 0 R /XYZ null null "+T(yt)+"]")}switch(qt||(qt="continuous"),qt){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}bt&&se("/PageMode /"+bt),sn.publish("putCatalog"),se(">>"),se("endobj")},xn=x.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(de+1)),se("/Root "+de+" 0 R"),se("/Info "+(de-1)+" 0 R"),y!==null&&se("/Encrypt "+tn.oid+" 0 R"),se("/ID [ <"+ae+"> <"+ae+"> ]"),se(">>")},Io=x.__private__.putHeader=function(){se("%PDF-"+k),se("%ºß¬à")},Kl=x.__private__.putXRef=function(){var N="0000000000";se("xref"),se("0 "+(de+1)),se("0000000000 65535 f ");for(var z=1;z<=de;z++)typeof _e[z]=="function"?se((N+_e[z]()).slice(-10)+" 00000 n "):_e[z]!==void 0?se((N+_e[z]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},os=x.__private__.buildDocument=function(){var N;de=0,Pe=0,ke=[],_e=[],ze=[],is=Ur(),ci=Ur(),Me(ke),sn.publish("buildDocument"),Io(),ss(),(function(){sn.publish("putAdditionalObjects");for(var re=0;re<ze.length;re++){var fe=ze[re];cr(fe.objId,!0),se(fe.content),se("endobj")}sn.publish("postPutAdditionalObjects")})(),N=[],(function(){for(var re in ht)ht.hasOwnProperty(re)&&(_===!1||_===!0&&A.hasOwnProperty(re))&&Ds(ht[re])})(),(function(){var re;for(re in Vt)Vt.hasOwnProperty(re)&&Wl(Vt[re])})(),(function(){for(var re in pr)pr.hasOwnProperty(re)&&Si(pr[re])})(),(function(re){var fe;for(fe in _t)_t.hasOwnProperty(fe)&&(_t[fe]instanceof Au?as(_t[fe]):_t[fe]instanceof kh&&Wa(_t[fe],re))})(N),sn.publish("putResources"),N.forEach(Js),Js({resourcesOid:ci,objectOid:Number.MAX_SAFE_INTEGER}),sn.publish("postPutResources"),y!==null&&(tn.oid=Qn(),se("<<"),se("/Filter /Standard"),se("/V "+tn.v),se("/R "+tn.r),se("/U <"+tn.toHexString(tn.U)+">"),se("/O <"+tn.toHexString(tn.O)+">"),se("/P "+tn.P),se(">>"),se("endobj")),ba(),Ro();var z=Pe;return Kl(),xn(),se("startxref"),se(""+z),se("%%EOF"),Me(Qe[X]),ke.join(`
`)},ea=x.__private__.getBlob=function(N){return new Blob([Tt(N)],{type:"application/pdf"})},vi=x.output=x.__private__.output=(mr=function(N,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",N){case void 0:return os();case"save":x.save(z.filename);break;case"arraybuffer":return Tt(os());case"blob":return ea(os());case"bloburi":case"bloburl":if(Wt.URL!==void 0&&typeof Wt.URL.createObjectURL=="function")return Wt.URL&&Wt.URL.createObjectURL(ea(os()))||void 0;lr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var re="",fe=os();try{re=Dw(fe)}catch{re=Dw(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+z.filename+";base64,"+re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(we=z.pdfObjectUrl,Be="");var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",at=Wt.open();return at!==null&&at.document.write(We),at}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',kt=Wt.open();if(kt!==null){kt.document.write(pt);var zt=this;kt.document.documentElement.querySelector("#pdfViewer").onload=function(){kt.document.title=z.filename,kt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(zt.output("bloburl"))}}return kt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var cn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',Zn=Wt.open();if(Zn!==null&&(Zn.document.write(cn),Zn.document.title=z.filename),Zn||typeof safari>"u")return Zn;break;case"datauri":case"dataurl":return Wt.document.location.href=this.output("datauristring",z);default:return null}},mr.foo=function(){try{return mr.apply(this,arguments)}catch(re){var N=re.stack||"";~N.indexOf(" at ")&&(N=N.split(" at ")[1]);var z="Error in function "+N.split(`
`)[0].split("<")[0]+": "+re.message;if(!Wt.console)throw new Error(z);Wt.console.error(z,re),Wt.alert&&alert(z)}},mr.foo.bar=mr,mr.foo),Qa=function(N){return Array.isArray(Qs)===!0&&Qs.indexOf(N)>-1};switch(r){case"pt":jt=1;break;case"mm":jt=72/25.4;break;case"cm":jt=72/2.54;break;case"in":jt=72;break;case"px":jt=Qa("px_scaling")==1?.75:96/72;break;case"pc":case"em":jt=12;break;case"ex":jt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);jt=r}var tn=null;me(),pe();var bi=x.__private__.getPageInfo=x.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Pt[N].objId,pageNumber:N,pageContext:Pt[N]}},Ja=x.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in Pt)if(Pt[z].objId===N)break;return bi(z)},xa=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:Pt[X].objId,pageNumber:X,pageContext:Pt[X]}};x.addPage=function(){return va.apply(this,arguments),this},x.setPage=function(){return Os.apply(this,arguments),Me.call(this,Qe[X]),this},x.insertPage=function(N){return this.addPage(),this.movePage(X,N),this},x.movePage=function(N,z){var re,fe;if(N>z){re=Qe[N],fe=Pt[N];for(var we=N;we>z;we--)Qe[we]=Qe[we-1],Pt[we]=Pt[we-1];Qe[z]=re,Pt[z]=fe,this.setPage(z)}else if(N<z){re=Qe[N],fe=Pt[N];for(var Be=N;Be<z;Be++)Qe[Be]=Qe[Be+1],Pt[Be]=Pt[Be+1];Qe[z]=re,Pt[z]=fe,this.setPage(z)}return this},x.deletePage=function(){return Co.apply(this,arguments),this},x.__private__.text=x.text=function(N,z,re,fe,we){var Be,We,at,pt,kt,zt,cn,Zn,ir,Pn=(fe=fe||{}).scope||this;if(typeof N=="number"&&typeof z=="number"&&(typeof re=="string"||Array.isArray(re))){var gr=re;re=z,z=N,N=gr}if(arguments[3]instanceof Rt==0?(at=arguments[4],pt=arguments[5],Xn(cn=arguments[3])==="object"&&cn!==null||(typeof at=="string"&&(pt=at,at=null),typeof cn=="string"&&(pt=cn,cn=null),typeof cn=="number"&&(at=cn,cn=null),fe={flags:cn,angle:at,align:pt})):(P("The transform parameter of text() with a Matrix value"),ir=we),isNaN(z)||isNaN(re)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return Pn;var Fn,zr="",Fs=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:Vi,ra=Pn.internal.scaleFactor;function Ql(Dn){return Dn=Dn.split("	").join(Array(fe.TabLen||9).join(" ")),Rr(Dn,cn)}function to(Dn){for(var Bn,sr=Dn.concat(),yr=[],Pa=sr.length;Pa--;)typeof(Bn=sr.shift())=="string"?yr.push(Bn):Array.isArray(Dn)&&(Bn.length===1||Bn[1]===void 0&&Bn[2]===void 0)?yr.push(Bn[0]):yr.push([Bn[0],Bn[1],Bn[2]]);return yr}function jr(Dn,Bn){var sr;if(typeof Dn=="string")sr=Bn(Dn)[0];else if(Array.isArray(Dn)){for(var yr,Pa,qs=Dn.concat(),$i=[],fl=qs.length;fl--;)typeof(yr=qs.shift())=="string"?$i.push(Bn(yr)[0]):Array.isArray(yr)&&typeof yr[0]=="string"&&(Pa=Bn(yr[0],yr[1],yr[2]),$i.push([Pa[0],Pa[1],Pa[2]]));sr=$i}return sr}var ds=!1,Lo=!0;if(typeof N=="string")ds=!0;else if(Array.isArray(N)){var zi=N.concat();We=[];for(var g,S=zi.length;S--;)(typeof(g=zi.shift())!="string"||Array.isArray(g)&&typeof g[0]!="string")&&(Lo=!1);ds=Lo}if(ds===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var L=Ze/Pn.internal.scaleFactor,J=L*(Fs-1);switch(fe.baseline){case"bottom":re-=J;break;case"top":re+=L-J;break;case"hanging":re+=L-2*J;break;case"middle":re+=L/2-J}if((zt=fe.maxWidth||0)>0&&(typeof N=="string"?N=Pn.splitTextToSize(N,zt):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(Dn,Bn){return Dn.concat(Pn.splitTextToSize(Bn,zt))},[]))),Be={text:N,x:z,y:re,options:fe,mutex:{pdfEscape:Rr,activeFontKey:st,fonts:ht,activeFontSize:Ze}},sn.publish("preProcessText",Be),N=Be.text,at=(fe=Be.options).angle,ir instanceof Rt==0&&at&&typeof at=="number"){at*=Math.PI/180,fe.rotationDirection===0&&(at=-at),W===q&&(at=-at);var Ae=Math.cos(at),Oe=Math.sin(at);ir=new Rt(Ae,Oe,-Oe,Ae,0,0)}else at&&at instanceof Rt&&(ir=at);W!==q||ir||(ir=Gn),(kt=fe.charSpace||Na)!==void 0&&(zr+=I(O(kt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Zn=fe.horizontalScale)!==void 0&&(zr+=I(100*Zn)+` Tz
`),fe.lang;var Je=-1,un=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,ur=Pn.internal.getCurrentPageInfo().pageContext;switch(un){case 0:case!1:case"fill":Je=0;break;case 1:case!0:case"stroke":Je=1;break;case 2:case"fillThenStroke":Je=2;break;case 3:case"invisible":Je=3;break;case 4:case"fillAndAddForClipping":Je=4;break;case 5:case"strokeAndAddPathForClipping":Je=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Je=6;break;case 7:case"addToPathForClipping":Je=7}var hn=ur.usedRenderingMode!==void 0?ur.usedRenderingMode:-1;Je!==-1?zr+=Je+` Tr
`:hn!==-1&&(zr+=`0 Tr
`),Je!==-1&&(ur.usedRenderingMode=Je),pt=fe.align||"left";var fn,Mn=Ze*Fs,Ss=Pn.internal.pageSize.getWidth(),kr=ht[st];kt=fe.charSpace||Na,zt=fe.maxWidth||0,cn=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var xi=[],Ta=function(Dn){return Pn.getStringUnitWidth(Dn,{font:kr,charSpace:kt,fontSize:Ze,doKerning:!1})*Ze/ra};if(Object.prototype.toString.call(N)==="[object Array]"){var wi;We=to(N),pt!=="left"&&(fn=We.map(Ta));var Hi,Po=0;if(pt==="right"){z-=fn[0],N=[],S=We.length;for(var Bs=0;Bs<S;Bs++)Bs===0?(Hi=Br(z),wi=Fi(re)):(Hi=O(Po-fn[Bs]),wi=-Mn),N.push([We[Bs],Hi,wi]),Po=fn[Bs]}else if(pt==="center"){z-=fn[0]/2,N=[],S=We.length;for(var Ca=0;Ca<S;Ca++)Ca===0?(Hi=Br(z),wi=Fi(re)):(Hi=O((Po-fn[Ca])/2),wi=-Mn),N.push([We[Ca],Hi,wi]),Po=fn[Ca]}else if(pt==="left"){N=[],S=We.length;for(var Jl=0;Jl<S;Jl++)N.push(We[Jl])}else if(pt==="justify"&&kr.encoding==="Identity-H"){N=[],S=We.length,zt=zt!==0?zt:Ss;for(var no=0,wr=0;wr<S;wr++)if(wi=wr===0?Fi(re):-Mn,Hi=wr===0?Br(z):no,wr<S-1){var ad=O((zt-fn[wr])/(We[wr].split(" ").length-1)),Ra=We[wr].split(" ");N.push([Ra[0]+" ",Hi,wi]),no=0;for(var Ia=1;Ia<Ra.length;Ia++){var Zl=(Ta(Ra[Ia-1]+" "+Ra[Ia])-Ta(Ra[Ia]))*ra+ad;Ia==Ra.length-1?N.push([Ra[Ia],Zl,0]):N.push([Ra[Ia]+" ",Zl,0]),no-=Zl}}else N.push([We[wr],Hi,wi]);N.push(["",no,0])}else{if(pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],S=We.length,zt=zt!==0?zt:Ss,wr=0;wr<S;wr++)wi=wr===0?Fi(re):-Mn,Hi=wr===0?Br(z):0,wr<S-1?xi.push(I(O((zt-fn[wr])/(We[wr].split(" ").length-1)))):xi.push(0),N.push([We[wr],Hi,wi])}}(typeof fe.R2L=="boolean"?fe.R2L:Kt)===!0&&(N=jr(N,function(Dn,Bn,sr){return[Dn.split("").reverse().join(""),Bn,sr]})),Be={text:N,x:z,y:re,options:fe,mutex:{pdfEscape:Rr,activeFontKey:st,fonts:ht,activeFontSize:Ze}},sn.publish("postProcessText",Be),N=Be.text,Fn=Be.mutex.isHex||!1;var tu=ht[st].encoding;tu!=="WinAnsiEncoding"&&tu!=="StandardEncoding"||(N=jr(N,function(Dn,Bn,sr){return[Ql(Dn),Bn,sr]})),We=to(N),N=[];for(var hi,ja,Do,Oo=Array.isArray(We[0])?1:0,ka="",ec=function(Dn,Bn,sr){var yr="";return sr instanceof Rt?(sr=typeof fe.angle=="number"?Rn(sr,new Rt(1,0,0,1,Dn,Bn)):Rn(new Rt(1,0,0,1,Dn,Bn),sr),W===q&&(sr=Rn(new Rt(1,0,0,-1,0,0),sr)),yr=sr.join(" ")+` Tm
`):yr=I(Dn)+" "+I(Bn)+` Td
`,yr},Gi=0;Gi<We.length;Gi++){switch(ka="",Oo){case 1:Do=(Fn?"<":"(")+We[Gi][0]+(Fn?">":")"),hi=parseFloat(We[Gi][1]),ja=parseFloat(We[Gi][2]);break;case 0:Do=(Fn?"<":"(")+We[Gi]+(Fn?">":")"),hi=Br(z),ja=Fi(re)}xi!==void 0&&xi[Gi]!==void 0&&(ka=xi[Gi]+` Tw
`),Gi===0?N.push(ka+ec(hi,ja,ir)+Do):Oo===0?N.push(ka+Do):Oo===1&&N.push(ka+ec(hi,ja,ir)+Do)}N=Oo===0?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var La=`BT
/`;return La+=st+" "+Ze+` Tf
`,La+=I(Ze*Fs)+` TL
`,La+=Ci+`
`,La+=zr,La+=N,se(La+="ET"),A[st]=!0,Pn};var ta=x.__private__.clip=x.clip=function(N){return se(N==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return ta("evenodd")},x.__private__.discardPath=x.discardPath=function(){return se("n"),this};var ln=x.__private__.isValidStyle=function(N){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(z=!0),z};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(N){return ln(N)&&(p=N),this};var wa=x.__private__.getStyle=x.getStyle=function(N){var z=p;switch(N){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=N}return z},Ui=x.close=function(){return se("h"),this};x.stroke=function(){return se("S"),this},x.fill=function(N){return ls("f",N),this},x.fillEvenOdd=function(N){return ls("f*",N),this},x.fillStroke=function(N){return ls("B",N),this},x.fillStrokeEvenOdd=function(N){return ls("B*",N),this};var ls=function(N,z){Xn(z)==="object"?hl(z,N):se(N)},jo=function(N){N===null||W===q&&N===void 0||(N=wa(N),se(N))};function ul(N,z,re,fe,we){var Be=new kh(z||this.boundingBox,re||this.xStep,fe||this.yStep,this.gState,we||this.matrix);Be.stream=this.stream;var We=N+"$$"+this.cloneIndex+++"$$";return Ln(We,Be),Be}var hl=function(N,z){var re=rn[N.key],fe=_t[re];if(fe instanceof Au)se("q"),se(eu(z)),fe.gState&&x.setGState(fe.gState),se(N.matrix.toString()+" cm"),se("/"+re+" sh"),se("Q");else if(fe instanceof kh){var we=new Rt(1,0,0,-1,0,qi());N.matrix&&(we=we.multiply(N.matrix||Gn),re=ul.call(fe,N.key,N.boundingBox,N.xStep,N.yStep,we).id),se("q"),se("/Pattern cs"),se("/"+re+" scn"),fe.gState&&x.setGState(fe.gState),se(z),se("Q")}},eu=function(N){switch(N){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},dl=x.moveTo=function(N,z){return se(I(O(N))+" "+I(le(z))+" m"),this},Ms=x.lineTo=function(N,z){return se(I(O(N))+" "+I(le(z))+" l"),this},Ti=x.curveTo=function(N,z,re,fe,we,Be){return se([I(O(N)),I(le(z)),I(O(re)),I(le(fe)),I(O(we)),I(le(Be)),"c"].join(" ")),this};x.__private__.line=x.line=function(N,z,re,fe,we){if(isNaN(N)||isNaN(z)||isNaN(re)||isNaN(fe)||!ln(we))throw new Error("Invalid arguments passed to jsPDF.line");return W===F?this.lines([[re-N,fe-z]],N,z,[1,1],we||"S"):this.lines([[re-N,fe-z]],N,z,[1,1]).stroke()},x.__private__.lines=x.lines=function(N,z,re,fe,we,Be){var We,at,pt,kt,zt,cn,Zn,ir,Pn,gr,Fn,zr;if(typeof N=="number"&&(zr=re,re=z,z=N,N=zr),fe=fe||[1,1],Be=Be||!1,isNaN(z)||isNaN(re)||!Array.isArray(N)||!Array.isArray(fe)||!ln(we)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(dl(z,re),We=fe[0],at=fe[1],kt=N.length,gr=z,Fn=re,pt=0;pt<kt;pt++)(zt=N[pt]).length===2?(gr=zt[0]*We+gr,Fn=zt[1]*at+Fn,Ms(gr,Fn)):(cn=zt[0]*We+gr,Zn=zt[1]*at+Fn,ir=zt[2]*We+gr,Pn=zt[3]*at+Fn,gr=zt[4]*We+gr,Fn=zt[5]*at+Fn,Ti(cn,Zn,ir,Pn,gr,Fn));return Be&&Ui(),jo(we),this},x.path=function(N){for(var z=0;z<N.length;z++){var re=N[z],fe=re.c;switch(re.op){case"m":dl(fe[0],fe[1]);break;case"l":Ms(fe[0],fe[1]);break;case"c":Ti.apply(this,fe);break;case"h":Ui()}}return this},x.__private__.rect=x.rect=function(N,z,re,fe,we){if(isNaN(N)||isNaN(z)||isNaN(re)||isNaN(fe)||!ln(we))throw new Error("Invalid arguments passed to jsPDF.rect");return W===F&&(fe=-fe),se([I(O(N)),I(le(z)),I(O(re)),I(O(fe)),"re"].join(" ")),jo(we),this},x.__private__.triangle=x.triangle=function(N,z,re,fe,we,Be,We){if(isNaN(N)||isNaN(z)||isNaN(re)||isNaN(fe)||isNaN(we)||isNaN(Be)||!ln(We))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[re-N,fe-z],[we-re,Be-fe],[N-we,z-Be]],N,z,[1,1],We,!0),this},x.__private__.roundedRect=x.roundedRect=function(N,z,re,fe,we,Be,We){if(isNaN(N)||isNaN(z)||isNaN(re)||isNaN(fe)||isNaN(we)||isNaN(Be)||!ln(We))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var at=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*re),Be=Math.min(Be,.5*fe),this.lines([[re-2*we,0],[we*at,0,we,Be-Be*at,we,Be],[0,fe-2*Be],[0,Be*at,-we*at,Be,-we,Be],[2*we-re,0],[-we*at,0,-we,-Be*at,-we,-Be],[0,2*Be-fe],[0,-Be*at,we*at,-Be,we,-Be]],N+we,z,[1,1],We,!0),this},x.__private__.ellipse=x.ellipse=function(N,z,re,fe,we){if(isNaN(N)||isNaN(z)||isNaN(re)||isNaN(fe)||!ln(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*re,We=4/3*(Math.SQRT2-1)*fe;return dl(N+re,z),Ti(N+re,z-We,N+Be,z-fe,N,z-fe),Ti(N-Be,z-fe,N-re,z-We,N-re,z),Ti(N-re,z+We,N-Be,z+fe,N,z+fe),Ti(N+Be,z+fe,N+re,z+We,N+re,z),jo(we),this},x.__private__.circle=x.circle=function(N,z,re,fe){if(isNaN(N)||isNaN(z)||isNaN(re)||!ln(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,z,re,re,fe)},x.setFont=function(N,z,re){return re&&(z=$(z,re)),st=Xa(N,z,{disableWarning:!1}),this};var cs=x.__private__.getFont=x.getFont=function(){return ht[Xa.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var N,z,re={};for(N in Ct)if(Ct.hasOwnProperty(N))for(z in re[N]=[],Ct[N])Ct[N].hasOwnProperty(z)&&re[N].push(z);return re},x.addFont=function(N,z,re,fe,we){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(re=$(re,fe)),Zs.call(this,N,z,re,we=we||"Identity-H")};var Vi,_s=n.lineWidth||.200025,Dt=x.__private__.getLineWidth=x.getLineWidth=function(){return _s},Us=x.__private__.setLineWidth=x.setLineWidth=function(N){return _s=N,se(I(O(N))+" w"),this};x.__private__.setLineDash=Nt.API.setLineDash=Nt.API.setLineDashPattern=function(N,z){if(N=N||[],z=z||0,isNaN(z)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(re){return I(O(re))}).join(" "),z=I(O(z)),se("["+N+"] "+z+" d"),this};var Xl=x.__private__.getLineHeight=x.getLineHeight=function(){return Ze*Vi};x.__private__.getLineHeight=x.getLineHeight=function(){return Ze*Vi};var Za=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(Vi=N),this},Ns=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return Vi};Za(n.lineHeight);var Br=x.__private__.getHorizontalCoordinate=function(N){return O(N)},Fi=x.__private__.getVerticalCoordinate=function(N){return W===q?N:Pt[X].mediaBox.topRightY-Pt[X].mediaBox.bottomLeftY-O(N)},Vs=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(N){return I(Br(N))},_a=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(N){return I(Fi(N))},us=n.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return ui(us)},x.__private__.setStrokeColor=x.setDrawColor=function(N,z,re,fe){return us=Vr({ch1:N,ch2:z,ch3:re,ch4:fe,pdfColorType:"draw",precision:2}),se(us),this};var eo=n.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return ui(eo)},x.__private__.setFillColor=x.setFillColor=function(N,z,re,fe){return eo=Vr({ch1:N,ch2:z,ch3:re,ch4:fe,pdfColorType:"fill",precision:2}),se(eo),this};var Ci=n.textColor||"0 g",Bi=x.__private__.getTextColor=x.getTextColor=function(){return ui(Ci)};x.__private__.setTextColor=x.setTextColor=function(N,z,re,fe){return Ci=Vr({ch1:N,ch2:z,ch3:re,ch4:fe,pdfColorType:"text",precision:3}),this};var Na=n.charSpace,qr=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(Na||0)};x.__private__.setCharSpace=x.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Na=N,this};var wn=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(N){var z=x.CapJoinStyles[N];if(z===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wn=z,se(z+" J"),this};var Aa=0;x.__private__.setLineJoin=x.setLineJoin=function(N){var z=x.CapJoinStyles[N];if(z===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Aa=z,se(z+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(I(O(N))+" M"),this},x.GState=ag,x.setGState=function(N){(N=typeof N=="string"?Vt[rr[N]]:As(null,N)).equals(Hn)||(se("/"+N.id+" gs"),Hn=N)};var As=function(N,z){if(!N||!rr[N]){var re=!1;for(var fe in Vt)if(Vt.hasOwnProperty(fe)&&Vt[fe].equals(z)){re=!0;break}if(re)z=Vt[fe];else{var we="GS"+(Object.keys(Vt).length+1).toString(10);Vt[we]=z,z.id=we}return N&&(rr[N]=z.id),sn.publish("addGState",z),z}};x.addGState=function(N,z){return As(N,z),this},x.saveGraphicsState=function(){return se("q"),Cn.push({key:st,size:Ze,color:Ci}),this},x.restoreGraphicsState=function(){se("Q");var N=Cn.pop();return st=N.key,Ze=N.size,Ci=N.color,Hn=null,this},x.setCurrentTransformationMatrix=function(N){return se(N.toString()+" cm"),this},x.comment=function(N){return se("#"+N),this};var Ea=function(N,z){var re=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(Be){isNaN(Be)||(re=parseFloat(Be))}});var fe=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Be){isNaN(Be)||(fe=parseFloat(Be))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Be){we=Be.toString()}}),this},Sa=function(N,z,re,fe){Ea.call(this,N,z),this.type="rect";var we=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(We){isNaN(We)||(we=parseFloat(We))}});var Be=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(We){isNaN(We)||(Be=parseFloat(We))}}),this},na=function(){this.page=yn,this.currentPage=X,this.pages=Qe.slice(0),this.pagesContext=Pt.slice(0),this.x=xt,this.y=Tn,this.matrix=on,this.width=Ri(X),this.height=qi(X),this.outputDestination=rt,this.id="",this.objectNumber=-1};na.prototype.restore=function(){yn=this.page,X=this.currentPage,Pt=this.pagesContext,Qe=this.pages,xt=this.x,Tn=this.y,on=this.matrix,ko(X,this.width),Ii(X,this.height),rt=this.outputDestination};var hs=function(N,z,re,fe,we){yi.push(new na),yn=X=0,Qe=[],xt=N,Tn=z,on=we,Ir([re,fe])};for(var Es in x.beginFormObject=function(N,z,re,fe,we){return hs(N,z,re,fe,we),this},x.endFormObject=function(N){return(function(z){if(rs[z])yi.pop().restore();else{var re=new na,fe="Xo"+(Object.keys(pr).length+1).toString(10);re.id=fe,rs[z]=fe,pr[fe]=re,sn.publish("addFormObject",re),yi.pop().restore()}})(N),this},x.doFormObject=function(N,z){var re=pr[rs[N]];return se("q"),se(z.toString()+" cm"),se("/"+re.id+" Do"),se("Q"),this},x.getFormObject=function(N){var z=pr[rs[N]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},x.save=function(N,z){return N=N||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(Nu(ea(os()),N),typeof Nu.unload=="function"&&Wt.setTimeout&&setTimeout(Nu.unload,911),this):new Promise(function(re,fe){try{var we=Nu(ea(os()),N);typeof Nu.unload=="function"&&Wt.setTimeout&&setTimeout(Nu.unload,911),re(we)}catch(Be){fe(Be.message)}})},Nt.API)Nt.API.hasOwnProperty(Es)&&(Es==="events"&&Nt.API.events.length?(function(N,z){var re,fe,we;for(we=z.length-1;we!==-1;we--)re=z[we][0],fe=z[we][1],N.subscribe.apply(N,[re].concat(typeof fe=="function"?[fe]:fe))})(sn,Nt.API.events):x[Es]=Nt.API[Es]);var Ri=x.getPageWidth=function(N){return(Pt[N=N||X].mediaBox.topRightX-Pt[N].mediaBox.bottomLeftX)/jt},ko=x.setPageWidth=function(N,z){Pt[N].mediaBox.topRightX=z*jt+Pt[N].mediaBox.bottomLeftX},qi=x.getPageHeight=function(N){return(Pt[N=N||X].mediaBox.topRightY-Pt[N].mediaBox.bottomLeftY)/jt},Ii=x.setPageHeight=function(N,z){Pt[N].mediaBox.topRightY=z*jt+Pt[N].mediaBox.bottomLeftY};return x.internal={pdfEscape:Rr,getStyle:wa,getFont:cs,getFontSize:tt,getCharSpace:qr,getTextColor:Bi,getLineHeight:Xl,getLineHeightFactor:Ns,getLineWidth:Dt,write:nn,getHorizontalCoordinate:Br,getVerticalCoordinate:Fi,getCoordinateString:Vs,getVerticalCoordinateString:_a,collections:{},newObject:Qn,newAdditionalObject:ya,newObjectDeferred:Ur,newObjectDeferredBegin:cr,getFilters:Fr,putStream:Jn,events:sn,scaleFactor:jt,pageSize:{getWidth:function(){return Ri(X)},setWidth:function(N){ko(X,N)},getHeight:function(){return qi(X)},setHeight:function(N){Ii(X,N)}},encryptionOptions:y,encryption:tn,getEncryptor:function(N){return y!==null?tn.encryptor(N,0):function(z){return z}},output:vi,getNumberOfPages:Ka,pages:Qe,out:se,f2:T,f3:D,getPageInfo:bi,getPageInfoByObjId:Ja,getCurrentPageInfo:xa,getPDFVersion:j,Point:Ea,Rectangle:Sa,Matrix:Rt,hasHotfix:Qa},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return Ri(X)},set:function(N){ko(X,N)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return qi(X)},set:function(N){Ii(X,N)},enumerable:!0,configurable:!0}),(function(N){for(var z=0,re=Et.length;z<re;z++){var fe=Zs.call(this,N[z][0],N[z][1],N[z][2],Et[z][3],!0);_===!1&&(A[fe]=!0);var we=N[z][0].split("-");cl({id:fe,fontName:we[0],fontStyle:we[1]||""})}sn.publish("addFonts",{fonts:ht,dictionary:Ct})}).call(x,Et),st="F1",va(s,t),sn.publish("initialized"),x}Rh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Rh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Rh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Rh.prototype.processOwnerPassword=function(n,e){return _2(w2(e).substr(0,5),n)},Rh.prototype.encryptor=function(n,e){var t=w2(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return _2(t,r)}},ag.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Xn(n)!==Xn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Nt.API={events:[]},Nt.version="3.0.2";var $r=Nt.API,Yy=1,Gu=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Nh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jt=function(n){return n.toFixed(2)},Cc=function(n){return n.toFixed(5)};$r.__acroform__={};var Xs=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Vw=function(n){return n*Yy},Yo=function(n){var e=new iA,t=gt.internal.getHeight(n)||0,r=gt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Jt(r)),Number(Jt(t))],e},g9=$r.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},y9=$r.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},v9=$r.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},ai=$r.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return v9(n,e-1)},oi=$r.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return g9(n,e-1)},li=$r.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return y9(n,e-1)},b9=$r.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=n[0],o=n[1],c=n[2],u=n[3],d={};return d.lowerLeft_X=t(s)||0,d.lowerLeft_Y=r(o+u)||0,d.upperRight_X=t(s+c)||0,d.upperRight_Y=r(o)||0,[Number(Jt(d.lowerLeft_X)),Number(Jt(d.lowerLeft_Y)),Number(Jt(d.upperRight_X)),Number(Jt(d.upperRight_Y))]},x9=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=N2(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+Jt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Yo(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},N2=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map(function(T){return T.split(`
`)}):s.map(function(T){return[T]});var o=t,c=gt.internal.getHeight(n)||0;c=c<0?-c:c;var u=gt.internal.getWidth(n)||0;u=u<0?-u:u;var d=function(T,D,O){if(T+1<s.length){var le=D+" "+s[T+1][0];return mm(le,n,O).width<=u-4}return!1};o++;e:for(;o>0;){e="",o--;var p,y,_=mm("3",n,o).height,A=n.multiline?c-o:(c-_)/2,x=A+=2,k=0,j=0,M=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+mm(e,n,o=12).width+", FieldWidth:"+u+`
`;break}for(var R="",F=0,q=0;q<s.length;q++)if(s.hasOwnProperty(q)){var W=!1;if(s[q].length!==1&&M!==s[q].length-1){if((_+2)*(F+2)+2>c)continue e;R+=s[q][M],W=!0,j=q,q--}else{R=(R+=s[q][M]+" ").substr(R.length-1)==" "?R.substr(0,R.length-1):R;var ce=parseInt(q),xe=d(ce,R,o),$=q>=s.length-1;if(xe&&!$){R+=" ",M=0;continue}if(xe||$){if($)j=ce;else if(n.multiline&&(_+2)*(F+2)+2>c)continue e}else{if(!n.multiline||(_+2)*(F+2)+2>c)continue e;j=ce}}for(var I="",P=k;P<=j;P++){var V=s[P];if(n.multiline){if(P===j){I+=V[M]+" ",M=(M+1)%V.length;continue}if(P===k){I+=V[V.length-1]+" ";continue}}I+=V[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,y=mm(I,n,o).width,n.textAlign){case"right":p=u-y-2;break;case"center":p=(u-y)/2;break;default:p=2}e+=Jt(p)+" "+Jt(x)+` Td
`,e+="("+Gu(I)+`) Tj
`,e+=-Jt(p)+` 0 Td
`,x=-(o+2),y=0,k=W?j:j+1,F++,R=""}break}return r.text=e,r.fontSize=o,r},mm=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},w9={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},_9=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},N9=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(So.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(w9)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Yy=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new sA,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o.objId=void 0,o.hasAnnotation&&_9(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,s){var o=!r;for(var c in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(c)){var u=r[c],d=[],p=u.Rect;if(u.Rect&&(u.Rect=b9(u.Rect,s)),s.internal.newObjectDeferredBegin(u.objId,!0),u.DA=gt.createDefaultAppearanceStream(u),Xn(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(d=u.getKeyValueListForStream()),u.Rect=p,u.hasAppearanceStream&&!u.appearanceStreamContent){var y=x9(u);d.push({key:"AP",value:"<</N "+y+">>"}),s.internal.acroformPlugin.xForms.push(y)}if(u.appearanceStreamContent){var _="";for(var A in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(A)){var x=u.appearanceStreamContent[A];if(_+="/"+A+" ",_+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var c in x)if(x.hasOwnProperty(c)){var k=x[c];typeof k=="function"&&(k=k.call(s,u)),_+="/"+c+" "+k+" ",s.internal.acroformPlugin.xForms.indexOf(k)>=0||s.internal.acroformPlugin.xForms.push(k)}}else typeof(k=x)=="function"&&(k=k.call(s,u)),_+="/"+c+" "+k,s.internal.acroformPlugin.xForms.indexOf(k)>=0||s.internal.acroformPlugin.xForms.push(k);_+=">>"}d.push({key:"AP",value:`<<
`+_+">>"})}s.internal.putStream({additionalKeyValues:d,objectId:u.objId}),s.internal.out("endobj")}o&&(function(j,M){for(var R in j)if(j.hasOwnProperty(R)){var F=R,q=j[R];M.internal.newObjectDeferredBegin(q.objId,!0),Xn(q)==="object"&&typeof q.putStream=="function"&&q.putStream(),delete j[F]}})(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},rA=$r.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(c){return c};if(Array.isArray(n)){for(var s="[",o=0;o<n.length;o++)switch(o!==0&&(s+=" "),Xn(n[o])){case"boolean":case"number":case"object":s+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),s+="("+Gu(r(n[o].toString()))+")"):s+=n[o].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},I1=function(n,e,t){var r=function(s){return s};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Gu(r(n))+")"},Xo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Xo.prototype.toString=function(){return this.objId+" 0 R"},Xo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Xo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],s=this[r];s&&(Array.isArray(s)?n.push({key:r,value:rA(s,this.objId,this.scope)}):s instanceof Xo?(s.scope=this.scope,n.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:r,value:s}))}return n};var iA=function(){Xo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Xs(iA,Xo);var sA=function(){Xo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Gu(t(n))+")"}},set:function(t){n=t}})};Xs(sA,Xo);var So=function n(){Xo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(R){if(isNaN(R))throw new Error('Invalid value "'+R+'" for attribute F supplied.');e=R}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ai(e,3)},set:function(R){R?this.F=oi(e,3):this.F=li(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(R){if(isNaN(R))throw new Error('Invalid value "'+R+'" for attribute Ff supplied.');t=R}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(R){r=R!==void 0?R:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(R){r[0]=R}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(R){r[1]=R}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(R){r[2]=R}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(R){r[3]=R}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(R){switch(R){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=R;break;default:throw new Error('Invalid value "'+R+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof og)return;o="FieldObject"+n.FieldNum++}var R=function(F){return F};return this.scope&&(R=this.scope.internal.getEncryptor(this.objId)),"("+Gu(R(o))+")"},set:function(R){o=R.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(R){o=R}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(R){c=R}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(R){u=R}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(R){d=R}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/Yy:p},set:function(R){p=R}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(R){y=R}});var _="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!_||this instanceof og||this instanceof Ru))return I1(_,this.objId,this.scope)},set:function(R){R=R.toString(),_=R}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Mi==0?I1(A,this.objId,this.scope):A},set:function(R){R=R.toString(),A=this instanceof Mi==0?R.substr(0,1)==="("?Nh(R.substr(1,R.length-2)):Nh(R):R}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mi==1?Nh(A.substr(1,A.length-1)):A},set:function(R){R=R.toString(),A=this instanceof Mi==1?"/"+R:R}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(R){this.V=R}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Mi==0?I1(x,this.objId,this.scope):x},set:function(R){R=R.toString(),x=this instanceof Mi==0?R.substr(0,1)==="("?Nh(R.substr(1,R.length-2)):Nh(R):R}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mi==1?Nh(x.substr(1,x.length-1)):x},set:function(R){R=R.toString(),x=this instanceof Mi==1?"/"+R:R}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var k,j=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return j},set:function(R){R=!!R,j=R}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(k)return k},set:function(R){k=R}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,1)},set:function(R){R?this.Ff=oi(this.Ff,1):this.Ff=li(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,2)},set:function(R){R?this.Ff=oi(this.Ff,2):this.Ff=li(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,3)},set:function(R){R?this.Ff=oi(this.Ff,3):this.Ff=li(this.Ff,3)}});var M=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(M!==null)return M},set:function(R){if([0,1,2].indexOf(R)===-1)throw new Error('Invalid value "'+R+'" for attribute Q supplied.');M=R}}),Object.defineProperty(this,"textAlign",{get:function(){var R;switch(M){case 0:default:R="left";break;case 1:R="center";break;case 2:R="right"}return R},configurable:!0,enumerable:!0,set:function(R){switch(R){case"right":case 2:M=2;break;case"center":case 1:M=1;break;default:M=0}}})};Xs(So,Xo);var Mh=function(){So.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return rA(e,this.objId,this.scope)},set:function(t){var r,s;s=[],typeof(r=t)=="string"&&(s=(function(o,c,u){u||(u=1);for(var d,p=[];d=c.exec(o);)p.push(d[u]);return p})(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,18)},set:function(t){t?this.Ff=oi(this.Ff,18):this.Ff=li(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=oi(this.Ff,19):this.Ff=li(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,20)},set:function(t){t?(this.Ff=oi(this.Ff,20),e.sort()):this.Ff=li(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,22)},set:function(t){t?this.Ff=oi(this.Ff,22):this.Ff=li(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,23)},set:function(t){t?this.Ff=oi(this.Ff,23):this.Ff=li(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,27)},set:function(t){t?this.Ff=oi(this.Ff,27):this.Ff=li(this.Ff,27)}}),this.hasAppearanceStream=!1};Xs(Mh,So);var Uh=function(){Mh.call(this),this.fontName="helvetica",this.combo=!1};Xs(Uh,Mh);var Vh=function(){Uh.call(this),this.combo=!0};Xs(Vh,Uh);var km=function(){Vh.call(this),this.edit=!0};Xs(km,Vh);var Mi=function(){So.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,15)},set:function(t){t?this.Ff=oi(this.Ff,15):this.Ff=li(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,16)},set:function(t){t?this.Ff=oi(this.Ff,16):this.Ff=li(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,17)},set:function(t){t?this.Ff=oi(this.Ff,17):this.Ff=li(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,26)},set:function(t){t?this.Ff=oi(this.Ff,26):this.Ff=li(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+Gu(t(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){Xn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Xs(Mi,So);var Lm=function(){Mi.call(this),this.pushButton=!0};Xs(Lm,Mi);var Fh=function(){Mi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Xs(Fh,Mi);var og=function(){var n,e;So.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(u){return u};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),r)c.push("/"+o+" ("+Gu(s(r[o]))+")");return c.push(">>"),c.join(`
`)},set:function(s){Xn(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Xs(og,So),Fh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Fh.prototype.createOption=function(n){var e=new og;return e.Parent=this,e.optionName=n,this.Kids.push(e),A9.call(this.scope,e),e};var Pm=function(){Mi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gt.CheckBox.createAppearanceStream()};Xs(Pm,Mi);var Ru=function(){So.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,13)},set:function(e){e?this.Ff=oi(this.Ff,13):this.Ff=li(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,21)},set:function(e){e?this.Ff=oi(this.Ff,21):this.Ff=li(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,23)},set:function(e){e?this.Ff=oi(this.Ff,23):this.Ff=li(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,24)},set:function(e){e?this.Ff=oi(this.Ff,24):this.Ff=li(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,25)},set:function(e){e?this.Ff=oi(this.Ff,25):this.Ff=li(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,26)},set:function(e){e?this.Ff=oi(this.Ff,26):this.Ff=li(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Xs(Ru,So);var Dm=function(){Ru.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,14)},set:function(n){n?this.Ff=oi(this.Ff,14):this.Ff=li(this.Ff,14)}}),this.password=!0};Xs(Dm,Ru);var gt={CheckBox:{createAppearanceStream:function(){return{N:{On:gt.CheckBox.YesNormal},D:{On:gt.CheckBox.YesPushDown,Off:gt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),o=N2(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Jt(gt.internal.getWidth(n))+" "+Jt(gt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Jt(o.fontSize)+" Tf "+s),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Yo(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=[],o=gt.internal.getHeight(n),c=gt.internal.getWidth(n),u=N2(n,n.caption);return s.push("1 g"),s.push("0 0 "+Jt(c)+" "+Jt(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Jt(c-1)+" "+Jt(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+Jt(u.fontSize)+" Tf "+r),s.push(u.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Jt(gt.internal.getWidth(n))+" "+Jt(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Circle.YesNormal,e.D[n]=gt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Yo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=gt.internal.Bezier_C,o=Number((r*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Cc(gt.internal.getWidth(n)/2)+" "+Cc(gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*gt.internal.Bezier_C).toFixed(5)),c=Number((r*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Cc(gt.internal.getWidth(n)/2)+" "+Cc(gt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Cc(gt.internal.getWidth(n)/2)+" "+Cc(gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+c+" "+c+" "+r+" 0 "+r+" c"),t.push("-"+c+" "+r+" -"+r+" "+c+" -"+r+" 0 c"),t.push("-"+r+" -"+c+" -"+c+" -"+r+" 0 -"+r+" c"),t.push(c+" -"+r+" "+r+" -"+c+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Cc(gt.internal.getWidth(n)/2)+" "+Cc(gt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Cross.YesNormal,e.D[n]=gt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Yo(n);e.scope=n.scope;var t=[],r=gt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Jt(gt.internal.getWidth(n)-2)+" "+Jt(gt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Jt(r.x1.x)+" "+Jt(r.x1.y)+" m"),t.push(Jt(r.x2.x)+" "+Jt(r.x2.y)+" l"),t.push(Jt(r.x4.x)+" "+Jt(r.x4.y)+" m"),t.push(Jt(r.x3.x)+" "+Jt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=gt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Jt(gt.internal.getWidth(n))+" "+Jt(gt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Jt(gt.internal.getWidth(n)-2)+" "+Jt(gt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Jt(t.x1.x)+" "+Jt(t.x1.y)+" m"),r.push(Jt(t.x2.x)+" "+Jt(t.x2.y)+" l"),r.push(Jt(t.x4.x)+" "+Jt(t.x4.y)+" m"),r.push(Jt(t.x3.x)+" "+Jt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Jt(gt.internal.getWidth(n))+" "+Jt(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};gt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=gt.internal.getWidth(n),t=gt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},gt.internal.getWidth=function(n){var e=0;return Xn(n)==="object"&&(e=Vw(n.Rect[2])),e},gt.internal.getHeight=function(n){var e=0;return Xn(n)==="object"&&(e=Vw(n.Rect[3])),e};var A9=$r.addField=function(n){if(N9(this,n),!(n instanceof So))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};$r.AcroFormChoiceField=Mh,$r.AcroFormListBox=Uh,$r.AcroFormComboBox=Vh,$r.AcroFormEditBox=km,$r.AcroFormButton=Mi,$r.AcroFormPushButton=Lm,$r.AcroFormRadioButton=Fh,$r.AcroFormCheckBox=Pm,$r.AcroFormTextField=Ru,$r.AcroFormPasswordField=Dm,$r.AcroFormAppearance=gt,$r.AcroForm={ChoiceField:Mh,ListBox:Uh,ComboBox:Vh,EditBox:km,Button:Mi,PushButton:Lm,RadioButton:Fh,CheckBox:Pm,TextField:Ru,PasswordField:Dm,Appearance:gt},Nt.AcroForm={ChoiceField:Mh,ListBox:Uh,ComboBox:Vh,EditBox:km,Button:Mi,PushButton:Lm,RadioButton:Fh,CheckBox:Pm,TextField:Ru,PasswordField:Dm,Appearance:gt};Nt.AcroForm;function aA(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=n.__addimage__.getImageFileTypeByImageData=function(T,D){var O,le,Se,ae,ye,pe=t;if((D=D||t)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(xe(T))for(ye in r)for(Se=r[ye],O=0;O<Se.length;O+=1){for(ae=!0,le=0;le<Se[O].length;le+=1)if(Se[O][le]!==void 0&&Se[O][le]!==T[le]){ae=!1;break}if(ae===!0){pe=ye;break}}else for(ye in r)for(Se=r[ye],O=0;O<Se.length;O+=1){for(ae=!0,le=0;le<Se[O].length;le+=1)if(Se[O][le]!==void 0&&Se[O][le]!==T.charCodeAt(le)){ae=!1;break}if(ae===!0){pe=ye;break}}return pe===t&&D!==t&&(pe=D),pe},o=function T(D){for(var O=this.internal.write,le=this.internal.putStream,Se=(0,this.internal.getFilters)();Se.indexOf("FlateEncode")!==-1;)Se.splice(Se.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:D.width}),ae.push({key:"Height",value:D.height}),D.colorSpace===R.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===R.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var ye="",pe=0,je=D.transparency.length;pe<je;pe++)ye+=D.transparency[pe]+" "+D.transparency[pe]+" ";ae.push({key:"Mask",value:"["+ye+"]"})}D.sMask!==void 0&&ae.push({key:"SMask",value:D.objectId+1+" 0 R"});var ee=D.filter!==void 0?["/"+D.filter]:void 0;if(le({data:D.data,additionalKeyValues:ae,alreadyAppliedFilters:ee,objectId:D.objectId}),O("endobj"),"sMask"in D&&D.sMask!==void 0){var me=(D.predictor!=null?"/Predictor "+D.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+D.width,B={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:me,data:D.sMask};"filter"in D&&(B.filter=D.filter),T.call(this,B)}if(D.colorSpace===R.INDEXED){var X=this.internal.newObject();le({data:I(new Uint8Array(D.palette)),objectId:X}),O("endobj")}},c=function(){var T=this.internal.collections[e+"images"];for(var D in T)o.call(this,T[D])},u=function(){var T,D=this.internal.collections[e+"images"],O=this.internal.write;for(var le in D)O("/I"+(T=D[le]).index,T.objectId,"0","R")},d=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",u))},p=function(){var T=this.internal.collections[e+"images"];return d.call(this),T},y=function(){return Object.keys(this.internal.collections[e+"images"]).length},_=function(T){return typeof n["process"+T.toUpperCase()]=="function"},A=function(T){return Xn(T)==="object"&&T.nodeType===1},x=function(T,D){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var O=""+T.getAttribute("src");if(O.indexOf("data:image/")===0)return jm(unescape(O).split("base64,").pop());var le=n.loadFile(O,!0);if(le!==void 0)return le}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var Se;switch(D){case"PNG":Se="image/png";break;case"WEBP":Se="image/webp";break;default:Se="image/jpeg"}return jm(T.toDataURL(Se,1).split("base64,").pop())}},k=function(T){var D=this.internal.collections[e+"images"];if(D){for(var O in D)if(T===D[O].alias)return D[O]}},j=function(T,D,O){return T||D||(T=-96,D=-96),T<0&&(T=-1*O.width*72/T/this.internal.scaleFactor),D<0&&(D=-1*O.height*72/D/this.internal.scaleFactor),T===0&&(T=D*O.width/O.height),D===0&&(D=T*O.height/O.width),[T,D]},M=function(T,D,O,le,Se,ae){var ye=j.call(this,O,le,Se),pe=this.internal.getCoordinateString,je=this.internal.getVerticalCoordinateString,ee=p.call(this);if(O=ye[0],le=ye[1],ee[Se.index]=Se,ae){ae*=Math.PI/180;var me=Math.cos(ae),B=Math.sin(ae),X=function(ue){return ue.toFixed(4)},te=[X(me),X(B),X(-1*B),X(me),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,pe(T),je(D+le),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([pe(O),"0","0",pe(le),"0","0","cm"].join(" "))):this.internal.write([pe(O),"0","0",pe(le),pe(T),je(D+le),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Se.index+" Do"),this.internal.write("Q")},R=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var F=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},q=n.__addimage__.sHashCode=function(T){var D,O,le=0;if(typeof T=="string")for(O=T.length,D=0;D<O;D++)le=(le<<5)-le+T.charCodeAt(D),le|=0;else if(xe(T))for(O=T.byteLength/2,D=0;D<O;D++)le=(le<<5)-le+T[D],le|=0;return le},W=n.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var D=!0;return T.length===0&&(D=!1),T.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(D=!1),D},ce=n.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var D=T.indexOf(",");return D<0?null:T.substring(0,D).trim().endsWith("base64")?T.substring(D+1):null};n.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var xe=n.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},$=n.__addimage__.binaryStringToUint8Array=function(T){for(var D=T.length,O=new Uint8Array(D),le=0;le<D;le++)O[le]=T.charCodeAt(le);return O},I=n.__addimage__.arrayBufferToBinaryString=function(T){for(var D="",O=xe(T)?T:new Uint8Array(T),le=0;le<O.length;le+=8192)D+=String.fromCharCode.apply(null,O.subarray(le,le+8192));return D};n.addImage=function(){var T,D,O,le,Se,ae,ye,pe,je;if(typeof arguments[1]=="number"?(D=t,O=arguments[1],le=arguments[2],Se=arguments[3],ae=arguments[4],ye=arguments[5],pe=arguments[6],je=arguments[7]):(D=arguments[1],O=arguments[2],le=arguments[3],Se=arguments[4],ae=arguments[5],ye=arguments[6],pe=arguments[7],je=arguments[8]),Xn(T=arguments[0])==="object"&&!A(T)&&"imageData"in T){var ee=T;T=ee.imageData,D=ee.format||D||t,O=ee.x||O||0,le=ee.y||le||0,Se=ee.w||ee.width||Se,ae=ee.h||ee.height||ae,ye=ee.alias||ye,pe=ee.compression||pe,je=ee.rotation||ee.angle||je}var me=this.internal.getFilters();if(pe===void 0&&me.indexOf("FlateEncode")!==-1&&(pe="SLOW"),isNaN(O)||isNaN(le))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var B=P.call(this,T,D,ye,pe);return M.call(this,O,le,Se,ae,B,je),this};var P=function(T,D,O,le){var Se,ae,ye;if(typeof T=="string"&&s(T)===t){T=unescape(T);var pe=V(T,!1);(pe!==""||(pe=n.loadFile(T,!0))!==void 0)&&(T=pe)}if(A(T)&&(T=x(T,D)),D=s(T,D),!_(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((ye=O)==null||ye.length===0)&&(O=(function(je){return typeof je=="string"||xe(je)?q(je):xe(je.data)?q(je.data):null})(T)),(Se=k.call(this,O))||(T instanceof Uint8Array||D==="RGBA"||(ae=T,T=$(T)),Se=this["process"+D.toUpperCase()](T,y.call(this),O,(function(je){return je&&typeof je=="string"&&(je=je.toUpperCase()),je in n.image_compression?je:F.NONE})(le),ae)),!Se)throw new Error("An unknown error occurred whilst processing the image.");return Se},V=n.__addimage__.convertBase64ToBinaryString=function(T,D){D=typeof D!="boolean"||D;var O,le="";if(typeof T=="string"){var Se;O=(Se=ce(T))!==null&&Se!==void 0?Se:T;try{le=jm(O)}catch(ae){if(D)throw W(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return le};n.getImageProperties=function(T){var D,O,le="";if(A(T)&&(T=x(T)),typeof T=="string"&&s(T)===t&&((le=V(T,!1))===""&&(le=n.loadFile(T)||""),T=le),O=s(T),!_(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(T instanceof Uint8Array||(T=$(T)),!(D=this["process"+O.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=O,D}})(Nt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Nt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,s,o,c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(t.objId),p=t.pageContext.annotations,y=!1,_=0;_<p.length&&!y;_++)switch((r=p[_]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var A=0;A<p.length;A++){r=p[A];var x=this.internal.pdfEscape,k=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var j=this.internal.newAdditionalObject(),M=this.internal.newAdditionalObject(),R=this.internal.getEncryptor(j.objId),F=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+c(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+x(R(r.contents))+")",o+=" /Popup "+M.objId+" 0 R",o+=" /P "+d.objId+" 0 R",o+=" /T ("+x(R(F))+") >>",j.content=o;var q=j.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+c(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+q,r.open&&(o+=" /Open true"),o+=" >>",M.content=o,this.internal.write(j.objId,"0 R",M.objId,"0 R");break;case"freetext":s="/Rect ["+c(r.bounds.x)+" "+u(r.bounds.y)+" "+c(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var W=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+x(k(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+W+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var ce=this.annotations._nameMap[r.options.name];r.options.pageNumber=ce.page,r.options.top=ce.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+x(k(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var xe=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+xe+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,s,o,c){var u=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:d(t),y:p(r),w:d(t+s),h:p(r+o)},options:c,type:"link"})},n.textWithLink=function(t,r,s,o){var c,u,d=this.getTextWidth(t),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){u=o.maxWidth;var y=this.splitTextToSize(t,u).length;c=Math.ceil(p*y)}else u=d,c=p;return this.text(t,r,s,o),s+=.2*p,o.align==="center"&&(r-=d/2),o.align==="right"&&(r-=d),this.link(r,s-p,u,c,o),d},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Nt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(j){return e[j.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(j){return typeof j=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(j)},u=n.__arabicParser__.isArabicEndLetter=function(j){return c(j)&&o(j)&&e[j.charCodeAt(0)].length<=2},d=n.__arabicParser__.isArabicAlfLetter=function(j){return c(j)&&s.indexOf(j.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(j){return c(j)&&o(j)&&e[j.charCodeAt(0)].length>=1};var p=n.__arabicParser__.arabicLetterHasFinalForm=function(j){return c(j)&&o(j)&&e[j.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(j){return c(j)&&o(j)&&e[j.charCodeAt(0)].length>=3};var y=n.__arabicParser__.arabicLetterHasMedialForm=function(j){return c(j)&&o(j)&&e[j.charCodeAt(0)].length==4},_=n.__arabicParser__.resolveLigatures=function(j){var M=0,R=t,F="",q=0;for(M=0;M<j.length;M+=1)R[j.charCodeAt(M)]!==void 0?(q++,typeof(R=R[j.charCodeAt(M)])=="number"&&(F+=String.fromCharCode(R),R=t,q=0),M===j.length-1&&(R=t,F+=j.charAt(M-(q-1)),M-=q-1,q=0)):(R=t,F+=j.charAt(M-q),M-=q,q=0);return F};n.__arabicParser__.isArabicDiacritic=function(j){return j!==void 0&&r[j.charCodeAt(0)]!==void 0};var A=n.__arabicParser__.getCorrectForm=function(j,M,R){return c(j)?o(j)===!1?-1:!p(j)||!c(M)&&!c(R)||!c(R)&&u(M)||u(j)&&!c(M)||u(j)&&d(M)||u(j)&&u(M)?0:y(j)&&c(M)&&!u(M)&&c(R)&&p(R)?3:u(j)||!c(R)?1:2:-1},x=function(j){var M=0,R=0,F=0,q="",W="",ce="",xe=(j=j||"").split("\\s+"),$=[];for(M=0;M<xe.length;M+=1){for($.push(""),R=0;R<xe[M].length;R+=1)q=xe[M][R],W=xe[M][R-1],ce=xe[M][R+1],c(q)?(F=A(q,W,ce),$[M]+=F!==-1?String.fromCharCode(e[q.charCodeAt(0)][F]):q):$[M]+=q;$[M]=_($[M])}return $.join(" ")},k=n.__arabicParser__.processArabic=n.processArabic=function(){var j,M=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,R=[];if(Array.isArray(M)){var F=0;for(R=[],F=0;F<M.length;F+=1)Array.isArray(M[F])?R.push([x(M[F][0]),M[F][1],M[F][2]]):R.push([x(M[F])]);j=R}else j=x(M);return typeof arguments[0]=="string"?j:(arguments[0].text=j,arguments[0])};n.events.push(["preProcessText",k])})(Nt.API),Nt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(u){s=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(u){o=u}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(u){c=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var s;if((t=t||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Nt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(j){d=j}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(j){p=j}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(j){y=j}});var _=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return _},set:function(j){_=j}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(j){A=j}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(j){x=j}});var k=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return k},set:function(j){k=j}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(d){return r.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},n.getTextDimensions=function(d,p){r.call(this);var y=(p=p||{}).fontSize||this.getFontSize(),_=p.font||this.getFont(),A=p.scaleFactor||this.internal.scaleFactor,x=0,k=0,j=0,M=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var R=p.maxWidth;R>0?typeof d=="string"?d=this.splitTextToSize(d,R):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(q,W){return q.concat(M.splitTextToSize(W,R))},[])):d=Array.isArray(d)?d:[d];for(var F=0;F<d.length;F++)x<(j=this.getStringUnitWidth(d[F],{font:_})*y)&&(x=j);return x!==0&&(k=d.length),{w:x/=A,h:Math.max((k*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/A,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var d;d=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var p=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,_=this.internal.__cell__.margins||e,A=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===d.lineNumber?(d.x=(p.x||0)+(p.width||0),d.y=p.y||0):p.y+p.height+d.height+_.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=_.top,x&&A&&(this.printHeaderRow(d.lineNumber,!0),d.y+=A[0].height)):d.y=p.y+p.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,t===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-y,d.y+y,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+y,{align:"center",baseline:"top",maxWidth:d.width-y-y}):this.text(d.text,d.x+y,d.y+y,{align:"left",baseline:"top",maxWidth:d.width-y-y})),this.internal.__cell__.lastCell=d,this};n.table=function(d,p,y,_,A){if(r.call(this),!y)throw new Error("No data for PDF table.");var x,k,j,M,R=[],F=[],q=[],W={},ce={},xe=[],$=[],I=(A=A||{}).autoSize||!1,P=A.printHeaders!==!1,V=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,T=A.margins||Object.assign({width:this.getPageWidth()},e),D=typeof A.padding=="number"?A.padding:3,O=A.headerBackgroundColor||"#c8c8c8",le=A.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=le,this.setFontSize(V),_==null)F=R=Object.keys(y[0]),q=R.map(function(){return"left"});else if(Array.isArray(_)&&Xn(_[0])==="object")for(R=_.map(function(ee){return ee.name}),F=_.map(function(ee){return ee.prompt||ee.name||""}),q=_.map(function(ee){return ee.align||"left"}),x=0;x<_.length;x+=1)ce[_[x].name]=.7499990551181103*_[x].width;else Array.isArray(_)&&typeof _[0]=="string"&&(F=R=_,q=R.map(function(){return"left"}));if(I||Array.isArray(_)&&typeof _[0]=="string")for(x=0;x<R.length;x+=1){for(W[M=R[x]]=y.map(function(ee){return ee[M]}),this.setFont(void 0,"bold"),xe.push(this.getTextDimensions(F[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),k=W[M],this.setFont(void 0,"normal"),j=0;j<k.length;j+=1)xe.push(this.getTextDimensions(k[j],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ce[M]=Math.max.apply(null,xe)+D+D,xe=[]}if(P){var Se={};for(x=0;x<R.length;x+=1)Se[R[x]]={},Se[R[x]].text=F[x],Se[R[x]].align=q[x];var ae=u.call(this,Se,ce);$=R.map(function(ee){return new o(d,p,ce[ee],ae,Se[ee].text,void 0,Se[ee].align)}),this.setTableHeaderRow($),this.printHeaderRow(1,!1)}var ye=_.reduce(function(ee,me){return ee[me.name]=me.align,ee},{});for(x=0;x<y.length;x+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:x,data:y[x]},this);var pe=u.call(this,y[x],ce);for(j=0;j<R.length;j+=1){var je=y[x][R[j]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:x,col:j,data:je},this),c.call(this,new o(d,p,ce[R[j]],pe,je,x+2,ye[R[j]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=p,this};var u=function(d,p){var y=this.internal.__cell__.padding,_=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(d).map(function(x){var k=d[x];return this.splitTextToSize(k.hasOwnProperty("text")?k.text:k,p[x]-y-y)},this).map(function(x){return this.getLineHeightFactor()*x.length*_/A+y+y},this).reduce(function(x,k){return Math.max(x,k)},0)};n.setTableHeaderRow=function(d){r.call(this),this.internal.__cell__.tableHeaderRow=d},n.printHeaderRow=function(d,p){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var _=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(_[0],_[1],_[2],_[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){y=this.internal.__cell__.tableHeaderRow[x].clone(),p&&(y.y=this.internal.__cell__.margins.top||0,A.push(y)),y.lineNumber=d;var k=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,y),this.setTextColor(k)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),t=!1}})(Nt.API);var oA={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},lA=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],A2=aA(lA),cA=[100,200,300,400,500,600,700,800,900],E9=aA(cA);function j1(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return oA[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),s=(function(o){return typeof A2[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,r].join(" ")}}}function Fw(n,e,t,r){var s;for(s=t;s>=0&&s<e.length;s+=r)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=r)if(n[e[s]])return n[e[s]]}var S9={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Bw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function qw(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function zw(n){return n.trimLeft()}function T9(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function C9(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var gm,Hw,Gw,Ah,ym,$w,Yw,Ww,k1=["times"];function Kw(n,e,t,r){var s=4,o=Qw;switch(r){case Nt.API.image_compression.FAST:s=1,o=Xw;break;case Nt.API.image_compression.MEDIUM:s=6,o=Jw;break;case Nt.API.image_compression.SLOW:s=9,o=Zw}n=(function(u,d,p,y){for(var _,A=u.length/d,x=new Uint8Array(u.length+A),k=[R9,Xw,Qw,Jw,Zw],j=0;j<A;j+=1){var M=j*d,R=u.subarray(M,M+d);if(y)x.set(y(R,p,_),M+j);else{for(var F=k.length,q=[],W=0;W<F;W+=1)q[W]=k[W](R,p,_);var ce=j9(q.concat());x.set(q[ce],M+j)}_=R}return x})(n,e,t,o);var c=y2(n,{level:s});return Nt.API.__addimage__.arrayBufferToBinaryString(c)}function R9(n){var e=Array.apply([],n);return e.unshift(0),e}function Xw(n,e){var t=n.length,r=[];r[0]=1;for(var s=0;s<t;s+=1){var o=n[s-e]||0;r[s+1]=n[s]-o+256&255}return r}function Qw(n,e,t){var r=n.length,s=[];s[0]=2;for(var o=0;o<r;o+=1){var c=t&&t[o]||0;s[o+1]=n[o]-c+256&255}return s}function Jw(n,e,t){var r=n.length,s=[];s[0]=3;for(var o=0;o<r;o+=1){var c=n[o-e]||0,u=t&&t[o]||0;s[o+1]=n[o]+256-(c+u>>>1)&255}return s}function Zw(n,e,t){var r=n.length,s=[];s[0]=4;for(var o=0;o<r;o+=1){var c=I9(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);s[o+1]=n[o]-c+256&255}return s}function I9(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),s=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=s&&r<=o?n:s<=o?e:t}function j9(n){var e=n.map(function(t){return t.reduce(function(r,s){return r+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function L1(n,e,t){var r=e*t,s=Math.floor(r/8),o=16-(r-8*s+t),c=(1<<t)-1;return uA(n,s)>>o&c}function e_(n,e,t,r){var s=t*r,o=Math.floor(s/8),c=16-(s-8*o+r),u=(1<<r)-1,d=(e&u)<<c;(function(p,y,_){if(y+1<p.byteLength)p.setUint16(y,_,!1);else{var A=_>>8&255;p.setUint8(y,A)}})(n,o,uA(n,o)&~(u<<c)&65535|d)}function uA(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function k9(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,s=n[e++],o=s>>7,c=1<<1+(7&s);n[e++],n[e++];var u=null,d=null;o&&(u=e,d=c,e+=3*c);var p=!0,y=[],_=0,A=null,x=0,k=null;for(this.width=t,this.height=r;p&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,k=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var j=n[e++];_=n[e++]|n[e++]<<8,A=n[e++],1&j||(A=null),x=j>>2&7,e++;break;case 254:for(;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var M=n[e++]|n[e++]<<8,R=n[e++]|n[e++]<<8,F=n[e++]|n[e++]<<8,q=n[e++]|n[e++]<<8,W=n[e++],ce=W>>6&1,xe=1<<1+(7&W),$=u,I=d,P=!1;W>>7&&(P=!0,$=e,I=xe,e+=3*xe);var V=e;for(e++;;){var T;if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}y.push({x:M,y:R,width:F,height:q,has_local_palette:P,palette_offset:$,palette_size:I,data_offset:V,data_length:e-V,transparent_index:A,interlaced:!!ce,delay:_,disposal:x});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return k},this.frameInfo=function(D){if(D<0||D>=y.length)throw new Error("Frame index out of range.");return y[D]},this.decodeAndBlitFrameBGRA=function(D,O){var le=this.frameInfo(D),Se=le.width*le.height,ae=new Uint8Array(Se);t_(n,le.data_offset,ae,Se);var ye=le.palette_offset,pe=le.transparent_index;pe===null&&(pe=256);var je=le.width,ee=t-je,me=je,B=4*(le.y*t+le.x),X=4*((le.y+le.height)*t+le.x),te=B,ue=4*ee;le.interlaced===!0&&(ue+=4*t*7);for(var de=8,_e=0,ke=ae.length;_e<ke;++_e){var Pe=ae[_e];if(me===0&&(me=je,(te+=ue)>=X&&(ue=4*ee+4*t*(de-1),te=B+(je+ee)*(de<<1),de>>=1)),Pe===pe)te+=4;else{var ze=n[ye+3*Pe],Qe=n[ye+3*Pe+1],nt=n[ye+3*Pe+2];O[te++]=nt,O[te++]=Qe,O[te++]=ze,O[te++]=255}--me}},this.decodeAndBlitFrameRGBA=function(D,O){var le=this.frameInfo(D),Se=le.width*le.height,ae=new Uint8Array(Se);t_(n,le.data_offset,ae,Se);var ye=le.palette_offset,pe=le.transparent_index;pe===null&&(pe=256);var je=le.width,ee=t-je,me=je,B=4*(le.y*t+le.x),X=4*((le.y+le.height)*t+le.x),te=B,ue=4*ee;le.interlaced===!0&&(ue+=4*t*7);for(var de=8,_e=0,ke=ae.length;_e<ke;++_e){var Pe=ae[_e];if(me===0&&(me=je,(te+=ue)>=X&&(ue=4*ee+4*t*(de-1),te=B+(je+ee)*(de<<1),de>>=1)),Pe===pe)te+=4;else{var ze=n[ye+3*Pe],Qe=n[ye+3*Pe+1],nt=n[ye+3*Pe+2];O[te++]=ze,O[te++]=Qe,O[te++]=nt,O[te++]=255}--me}}}function t_(n,e,t,r){for(var s=n[e++],o=1<<s,c=o+1,u=c+1,d=s+1,p=(1<<d)-1,y=0,_=0,A=0,x=n[e++],k=new Int32Array(4096),j=null;;){for(;y<16&&x!==0;)_|=n[e++]<<y,y+=8,x===1?x=n[e++]:--x;if(y<d)break;var M=_&p;if(_>>=d,y-=d,M!==o){if(M===c)break;for(var R=M<u?M:j,F=0,q=R;q>o;)q=k[q]>>8,++F;var W=q;if(A+F+(R!==M?1:0)>r)return void lr.log("Warning, gif stream longer than expected.");t[A++]=W;var ce=A+=F;for(R!==M&&(t[A++]=W),q=R;F--;)q=k[q],t[--ce]=255&q,q>>=8;j!==null&&u<4096&&(k[u++]=j<<8|W,u>=p+1&&d<12&&(++d,p=p<<1|1)),j=M}else u=c+1,p=(1<<(d=s+1))-1,j=null}return A!==r&&lr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function P1(n){var e,t,r,s,o,c=Math.floor,u=new Array(64),d=new Array(64),p=new Array(64),y=new Array(64),_=new Array(65535),A=new Array(65535),x=new Array(64),k=new Array(64),j=[],M=0,R=7,F=new Array(64),q=new Array(64),W=new Array(64),ce=new Array(256),xe=new Array(2048),$=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],le=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(B,X){for(var te=0,ue=0,de=new Array,_e=1;_e<=16;_e++){for(var ke=1;ke<=B[_e];ke++)de[X[ue]]=[],de[X[ue]][0]=te,de[X[ue]][1]=_e,ue++,te++;te*=2}return de}function ye(B){for(var X=B[0],te=B[1]-1;te>=0;)X&1<<te&&(M|=1<<R),te--,--R<0&&(M==255?(pe(255),pe(0)):pe(M),R=7,M=0)}function pe(B){j.push(B)}function je(B){pe(B>>8&255),pe(255&B)}function ee(B,X,te,ue,de){for(var _e,ke=de[0],Pe=de[240],ze=(function(Ze,yt){var tt,Kt,bt,gn,qt,ut,wt,St,st,jt,xt=0;for(st=0;st<8;++st){tt=Ze[xt],Kt=Ze[xt+1],bt=Ze[xt+2],gn=Ze[xt+3],qt=Ze[xt+4],ut=Ze[xt+5],wt=Ze[xt+6];var Tn=tt+(St=Ze[xt+7]),on=tt-St,ht=Kt+wt,Ct=Kt-wt,Cn=bt+ut,_t=bt-ut,rn=gn+qt,Vt=gn-qt,rr=Tn+rn,Hn=Tn-rn,yn=ht+Cn,Pt=ht-Cn;Ze[xt]=rr+yn,Ze[xt+4]=rr-yn;var sn=.707106781*(Pt+Hn);Ze[xt+2]=Hn+sn,Ze[xt+6]=Hn-sn;var Qs=.382683433*((rr=Vt+_t)-(Pt=Ct+on)),pr=.5411961*rr+Qs,rs=1.306562965*Pt+Qs,yi=.707106781*(yn=_t+Ct),Rt=on+yi,Rn=on-yi;Ze[xt+5]=Rn+pr,Ze[xt+3]=Rn-pr,Ze[xt+1]=Rt+rs,Ze[xt+7]=Rt-rs,xt+=8}for(xt=0,st=0;st<8;++st){tt=Ze[xt],Kt=Ze[xt+8],bt=Ze[xt+16],gn=Ze[xt+24],qt=Ze[xt+32],ut=Ze[xt+40],wt=Ze[xt+48];var Gn=tt+(St=Ze[xt+56]),Ln=tt-St,mr=Kt+wt,Qn=Kt-wt,Ur=bt+ut,cr=bt-ut,ya=gn+qt,is=gn-qt,ci=Gn+ya,ui=Gn-ya,Vr=mr+Ur,Fr=mr-Ur;Ze[xt]=ci+Vr,Ze[xt+32]=ci-Vr;var Jn=.707106781*(Fr+ui);Ze[xt+16]=ui+Jn,Ze[xt+48]=ui-Jn;var $n=.382683433*((ci=is+cr)-(Fr=Qn+Ln)),ss=.5411961*ci+$n,Ds=1.306562965*Fr+$n,Si=.707106781*(Vr=cr+Qn),as=Ln+Si,Wa=Ln-Si;Ze[xt+40]=Wa+ss,Ze[xt+24]=Wa-ss,Ze[xt+8]=as+Ds,Ze[xt+56]=as-Ds,xt++}for(st=0;st<64;++st)jt=Ze[st]*yt[st],x[st]=jt>0?jt+.5|0:jt-.5|0;return x})(B,X),Qe=0;Qe<64;++Qe)k[$[Qe]]=ze[Qe];var nt=k[0]-te;te=k[0],nt==0?ye(ue[0]):(ye(ue[A[_e=32767+nt]]),ye(_[_e]));for(var rt=63;rt>0&&k[rt]==0;)rt--;if(rt==0)return ye(ke),te;for(var Me,se=1;se<=rt;){for(var nn=se;k[se]==0&&se<=rt;)++se;var Tt=se-nn;if(Tt>=16){Me=Tt>>4;for(var Et=1;Et<=Me;++Et)ye(Pe);Tt&=15}_e=32767+k[se],ye(de[(Tt<<4)+A[_e]]),ye(_[_e]),se++}return rt!=63&&ye(ke),te}function me(B){B=Math.min(Math.max(B,1),100),o!=B&&((function(X){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var de=c((te[ue]*X+50)/100);de=Math.min(Math.max(de,1),255),u[$[ue]]=de}for(var _e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var Pe=c((_e[ke]*X+50)/100);Pe=Math.min(Math.max(Pe,1),255),d[$[ke]]=Pe}for(var ze=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Qe=0,nt=0;nt<8;nt++)for(var rt=0;rt<8;rt++)p[Qe]=1/(u[$[Qe]]*ze[nt]*ze[rt]*8),y[Qe]=1/(d[$[Qe]]*ze[nt]*ze[rt]*8),Qe++})(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),o=B)}this.encode=function(B,X){X&&me(X),j=new Array,M=0,R=7,je(65496),je(65504),je(16),pe(74),pe(70),pe(73),pe(70),pe(0),pe(1),pe(1),pe(0),je(1),je(1),pe(0),pe(0),(function(){je(65499),je(132),pe(0);for(var Kt=0;Kt<64;Kt++)pe(u[Kt]);pe(1);for(var bt=0;bt<64;bt++)pe(d[bt])})(),(function(Kt,bt){je(65472),je(17),pe(8),je(bt),je(Kt),pe(3),pe(1),pe(17),pe(0),pe(2),pe(17),pe(1),pe(3),pe(17),pe(1)})(B.width,B.height),(function(){je(65476),je(418),pe(0);for(var Kt=0;Kt<16;Kt++)pe(I[Kt+1]);for(var bt=0;bt<=11;bt++)pe(P[bt]);pe(16);for(var gn=0;gn<16;gn++)pe(V[gn+1]);for(var qt=0;qt<=161;qt++)pe(T[qt]);pe(1);for(var ut=0;ut<16;ut++)pe(D[ut+1]);for(var wt=0;wt<=11;wt++)pe(O[wt]);pe(17);for(var St=0;St<16;St++)pe(le[St+1]);for(var st=0;st<=161;st++)pe(Se[st])})(),je(65498),je(12),pe(3),pe(1),pe(0),pe(2),pe(17),pe(3),pe(17),pe(0),pe(63),pe(0);var te=0,ue=0,de=0;M=0,R=7,this.encode.displayName="_encode_";for(var _e,ke,Pe,ze,Qe,nt,rt,Me,se,nn=B.data,Tt=B.width,Et=B.height,Ze=4*Tt,yt=0;yt<Et;){for(_e=0;_e<Ze;){for(Qe=Ze*yt+_e,rt=-1,Me=0,se=0;se<64;se++)nt=Qe+(Me=se>>3)*Ze+(rt=4*(7&se)),yt+Me>=Et&&(nt-=Ze*(yt+1+Me-Et)),_e+rt>=Ze&&(nt-=_e+rt-Ze+4),ke=nn[nt++],Pe=nn[nt++],ze=nn[nt++],F[se]=(xe[ke]+xe[Pe+256|0]+xe[ze+512|0]>>16)-128,q[se]=(xe[ke+768|0]+xe[Pe+1024|0]+xe[ze+1280|0]>>16)-128,W[se]=(xe[ke+1280|0]+xe[Pe+1536|0]+xe[ze+1792|0]>>16)-128;te=ee(F,p,te,e,r),ue=ee(q,y,ue,t,s),de=ee(W,y,de,t,s),_e+=32}yt+=8}if(R>=0){var tt=[];tt[1]=R+1,tt[0]=(1<<R+1)-1,ye(tt)}return je(65497),new Uint8Array(j)},n=n||50,(function(){for(var B=String.fromCharCode,X=0;X<256;X++)ce[X]=B(X)})(),e=ae(I,P),t=ae(D,O),r=ae(V,T),s=ae(le,Se),(function(){for(var B=1,X=2,te=1;te<=15;te++){for(var ue=B;ue<X;ue++)A[32767+ue]=te,_[32767+ue]=[],_[32767+ue][1]=te,_[32767+ue][0]=ue;for(var de=-(X-1);de<=-B;de++)A[32767+de]=te,_[32767+de]=[],_[32767+de][1]=te,_[32767+de][0]=X-1+de;B<<=1,X<<=1}})(),(function(){for(var B=0;B<256;B++)xe[B]=19595*B,xe[B+256|0]=38470*B,xe[B+512|0]=7471*B+32768,xe[B+768|0]=-11059*B,xe[B+1024|0]=-21709*B,xe[B+1280|0]=32768*B+8421375,xe[B+1536|0]=-27439*B,xe[B+1792|0]=-5329*B})(),me(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function yo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function n_(n){function e(P){if(!P)throw Error("assert :P")}function t(P,V,T){for(var D=0;4>D;D++)if(P[V+D]!=T.charCodeAt(D))return!0;return!1}function r(P,V,T,D,O){for(var le=0;le<O;le++)P[V+le]=T[D+le]}function s(P,V,T,D){for(var O=0;O<D;O++)P[V+O]=T}function o(P){return new Int32Array(P)}function c(P,V){for(var T=[],D=0;D<P;D++)T.push(new V);return T}function u(P,V){var T=[];return(function D(O,le,Se){for(var ae=Se[le],ye=0;ye<ae&&(O.push(Se.length>le+1?[]:new V),!(Se.length<le+1));ye++)D(O[ye],le+1,Se)})(T,0,P),T}var d=function(){var P=this;function V(m,b){for(var E=1<<b-1>>>0;m&E;)E>>>=1;return E?(m&E-1)+E:m}function T(m,b,E,C,H){e(!(C%E));do m[b+(C-=E)]=H;while(0<C)}function D(m,b,E,C,H){if(e(2328>=H),512>=H)var G=o(512);else if((G=o(H))==null)return 0;return(function(Y,Q,Z,ie,ge,Re){var ne,be,Ee=Q,Ue=1<<Z,Ce=o(16),Fe=o(16);for(e(ge!=0),e(ie!=null),e(Y!=null),e(0<Z),be=0;be<ge;++be){if(15<ie[be])return 0;++Ce[ie[be]]}if(Ce[0]==ge)return 0;for(Fe[1]=0,ne=1;15>ne;++ne){if(Ce[ne]>1<<ne)return 0;Fe[ne+1]=Fe[ne]+Ce[ne]}for(be=0;be<ge;++be)ne=ie[be],0<ie[be]&&(Re[Fe[ne]++]=be);if(Fe[15]==1)return(ie=new O).g=0,ie.value=Re[0],T(Y,Ee,1,Ue,ie),Ue;var Ve,Xe=-1,$e=Ue-1,vt=0,ot=1,$t=1,ct=1<<Z;for(be=0,ne=1,ge=2;ne<=Z;++ne,ge<<=1){if(ot+=$t<<=1,0>($t-=Ce[ne]))return 0;for(;0<Ce[ne];--Ce[ne])(ie=new O).g=ne,ie.value=Re[be++],T(Y,Ee+vt,ge,ct,ie),vt=V(vt,ne)}for(ne=Z+1,ge=2;15>=ne;++ne,ge<<=1){if(ot+=$t<<=1,0>($t-=Ce[ne]))return 0;for(;0<Ce[ne];--Ce[ne]){if(ie=new O,(vt&$e)!=Xe){for(Ee+=ct,Ve=1<<(Xe=ne)-Z;15>Xe&&!(0>=(Ve-=Ce[Xe]));)++Xe,Ve<<=1;Ue+=ct=1<<(Ve=Xe-Z),Y[Q+(Xe=vt&$e)].g=Ve+Z,Y[Q+Xe].value=Ee-Q-Xe}ie.g=ne-Z,ie.value=Re[be++],T(Y,Ee+(vt>>Z),ge,ct,ie),vt=V(vt,ne)}}return ot!=2*Fe[15]-1?0:Ue})(m,b,E,C,H,G)}function O(){this.value=this.g=0}function le(){this.value=this.g=0}function Se(){this.G=c(5,O),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Bs,le)}function ae(m,b,E,C){e(m!=null),e(b!=null),e(2147483648>C),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=b,m.pa=E,m.Jd=b,m.Yc=E+C,m.Zc=4<=C?E+C-4+1:E,ke(m)}function ye(m,b){for(var E=0;0<b--;)E|=ze(m,128)<<b;return E}function pe(m,b){var E=ye(m,b);return Pe(m)?-E:E}function je(m,b,E,C){var H,G=0;for(e(m!=null),e(b!=null),e(4294967288>C),m.Sb=C,m.Ra=0,m.u=0,m.h=0,4<C&&(C=4),H=0;H<C;++H)G+=b[E+H]<<8*H;m.Ra=G,m.bb=C,m.oa=b,m.pa=E}function ee(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<no-8>>>0,++m.bb,m.u-=8;ue(m)&&(m.h=1,m.u=0)}function me(m,b){if(e(0<=b),!m.h&&b<=Jl){var E=te(m)&Ca[b];return m.u+=b,ee(m),E}return m.h=1,m.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(m){return m.Ra>>>(m.u&no-1)>>>0}function ue(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>no}function de(m,b){m.u=b,m.h=ue(m)}function _e(m){m.u>=wr&&(e(m.u>=wr),ee(m))}function ke(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function Pe(m){return ye(m,1)}function ze(m,b){var E=m.Ca;0>m.b&&ke(m);var C=m.b,H=E*b>>>8,G=(m.I>>>C>H)+0;for(G?(E-=H,m.I-=H+1<<C>>>0):E=H+1,C=E,H=0;256<=C;)H+=8,C>>=8;return C=7^H+ad[C],m.b-=C,m.Ca=(E<<C)-1,G}function Qe(m,b,E){m[b+0]=E>>24&255,m[b+1]=E>>16&255,m[b+2]=E>>8&255,m[b+3]=255&E}function nt(m,b){return m[b+0]|m[b+1]<<8}function rt(m,b){return nt(m,b)|m[b+2]<<16}function Me(m,b){return nt(m,b)|nt(m,b+2)<<16}function se(m,b){var E=1<<b;return e(m!=null),e(0<b),m.X=o(E),m.X==null?0:(m.Mb=32-b,m.Xa=b,1)}function nn(m,b){e(m!=null),e(b!=null),e(m.Xa==b.Xa),r(b.X,0,m.X,0,1<<b.Xa)}function Tt(){this.X=[],this.Xa=this.Mb=0}function Et(m,b,E,C){e(E!=null),e(C!=null);var H=E[0],G=C[0];return H==0&&(H=(m*G+b/2)/b),G==0&&(G=(b*H+m/2)/m),0>=H||0>=G?0:(E[0]=H,C[0]=G,1)}function Ze(m,b){return m+(1<<b)-1>>>b}function yt(m,b){return((4278255360&m)+(4278255360&b)>>>0&4278255360)+((16711935&m)+(16711935&b)>>>0&16711935)>>>0}function tt(m,b){P[b]=function(E,C,H,G,Y,Q,Z){var ie;for(ie=0;ie<Y;++ie){var ge=P[m](Q[Z+ie-1],H,G+ie);Q[Z+ie]=yt(E[C+ie],ge)}}}function Kt(){this.ud=this.hd=this.jd=0}function bt(m,b){return((4278124286&(m^b))>>>1)+(m&b)>>>0}function gn(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function qt(m,b){return gn(m+(m-b+.5>>1))}function ut(m,b,E){return Math.abs(b-E)-Math.abs(m-E)}function wt(m,b,E,C,H,G,Y){for(C=G[Y-1],E=0;E<H;++E)G[Y+E]=C=yt(m[b+E],C)}function St(m,b,E,C,H){var G;for(G=0;G<E;++G){var Y=m[b+G],Q=Y>>8&255,Z=16711935&(Z=(Z=16711935&Y)+((Q<<16)+Q));C[H+G]=(4278255360&Y)+Z>>>0}}function st(m,b){b.jd=255&m,b.hd=m>>8&255,b.ud=m>>16&255}function jt(m,b,E,C,H,G){var Y;for(Y=0;Y<C;++Y){var Q=b[E+Y],Z=Q>>>8,ie=Q,ge=255&(ge=(ge=Q>>>16)+((m.jd<<24>>24)*(Z<<24>>24)>>>5));ie=255&(ie=(ie+=(m.hd<<24>>24)*(Z<<24>>24)>>>5)+((m.ud<<24>>24)*(ge<<24>>24)>>>5)),H[G+Y]=(4278255360&Q)+(ge<<16)+ie}}function xt(m,b,E,C,H){P[b]=function(G,Y,Q,Z,ie,ge,Re,ne,be){for(Z=Re;Z<ne;++Z)for(Re=0;Re<be;++Re)ie[ge++]=H(Q[C(G[Y++])])},P[m]=function(G,Y,Q,Z,ie,ge,Re){var ne=8>>G.b,be=G.Ea,Ee=G.K[0],Ue=G.w;if(8>ne)for(G=(1<<G.b)-1,Ue=(1<<ne)-1;Y<Q;++Y){var Ce,Fe=0;for(Ce=0;Ce<be;++Ce)Ce&G||(Fe=C(Z[ie++])),ge[Re++]=H(Ee[Fe&Ue]),Fe>>=ne}else P["VP8LMapColor"+E](Z,ie,Ee,Ue,ge,Re,Y,Q,be)}}function Tn(m,b,E,C,H){for(E=b+E;b<E;){var G=m[b++];C[H++]=G>>16&255,C[H++]=G>>8&255,C[H++]=255&G}}function on(m,b,E,C,H){for(E=b+E;b<E;){var G=m[b++];C[H++]=G>>16&255,C[H++]=G>>8&255,C[H++]=255&G,C[H++]=G>>24&255}}function ht(m,b,E,C,H){for(E=b+E;b<E;){var G=(Y=m[b++])>>16&240|Y>>12&15,Y=240&Y|Y>>28&15;C[H++]=G,C[H++]=Y}}function Ct(m,b,E,C,H){for(E=b+E;b<E;){var G=(Y=m[b++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;C[H++]=G,C[H++]=Y}}function Cn(m,b,E,C,H){for(E=b+E;b<E;){var G=m[b++];C[H++]=255&G,C[H++]=G>>8&255,C[H++]=G>>16&255}}function _t(m,b,E,C,H,G){if(G==0)for(E=b+E;b<E;)Qe(C,((G=m[b++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),H+=32;else r(C,H,m,b,E)}function rn(m,b){P[b][0]=P[m+"0"],P[b][1]=P[m+"1"],P[b][2]=P[m+"2"],P[b][3]=P[m+"3"],P[b][4]=P[m+"4"],P[b][5]=P[m+"5"],P[b][6]=P[m+"6"],P[b][7]=P[m+"7"],P[b][8]=P[m+"8"],P[b][9]=P[m+"9"],P[b][10]=P[m+"10"],P[b][11]=P[m+"11"],P[b][12]=P[m+"12"],P[b][13]=P[m+"13"],P[b][14]=P[m+"0"],P[b][15]=P[m+"0"]}function Vt(m){return m==su||m==Uo||m==io||m==rc}function rr(){this.eb=[],this.size=this.A=this.fb=0}function Hn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function yn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new rr,this.f.kb=new Hn,this.sd=null}function Pt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function sn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Qs(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function pr(m,b){var E=m.T,C=b.ba.f.RGBA,H=C.eb,G=C.fb+m.ka*C.A,Y=fi[b.ba.S],Q=m.y,Z=m.O,ie=m.f,ge=m.N,Re=m.ea,ne=m.W,be=b.cc,Ee=b.dc,Ue=b.Mc,Ce=b.Nc,Fe=m.ka,Ve=m.ka+m.T,Xe=m.U,$e=Xe+1>>1;for(Fe==0?Y(Q,Z,null,null,ie,ge,Re,ne,ie,ge,Re,ne,H,G,null,null,Xe):(Y(b.ec,b.fc,Q,Z,be,Ee,Ue,Ce,ie,ge,Re,ne,H,G-C.A,H,G,Xe),++E);Fe+2<Ve;Fe+=2)be=ie,Ee=ge,Ue=Re,Ce=ne,ge+=m.Rc,ne+=m.Rc,G+=2*C.A,Y(Q,(Z+=2*m.fa)-m.fa,Q,Z,be,Ee,Ue,Ce,ie,ge,Re,ne,H,G-C.A,H,G,Xe);return Z+=m.fa,m.j+Ve<m.o?(r(b.ec,b.fc,Q,Z,Xe),r(b.cc,b.dc,ie,ge,$e),r(b.Mc,b.Nc,Re,ne,$e),E--):1&Ve||Y(Q,Z,null,null,ie,ge,Re,ne,ie,ge,Re,ne,H,G+C.A,null,null,Xe),E}function rs(m,b,E){var C=m.F,H=[m.J];if(C!=null){var G=m.U,Y=b.ba.S,Q=Y==yl||Y==io;b=b.ba.f.RGBA;var Z=[0],ie=m.ka;Z[0]=m.T,m.Kb&&(ie==0?--Z[0]:(--ie,H[0]-=m.width),m.j+m.ka+m.T==m.o&&(Z[0]=m.o-m.j-ie));var ge=b.eb;ie=b.fb+ie*b.A,m=Cs(C,H[0],m.width,G,Z,ge,ie+(Q?0:3),b.A),e(E==Z),m&&Vt(Y)&&tc(ge,ie,Q,G,Z,b.A)}return 0}function yi(m){var b=m.ma,E=b.ba.S,C=11>E,H=E==nc||E==iu||E==yl||E==ro||E==12||Vt(E);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!wi(b.Oa,m,H?11:12))return 0;if(H&&Vt(E)&&Lo(),m.da)alert("todo:use_scaling");else{if(C){if(b.Ib=Qs,m.Kb){if(E=m.U+1>>1,b.memory=o(m.U+2*E),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+m.U,b.Mc=b.cc,b.Nc=b.dc+E,b.Ib=pr,Lo()}}else alert("todo:EmitYUV");H&&(b.Jb=rs,C&&jr())}if(C&&!ip){for(m=0;256>m;++m)Ug[m]=89858*(m-128)+Zr>>Va,lu[m]=-22014*(m-128)+Zr,pd[m]=-45773*(m-128),ei[m]=113618*(m-128)+Zr>>Va;for(m=Bo;m<th;++m)b=76283*(m-16)+Zr>>Va,cu[m-Bo]=fn(b,255),md[m-Bo]=fn(b+8>>4,15);ip=1}return 1}function Rt(m){var b=m.ma,E=m.U,C=m.T;return e(!(1&m.ka)),0>=E||0>=C?0:(E=b.Ib(m,b),b.Jb!=null&&b.Jb(m,b,E),b.Dc+=E,1)}function Rn(m){m.ma.memory=null}function Gn(m,b,E,C){return me(m,8)!=47?0:(b[0]=me(m,14)+1,E[0]=me(m,14)+1,C[0]=me(m,1),me(m,3)!=0?0:!m.h)}function Ln(m,b){if(4>m)return m+1;var E=m-2>>1;return(2+(1&m)<<E)+me(b,E)+1}function mr(m,b){return 120<b?b-120:1<=(E=((E=ao[b-1])>>4)*m+(8-(15&E)))?E:1;var E}function Qn(m,b,E){var C=te(E),H=m[b+=255&C].g-8;return 0<H&&(de(E,E.u+8),C=te(E),b+=m[b].value,b+=C&(1<<H)-1),de(E,E.u+m[b].g),m[b].value}function Ur(m,b,E){return E.g+=m.g,E.value+=m.value<<b>>>0,e(8>=E.g),m.g}function cr(m,b,E){var C=m.xc;return e((b=C==0?0:m.vc[m.md*(E>>C)+(b>>C)])<m.Wb),m.Ya[b]}function ya(m,b,E,C){var H=m.ab,G=m.c*b,Y=m.C;b=Y+b;var Q=E,Z=C;for(C=m.Ta,E=m.Ua;0<H--;){var ie=m.gc[H],ge=Y,Re=b,ne=Q,be=Z,Ee=(Z=C,Q=E,ie.Ea);switch(e(ge<Re),e(Re<=ie.nc),ie.hc){case 2:Zl(ne,be,(Re-ge)*Ee,Z,Q);break;case 0:var Ue=ge,Ce=Re,Fe=Z,Ve=Q,Xe=(ct=ie).Ea;Ue==0&&(Ra(ne,be,null,null,1,Fe,Ve),wt(ne,be+1,0,0,Xe-1,Fe,Ve+1),be+=Xe,Ve+=Xe,++Ue);for(var $e=1<<ct.b,vt=$e-1,ot=Ze(Xe,ct.b),$t=ct.K,ct=ct.w+(Ue>>ct.b)*ot;Ue<Ce;){var pn=$t,Hr=ct,Ht=1;for(Ia(ne,be,Fe,Ve-Xe,1,Fe,Ve);Ht<Xe;){var dt=(Ht&~vt)+$e;dt>Xe&&(dt=Xe),(0,Oo[pn[Hr++]>>8&15])(ne,be+ +Ht,Fe,Ve+Ht-Xe,dt-Ht,Fe,Ve+Ht),Ht=dt}be+=Xe,Ve+=Xe,++Ue&vt||(ct+=ot)}Re!=ie.nc&&r(Z,Q-Ee,Z,Q+(Re-ge-1)*Ee,Ee);break;case 1:for(Ee=ne,Ce=be,Xe=(ne=ie.Ea)-(Ve=ne&~(Fe=(be=1<<ie.b)-1)),Ue=Ze(ne,ie.b),$e=ie.K,ie=ie.w+(ge>>ie.b)*Ue;ge<Re;){for(vt=$e,ot=ie,$t=new Kt,ct=Ce+Ve,pn=Ce+ne;Ce<ct;)st(vt[ot++],$t),ka($t,Ee,Ce,be,Z,Q),Ce+=be,Q+=be;Ce<pn&&(st(vt[ot++],$t),ka($t,Ee,Ce,Xe,Z,Q),Ce+=Xe,Q+=Xe),++ge&Fe||(ie+=Ue)}break;case 3:if(ne==Z&&be==Q&&0<ie.b){for(Ce=Z,ne=Ee=Q+(Re-ge)*Ee-(Ve=(Re-ge)*Ze(ie.Ea,ie.b)),be=Z,Fe=Q,Ue=[],Ve=(Xe=Ve)-1;0<=Ve;--Ve)Ue[Ve]=be[Fe+Ve];for(Ve=Xe-1;0<=Ve;--Ve)Ce[ne+Ve]=Ue[Ve];tu(ie,ge,Re,Z,Ee,Z,Q)}else tu(ie,ge,Re,ne,be,Z,Q)}Q=C,Z=E}Z!=E&&r(C,E,Q,Z,G)}function is(m,b){var E=m.V,C=m.Ba+m.c*m.C,H=b-m.C;if(e(b<=m.l.o),e(16>=H),0<H){var G=m.l,Y=m.Ta,Q=m.Ua,Z=G.width;if(ya(m,H,E,C),H=Q=[Q],e((E=m.C)<(C=b)),e(G.v<G.va),C>G.o&&(C=G.o),E<G.j){var ie=G.j-E;E=G.j,H[0]+=ie*Z}if(E>=C?E=0:(H[0]+=4*G.v,G.ka=E-G.j,G.U=G.va-G.v,G.T=C-E,E=1),E){if(Q=Q[0],11>(E=m.ca).S){var ge=E.f.RGBA,Re=(C=E.S,H=G.U,G=G.T,ie=ge.eb,ge.A),ne=G;for(ge=ge.fb+m.Ma*ge.A;0<ne--;){var be=Y,Ee=Q,Ue=H,Ce=ie,Fe=ge;switch(C){case ji:ec(be,Ee,Ue,Ce,Fe);break;case nc:Gi(be,Ee,Ue,Ce,Fe);break;case su:Gi(be,Ee,Ue,Ce,Fe),tc(Ce,Fe,0,Ue,1,0);break;case Da:Bn(be,Ee,Ue,Ce,Fe);break;case iu:_t(be,Ee,Ue,Ce,Fe,1);break;case Uo:_t(be,Ee,Ue,Ce,Fe,1),tc(Ce,Fe,0,Ue,1,0);break;case yl:_t(be,Ee,Ue,Ce,Fe,0);break;case io:_t(be,Ee,Ue,Ce,Fe,0),tc(Ce,Fe,1,Ue,1,0);break;case ro:La(be,Ee,Ue,Ce,Fe);break;case rc:La(be,Ee,Ue,Ce,Fe),Ts(Ce,Fe,Ue,1,0);break;case Xu:Dn(be,Ee,Ue,Ce,Fe);break;default:e(0)}Q+=Z,ge+=Re}m.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=E.height)}}m.C=b,e(m.C<=m.i)}function ci(m){var b;if(0<m.ua)return 0;for(b=0;b<m.Wb;++b){var E=m.Ya[b].G,C=m.Ya[b].H;if(0<E[1][C[1]+0].g||0<E[2][C[2]+0].g||0<E[3][C[3]+0].g)return 0}return 1}function ui(m,b,E,C,H,G){if(m.Z!=0){var Y=m.qd,Q=m.rd;for(e(Ma[m.Z]!=null);b<E;++b)Ma[m.Z](Y,Q,C,H,C,H,G),Y=C,Q=H,H+=G;m.qd=Y,m.rd=Q}}function Vr(m,b){var E=m.l.ma,C=E.Z==0||E.Z==1?m.l.j:m.C;if(C=m.C<C?C:m.C,e(b<=m.l.o),b>C){var H=m.l.width,G=E.ca,Y=E.tb+H*C,Q=m.V,Z=m.Ba+m.c*C,ie=m.gc;e(m.ab==1),e(ie[0].hc==3),ja(ie[0],C,b,Q,Z,G,Y),ui(E,C,b,G,Y,H)}m.C=m.Ma=b}function Fr(m,b,E,C,H,G,Y){var Q=m.$/C,Z=m.$%C,ie=m.m,ge=m.s,Re=E+m.$,ne=Re;H=E+C*H;var be=E+C*G,Ee=280+ge.ua,Ue=m.Pb?Q:16777216,Ce=0<ge.ua?ge.Wa:null,Fe=ge.wc,Ve=Re<be?cr(ge,Z,Q):null;e(m.C<G),e(be<=H);var Xe=!1;e:for(;;){for(;Xe||Re<be;){var $e=0;if(Q>=Ue){var vt=Re-E;e((Ue=m).Pb),Ue.wd=Ue.m,Ue.xd=vt,0<Ue.s.ua&&nn(Ue.s.Wa,Ue.s.vb),Ue=Q+tp}if(Z&Fe||(Ve=cr(ge,Z,Q)),e(Ve!=null),Ve.Qb&&(b[Re]=Ve.qb,Xe=!0),!Xe)if(_e(ie),Ve.jc){$e=ie,vt=b;var ot=Re,$t=Ve.pd[te($e)&Bs-1];e(Ve.jc),256>$t.g?(de($e,$e.u+$t.g),vt[ot]=$t.value,$e=0):(de($e,$e.u+$t.g-256),e(256<=$t.value),$e=$t.value),$e==0&&(Xe=!0)}else $e=Qn(Ve.G[0],Ve.H[0],ie);if(ie.h)break;if(Xe||256>$e){if(!Xe)if(Ve.nd)b[Re]=(Ve.qb|$e<<8)>>>0;else{if(_e(ie),Xe=Qn(Ve.G[1],Ve.H[1],ie),_e(ie),vt=Qn(Ve.G[2],Ve.H[2],ie),ot=Qn(Ve.G[3],Ve.H[3],ie),ie.h)break;b[Re]=(ot<<24|Xe<<16|$e<<8|vt)>>>0}if(Xe=!1,++Re,++Z>=C&&(Z=0,++Q,Y!=null&&Q<=G&&!(Q%16)&&Y(m,Q),Ce!=null))for(;ne<Re;)$e=b[ne++],Ce.X[(506832829*$e&4294967295)>>>Ce.Mb]=$e}else if(280>$e){if($e=Ln($e-256,ie),vt=Qn(Ve.G[4],Ve.H[4],ie),_e(ie),vt=mr(C,vt=Ln(vt,ie)),ie.h)break;if(Re-E<vt||H-Re<$e)break e;for(ot=0;ot<$e;++ot)b[Re+ot]=b[Re+ot-vt];for(Re+=$e,Z+=$e;Z>=C;)Z-=C,++Q,Y!=null&&Q<=G&&!(Q%16)&&Y(m,Q);if(e(Re<=H),Z&Fe&&(Ve=cr(ge,Z,Q)),Ce!=null)for(;ne<Re;)$e=b[ne++],Ce.X[(506832829*$e&4294967295)>>>Ce.Mb]=$e}else{if(!($e<Ee))break e;for(Xe=$e-280,e(Ce!=null);ne<Re;)$e=b[ne++],Ce.X[(506832829*$e&4294967295)>>>Ce.Mb]=$e;$e=Re,e(!(Xe>>>(vt=Ce).Xa)),b[$e]=vt.X[Xe],Xe=!0}Xe||e(ie.h==ue(ie))}if(m.Pb&&ie.h&&Re<H)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&nn(m.s.vb,m.s.Wa);else{if(ie.h)break e;Y?.(m,Q>G?G:Q),m.a=0,m.$=Re-E}return 1}return m.a=3,0}function Jn(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var b=m.Wa;b!=null&&(b.X=null),m.vb=null,e(m!=null)}function $n(){var m=new Zn;return m==null?null:(m.a=0,m.xb=ic,rn("Predictor","VP8LPredictors"),rn("Predictor","VP8LPredictors_C"),rn("PredictorAdd","VP8LPredictorsAdd"),rn("PredictorAdd","VP8LPredictorsAdd_C"),Zl=St,ka=jt,ec=Tn,Gi=on,La=ht,Dn=Ct,Bn=Cn,P.VP8LMapColor32b=hi,P.VP8LMapColor8b=Do,m)}function ss(m,b,E,C,H){var G=1,Y=[m],Q=[b],Z=C.m,ie=C.s,ge=null,Re=0;e:for(;;){if(E)for(;G&&me(Z,1);){var ne=Y,be=Q,Ee=C,Ue=1,Ce=Ee.m,Fe=Ee.gc[Ee.ab],Ve=me(Ce,2);if(Ee.Oc&1<<Ve)G=0;else{switch(Ee.Oc|=1<<Ve,Fe.hc=Ve,Fe.Ea=ne[0],Fe.nc=be[0],Fe.K=[null],++Ee.ab,e(4>=Ee.ab),Ve){case 0:case 1:Fe.b=me(Ce,3)+2,Ue=ss(Ze(Fe.Ea,Fe.b),Ze(Fe.nc,Fe.b),0,Ee,Fe.K),Fe.K=Fe.K[0];break;case 3:var Xe,$e=me(Ce,8)+1,vt=16<$e?0:4<$e?1:2<$e?2:3;if(ne[0]=Ze(Fe.Ea,vt),Fe.b=vt,Xe=Ue=ss($e,1,0,Ee,Fe.K)){var ot,$t=$e,ct=Fe,pn=1<<(8>>ct.b),Hr=o(pn);if(Hr==null)Xe=0;else{var Ht=ct.K[0],dt=ct.w;for(Hr[0]=ct.K[0][0],ot=1;ot<1*$t;++ot)Hr[ot]=yt(Ht[dt+ot],Hr[ot-1]);for(;ot<4*pn;++ot)Hr[ot]=0;ct.K[0]=null,ct.K[0]=Hr,Xe=1}}Ue=Xe;break;case 2:break;default:e(0)}G=Ue}}if(Y=Y[0],Q=Q[0],G&&me(Z,1)&&!(G=1<=(Re=me(Z,4))&&11>=Re)){C.a=3;break e}var et;if(et=G)t:{var vr,Yt,en,ft=C,Xt=Y,_n=Q,ar=Re,Lr=E,Pr=ft.m,Nr=ft.s,dn=[null],Nn=1,Ar=0,Ot=bl[ar];n:for(;;){if(Lr&&me(Pr,1)){var ti=me(Pr,3)+2,js=Ze(Xt,ti),Er=Ze(_n,ti),Wi=js*Er;if(!ss(js,Er,0,ft,dn))break n;for(dn=dn[0],Nr.xc=ti,vr=0;vr<Wi;++vr){var Yn=dn[vr]>>8&65535;dn[vr]=Yn,Yn>=Nn&&(Nn=Yn+1)}}if(Pr.h)break n;for(Yt=0;5>Yt;++Yt){var Dr=Rs[Yt];!Yt&&0<ar&&(Dr+=1<<ar),Ar<Dr&&(Ar=Dr)}var Ki=c(Nn*Ot,O),_i=Nn,er=c(_i,Se);if(er==null)var In=null;else e(65536>=_i),In=er;var ki=o(Ar);if(In==null||ki==null||Ki==null){ft.a=1;break n}var Ni=Ki;for(vr=en=0;vr<Nn;++vr){var Vn=In[vr],Xi=Vn.G,ni=Vn.H,Fa=0,ia=1,ri=0;for(Yt=0;5>Yt;++Yt){Dr=Rs[Yt],Xi[Yt]=Ni,ni[Yt]=en,!Yt&&0<ar&&(Dr+=1<<ar);i:{var uu,nh=Dr,hu=ft,ac=ki,op=Ni,lp=en,du=0,uo=hu.m,Fg=me(uo,1);if(s(ac,0,0,nh),Fg){var cp=me(uo,1)+1,up=me(uo,1),gd=me(uo,up==0?1:8);ac[gd]=1,cp==2&&(ac[gd=me(uo,8)]=1);var oc=1}else{var yd=o(19),vd=me(uo,4)+4;if(19<vd){hu.a=3;var fu=0;break i}for(uu=0;uu<vd;++uu)yd[so[uu]]=me(uo,3);var rh=void 0,lc=void 0,hp=hu,dp=yd,ho=nh,pu=ac,ih=0,sa=hp.m,cc=8,bd=c(128,O);r:for(;D(bd,0,7,dp,19);){if(me(sa,1)){var fp=2+2*me(sa,3);if((rh=2+me(sa,fp))>ho)break r}else rh=ho;for(lc=0;lc<ho&&rh--;){_e(sa);var xd=bd[0+(127&te(sa))];de(sa,sa.u+xd.g);var _l=xd.value;if(16>_l)pu[lc++]=_l,_l!=0&&(cc=_l);else{var pp=_l==16,wd=_l-16,_d=Gs[wd],Nd=me(sa,Qu[wd])+_d;if(lc+Nd>ho)break r;for(var mp=pp?cc:0;0<Nd--;)pu[lc++]=mp}}ih=1;break r}ih||(hp.a=3),oc=ih}(oc=oc&&!uo.h)&&(du=D(op,lp,8,ac,nh)),oc&&du!=0?fu=du:(hu.a=3,fu=0)}if(fu==0)break n;if(ia&&vl[Yt]==1&&(ia=Ni[en].g==0),Fa+=Ni[en].g,en+=fu,3>=Yt){var Nl,sh=ki[0];for(Nl=1;Nl<Dr;++Nl)ki[Nl]>sh&&(sh=ki[Nl]);ri+=sh}}if(Vn.nd=ia,Vn.Qb=0,ia&&(Vn.qb=(Xi[3][ni[3]+0].value<<24|Xi[1][ni[1]+0].value<<16|Xi[2][ni[2]+0].value)>>>0,Fa==0&&256>Xi[0][ni[0]+0].value&&(Vn.Qb=1,Vn.qb+=Xi[0][ni[0]+0].value<<8)),Vn.jc=!Vn.Qb&&6>ri,Vn.jc){var mu,fo=Vn;for(mu=0;mu<Bs;++mu){var Ba=mu,po=fo.pd[Ba],gu=fo.G[0][fo.H[0]+Ba];256<=gu.value?(po.g=gu.g+256,po.value=gu.value):(po.g=0,po.value=0,Ba>>=Ur(gu,8,po),Ba>>=Ur(fo.G[1][fo.H[1]+Ba],16,po),Ba>>=Ur(fo.G[2][fo.H[2]+Ba],0,po),Ur(fo.G[3][fo.H[3]+Ba],24,po))}}}Nr.vc=dn,Nr.Wb=Nn,Nr.Ya=In,Nr.yc=Ki,et=1;break t}et=0}if(!(G=et)){C.a=3;break e}if(0<Re){if(ie.ua=1<<Re,!se(ie.Wa,Re)){C.a=1,G=0;break e}}else ie.ua=0;var yu=C,Ad=Y,gp=Q,Ed=yu.s,Sd=Ed.xc;if(yu.c=Ad,yu.i=gp,Ed.md=Ze(Ad,Sd),Ed.wc=Sd==0?-1:(1<<Sd)-1,E){C.xb=rp;break e}if((ge=o(Y*Q))==null){C.a=1,G=0;break e}G=(G=Fr(C,ge,0,Y,Q,Q,null))&&!Z.h;break e}return G?(H!=null?H[0]=ge:(e(ge==null),e(E)),C.$=0,E||Jn(ie)):Jn(ie),G}function Ds(m,b){var E=m.c*m.i,C=E+b+16*b;return e(m.c<=b),m.V=o(C),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+E+b,1)}function Si(m,b){var E=m.C,C=b-E,H=m.V,G=m.Ba+m.c*E;for(e(b<=m.l.o);0<C;){var Y=16<C?16:C,Q=m.l.ma,Z=m.l.width,ie=Z*Y,ge=Q.ca,Re=Q.tb+Z*E,ne=m.Ta,be=m.Ua;ya(m,Y,H,G),pl(ne,be,ge,Re,ie),ui(Q,E,E+Y,ge,Re,Z),C-=Y,H+=Y*m.c,E+=Y}e(E==b),m.C=m.Ma=b}function as(){this.ub=this.yd=this.td=this.Rb=0}function Wa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Wl(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Js(){this.Yb=(function(){var m=[];return(function b(E,C,H){for(var G=H[C],Y=0;Y<G&&(E.push(H.length>C+1?[]:0),!(H.length<C+1));Y++)b(E[Y],C+1,H)})(m,0,[3,11]),m})()}function cl(){this.jb=o(3),this.Wc=u([4,8],Js),this.Xc=u([4,17],Js)}function Zs(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Rr(){this.ld=this.La=this.dd=this.tc=0}function Ir(){this.Na=this.la=0}function va(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Co(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Os(){this.uc=this.M=this.Nb=0,this.wa=Array(new Rr),this.Y=0,this.ya=Array(new Co),this.aa=0,this.l=new ba}function Ka(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Xa(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new as,this.Kc=new Wa,this.ed=new Zs,this.Qa=new Wl,this.Ic=this.$c=this.Aa=0,this.D=new Os,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,B),this.ia=0,this.pb=c(4,va),this.Pa=new cl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ka),this.Hd=0,this.rb=Array(new Ir),this.sb=0,this.wa=Array(new Rr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Co),this.L=this.aa=0,this.gd=u([4,2],Rr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ba(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ro(){var m=new Xa;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Jr||(Jr=os)),m}function xn(m,b,E){return m.a==0&&(m.a=b,m.sc=E,m.cb=0),0}function Io(m,b,E){return 3<=E&&m[b+0]==157&&m[b+1]==1&&m[b+2]==42}function Kl(m,b){if(m==null)return 0;if(m.a=0,m.sc="OK",b==null)return xn(m,2,"null VP8Io passed to VP8GetHeaders()");var E=b.data,C=b.w,H=b.ha;if(4>H)return xn(m,7,"Truncated header.");var G=E[C+0]|E[C+1]<<8|E[C+2]<<16,Y=m.Od;if(Y.Rb=!(1&G),Y.td=G>>1&7,Y.yd=G>>4&1,Y.ub=G>>5,3<Y.td)return xn(m,3,"Incorrect keyframe parameters.");if(!Y.yd)return xn(m,4,"Frame not displayable.");C+=3,H-=3;var Q=m.Kc;if(Y.Rb){if(7>H)return xn(m,7,"cannot parse picture header");if(!Io(E,C,H))return xn(m,3,"Bad code word");Q.c=16383&(E[C+4]<<8|E[C+3]),Q.Td=E[C+4]>>6,Q.i=16383&(E[C+6]<<8|E[C+5]),Q.Ud=E[C+6]>>6,C+=7,H-=7,m.za=Q.c+15>>4,m.Ub=Q.i+15>>4,b.width=Q.c,b.height=Q.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,s((G=m.Pa).jb,0,255,G.jb.length),e((G=m.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,s(G.Zb,0,0,G.Zb.length),s(G.Lb,0,0,G.Lb)}if(Y.ub>H)return xn(m,7,"bad partition length");ae(G=m.m,E,C,Y.ub),C+=Y.ub,H-=Y.ub,Y.Rb&&(Q.Ld=Pe(G),Q.Kd=Pe(G)),Q=m.Qa;var Z,ie=m.Pa;if(e(G!=null),e(Q!=null),Q.Cb=Pe(G),Q.Cb){if(Q.Bb=Pe(G),Pe(G)){for(Q.Fb=Pe(G),Z=0;4>Z;++Z)Q.Zb[Z]=Pe(G)?pe(G,7):0;for(Z=0;4>Z;++Z)Q.Lb[Z]=Pe(G)?pe(G,6):0}if(Q.Bb)for(Z=0;3>Z;++Z)ie.jb[Z]=Pe(G)?ye(G,8):255}else Q.Bb=0;if(G.Ka)return xn(m,3,"cannot parse segment header");if((Q=m.ed).zd=Pe(G),Q.Tb=ye(G,6),Q.wb=ye(G,3),Q.Pc=Pe(G),Q.Pc&&Pe(G)){for(ie=0;4>ie;++ie)Pe(G)&&(Q.vd[ie]=pe(G,6));for(ie=0;4>ie;++ie)Pe(G)&&(Q.od[ie]=pe(G,6))}if(m.L=Q.Tb==0?0:Q.zd?1:2,G.Ka)return xn(m,3,"cannot parse filter header");var ge=H;if(H=Z=C,C=Z+ge,Q=ge,m.Xb=(1<<ye(m.m,2))-1,ge<3*(ie=m.Xb))E=7;else{for(Z+=3*ie,Q-=3*ie,ge=0;ge<ie;++ge){var Re=E[H+0]|E[H+1]<<8|E[H+2]<<16;Re>Q&&(Re=Q),ae(m.Jc[+ge],E,Z,Re),Z+=Re,Q-=Re,H+=3}ae(m.Jc[+ie],E,Z,Q),E=Z<C?0:5}if(E!=0)return xn(m,E,"cannot parse partitions");for(E=ye(Z=m.m,7),H=Pe(Z)?pe(Z,4):0,C=Pe(Z)?pe(Z,4):0,Q=Pe(Z)?pe(Z,4):0,ie=Pe(Z)?pe(Z,4):0,Z=Pe(Z)?pe(Z,4):0,ge=m.Qa,Re=0;4>Re;++Re){if(ge.Cb){var ne=ge.Zb[Re];ge.Fb||(ne+=E)}else{if(0<Re){m.pb[Re]=m.pb[0];continue}ne=E}var be=m.pb[Re];be.Sc[0]=au[fn(ne+H,127)],be.Sc[1]=ou[fn(ne+0,127)],be.Eb[0]=2*au[fn(ne+C,127)],be.Eb[1]=101581*ou[fn(ne+Q,127)]>>16,8>be.Eb[1]&&(be.Eb[1]=8),be.Qc[0]=au[fn(ne+ie,117)],be.Qc[1]=ou[fn(ne+Z,127)],be.lc=ne+Z}if(!Y.Rb)return xn(m,4,"Not a key frame.");for(Pe(G),Y=m.Pa,E=0;4>E;++E){for(H=0;8>H;++H)for(C=0;3>C;++C)for(Q=0;11>Q;++Q)ie=ze(G,xl[E][H][C][Q])?ye(G,8):Oa[E][H][C][Q],Y.Wc[E][H].Yb[C][Q]=ie;for(H=0;17>H;++H)Y.Xc[E][H]=Y.Wc[E][np[H]]}return m.kc=Pe(G),m.kc&&(m.Bd=ye(G,8)),m.cb=1}function os(m,b,E,C,H,G,Y){var Q=b[H].Yb[E];for(E=0;16>H;++H){if(!ze(m,Q[E+0]))return H;for(;!ze(m,Q[E+1]);)if(Q=b[++H].Yb[0],E=0,H==16)return 16;var Z=b[H+1].Yb;if(ze(m,Q[E+2])){var ie=m,ge=0;if(ze(ie,(ne=Q)[(Re=E)+3]))if(ze(ie,ne[Re+6])){for(Q=0,Re=2*(ge=ze(ie,ne[Re+8]))+(ne=ze(ie,ne[Re+9+ge])),ge=0,ne=_r[Re];ne[Q];++Q)ge+=ge+ze(ie,ne[Q]);ge+=3+(8<<Re)}else ze(ie,ne[Re+7])?(ge=7+2*ze(ie,165),ge+=ze(ie,145)):ge=5+ze(ie,159);else ge=ze(ie,ne[Re+4])?3+ze(ie,ne[Re+5]):2;Q=Z[2]}else ge=1,Q=Z[1];Z=Y+On[H],0>(ie=m).b&&ke(ie);var Re,ne=ie.b,be=(Re=ie.Ca>>1)-(ie.I>>ne)>>31;--ie.b,ie.Ca+=be,ie.Ca|=1,ie.I-=(Re+1&be)<<ne,G[Z]=((ge^be)-be)*C[(0<H)+0]}return 16}function ea(m){var b=m.rb[m.sb-1];b.la=0,b.Na=0,s(m.zc,0,0,m.zc.length),m.ja=0}function vi(m,b,E,C,H){H=m[b+E+32*C]+(H>>3),m[b+E+32*C]=-256&H?0>H?0:255:H}function Qa(m,b,E,C,H,G){vi(m,b,0,E,C+H),vi(m,b,1,E,C+G),vi(m,b,2,E,C-G),vi(m,b,3,E,C-H)}function tn(m){return(20091*m>>16)+m}function bi(m,b,E,C){var H,G=0,Y=o(16);for(H=0;4>H;++H){var Q=m[b+0]+m[b+8],Z=m[b+0]-m[b+8],ie=(35468*m[b+4]>>16)-tn(m[b+12]),ge=tn(m[b+4])+(35468*m[b+12]>>16);Y[G+0]=Q+ge,Y[G+1]=Z+ie,Y[G+2]=Z-ie,Y[G+3]=Q-ge,G+=4,b++}for(H=G=0;4>H;++H)Q=(m=Y[G+0]+4)+Y[G+8],Z=m-Y[G+8],ie=(35468*Y[G+4]>>16)-tn(Y[G+12]),vi(E,C,0,0,Q+(ge=tn(Y[G+4])+(35468*Y[G+12]>>16))),vi(E,C,1,0,Z+ie),vi(E,C,2,0,Z-ie),vi(E,C,3,0,Q-ge),G++,C+=32}function Ja(m,b,E,C){var H=m[b+0]+4,G=35468*m[b+4]>>16,Y=tn(m[b+4]),Q=35468*m[b+1]>>16;Qa(E,C,0,H+Y,m=tn(m[b+1]),Q),Qa(E,C,1,H+G,m,Q),Qa(E,C,2,H-G,m,Q),Qa(E,C,3,H-Y,m,Q)}function xa(m,b,E,C,H){bi(m,b,E,C),H&&bi(m,b+16,E,C+4)}function ta(m,b,E,C){yr(m,b+0,E,C,1),yr(m,b+32,E,C+128,1)}function ln(m,b,E,C){var H;for(m=m[b+0]+4,H=0;4>H;++H)for(b=0;4>b;++b)vi(E,C,b,H,m)}function wa(m,b,E,C){m[b+0]&&$i(m,b+0,E,C),m[b+16]&&$i(m,b+16,E,C+4),m[b+32]&&$i(m,b+32,E,C+128),m[b+48]&&$i(m,b+48,E,C+128+4)}function Ui(m,b,E,C){var H,G=o(16);for(H=0;4>H;++H){var Y=m[b+0+H]+m[b+12+H],Q=m[b+4+H]+m[b+8+H],Z=m[b+4+H]-m[b+8+H],ie=m[b+0+H]-m[b+12+H];G[0+H]=Y+Q,G[8+H]=Y-Q,G[4+H]=ie+Z,G[12+H]=ie-Z}for(H=0;4>H;++H)Y=(m=G[0+4*H]+3)+G[3+4*H],Q=G[1+4*H]+G[2+4*H],Z=G[1+4*H]-G[2+4*H],ie=m-G[3+4*H],E[C+0]=Y+Q>>3,E[C+16]=ie+Z>>3,E[C+32]=Y-Q>>3,E[C+48]=ie-Z>>3,C+=64}function ls(m,b,E){var C,H=b-32,G=di,Y=255-m[H-1];for(C=0;C<E;++C){var Q,Z=G,ie=Y+m[b-1];for(Q=0;Q<E;++Q)m[b+Q]=Z[ie+m[H+Q]];b+=32}}function jo(m,b){ls(m,b,4)}function ul(m,b){ls(m,b,8)}function hl(m,b){ls(m,b,16)}function eu(m,b){var E;for(E=0;16>E;++E)r(m,b+32*E,m,b-32,16)}function dl(m,b){var E;for(E=16;0<E;--E)s(m,b,m[b-1],16),b+=32}function Ms(m,b,E){var C;for(C=0;16>C;++C)s(b,E+32*C,m,16)}function Ti(m,b){var E,C=16;for(E=0;16>E;++E)C+=m[b-1+32*E]+m[b+E-32];Ms(C>>5,m,b)}function cs(m,b){var E,C=8;for(E=0;16>E;++E)C+=m[b-1+32*E];Ms(C>>4,m,b)}function Vi(m,b){var E,C=8;for(E=0;16>E;++E)C+=m[b+E-32];Ms(C>>4,m,b)}function _s(m,b){Ms(128,m,b)}function Dt(m,b,E){return m+2*b+E+2>>2}function Us(m,b){var E,C=b-32;for(C=new Uint8Array([Dt(m[C-1],m[C+0],m[C+1]),Dt(m[C+0],m[C+1],m[C+2]),Dt(m[C+1],m[C+2],m[C+3]),Dt(m[C+2],m[C+3],m[C+4])]),E=0;4>E;++E)r(m,b+32*E,C,0,C.length)}function Xl(m,b){var E=m[b-1],C=m[b-1+32],H=m[b-1+64],G=m[b-1+96];Qe(m,b+0,16843009*Dt(m[b-1-32],E,C)),Qe(m,b+32,16843009*Dt(E,C,H)),Qe(m,b+64,16843009*Dt(C,H,G)),Qe(m,b+96,16843009*Dt(H,G,G))}function Za(m,b){var E,C=4;for(E=0;4>E;++E)C+=m[b+E-32]+m[b-1+32*E];for(C>>=3,E=0;4>E;++E)s(m,b+32*E,C,4)}function Ns(m,b){var E=m[b-1+0],C=m[b-1+32],H=m[b-1+64],G=m[b-1-32],Y=m[b+0-32],Q=m[b+1-32],Z=m[b+2-32],ie=m[b+3-32];m[b+0+96]=Dt(C,H,m[b-1+96]),m[b+1+96]=m[b+0+64]=Dt(E,C,H),m[b+2+96]=m[b+1+64]=m[b+0+32]=Dt(G,E,C),m[b+3+96]=m[b+2+64]=m[b+1+32]=m[b+0+0]=Dt(Y,G,E),m[b+3+64]=m[b+2+32]=m[b+1+0]=Dt(Q,Y,G),m[b+3+32]=m[b+2+0]=Dt(Z,Q,Y),m[b+3+0]=Dt(ie,Z,Q)}function Br(m,b){var E=m[b+1-32],C=m[b+2-32],H=m[b+3-32],G=m[b+4-32],Y=m[b+5-32],Q=m[b+6-32],Z=m[b+7-32];m[b+0+0]=Dt(m[b+0-32],E,C),m[b+1+0]=m[b+0+32]=Dt(E,C,H),m[b+2+0]=m[b+1+32]=m[b+0+64]=Dt(C,H,G),m[b+3+0]=m[b+2+32]=m[b+1+64]=m[b+0+96]=Dt(H,G,Y),m[b+3+32]=m[b+2+64]=m[b+1+96]=Dt(G,Y,Q),m[b+3+64]=m[b+2+96]=Dt(Y,Q,Z),m[b+3+96]=Dt(Q,Z,Z)}function Fi(m,b){var E=m[b-1+0],C=m[b-1+32],H=m[b-1+64],G=m[b-1-32],Y=m[b+0-32],Q=m[b+1-32],Z=m[b+2-32],ie=m[b+3-32];m[b+0+0]=m[b+1+64]=G+Y+1>>1,m[b+1+0]=m[b+2+64]=Y+Q+1>>1,m[b+2+0]=m[b+3+64]=Q+Z+1>>1,m[b+3+0]=Z+ie+1>>1,m[b+0+96]=Dt(H,C,E),m[b+0+64]=Dt(C,E,G),m[b+0+32]=m[b+1+96]=Dt(E,G,Y),m[b+1+32]=m[b+2+96]=Dt(G,Y,Q),m[b+2+32]=m[b+3+96]=Dt(Y,Q,Z),m[b+3+32]=Dt(Q,Z,ie)}function Vs(m,b){var E=m[b+0-32],C=m[b+1-32],H=m[b+2-32],G=m[b+3-32],Y=m[b+4-32],Q=m[b+5-32],Z=m[b+6-32],ie=m[b+7-32];m[b+0+0]=E+C+1>>1,m[b+1+0]=m[b+0+64]=C+H+1>>1,m[b+2+0]=m[b+1+64]=H+G+1>>1,m[b+3+0]=m[b+2+64]=G+Y+1>>1,m[b+0+32]=Dt(E,C,H),m[b+1+32]=m[b+0+96]=Dt(C,H,G),m[b+2+32]=m[b+1+96]=Dt(H,G,Y),m[b+3+32]=m[b+2+96]=Dt(G,Y,Q),m[b+3+64]=Dt(Y,Q,Z),m[b+3+96]=Dt(Q,Z,ie)}function _a(m,b){var E=m[b-1+0],C=m[b-1+32],H=m[b-1+64],G=m[b-1+96];m[b+0+0]=E+C+1>>1,m[b+2+0]=m[b+0+32]=C+H+1>>1,m[b+2+32]=m[b+0+64]=H+G+1>>1,m[b+1+0]=Dt(E,C,H),m[b+3+0]=m[b+1+32]=Dt(C,H,G),m[b+3+32]=m[b+1+64]=Dt(H,G,G),m[b+3+64]=m[b+2+64]=m[b+0+96]=m[b+1+96]=m[b+2+96]=m[b+3+96]=G}function us(m,b){var E=m[b-1+0],C=m[b-1+32],H=m[b-1+64],G=m[b-1+96],Y=m[b-1-32],Q=m[b+0-32],Z=m[b+1-32],ie=m[b+2-32];m[b+0+0]=m[b+2+32]=E+Y+1>>1,m[b+0+32]=m[b+2+64]=C+E+1>>1,m[b+0+64]=m[b+2+96]=H+C+1>>1,m[b+0+96]=G+H+1>>1,m[b+3+0]=Dt(Q,Z,ie),m[b+2+0]=Dt(Y,Q,Z),m[b+1+0]=m[b+3+32]=Dt(E,Y,Q),m[b+1+32]=m[b+3+64]=Dt(C,E,Y),m[b+1+64]=m[b+3+96]=Dt(H,C,E),m[b+1+96]=Dt(G,H,C)}function eo(m,b){var E;for(E=0;8>E;++E)r(m,b+32*E,m,b-32,8)}function Ci(m,b){var E;for(E=0;8>E;++E)s(m,b,m[b-1],8),b+=32}function Bi(m,b,E){var C;for(C=0;8>C;++C)s(b,E+32*C,m,8)}function Na(m,b){var E,C=8;for(E=0;8>E;++E)C+=m[b+E-32]+m[b-1+32*E];Bi(C>>4,m,b)}function qr(m,b){var E,C=4;for(E=0;8>E;++E)C+=m[b+E-32];Bi(C>>3,m,b)}function wn(m,b){var E,C=4;for(E=0;8>E;++E)C+=m[b-1+32*E];Bi(C>>3,m,b)}function Aa(m,b){Bi(128,m,b)}function As(m,b,E){var C=m[b-E],H=m[b+0],G=3*(H-C)+Ku[1020+m[b-2*E]-m[b+E]],Y=gl[112+(G+4>>3)];m[b-E]=di[255+C+gl[112+(G+3>>3)]],m[b+0]=di[255+H-Y]}function Ea(m,b,E,C){var H=m[b+0],G=m[b+E];return Hs[255+m[b-2*E]-m[b-E]]>C||Hs[255+G-H]>C}function Sa(m,b,E,C){return 4*Hs[255+m[b-E]-m[b+0]]+Hs[255+m[b-2*E]-m[b+E]]<=C}function na(m,b,E,C,H){var G=m[b-3*E],Y=m[b-2*E],Q=m[b-E],Z=m[b+0],ie=m[b+E],ge=m[b+2*E],Re=m[b+3*E];return 4*Hs[255+Q-Z]+Hs[255+Y-ie]>C?0:Hs[255+m[b-4*E]-G]<=H&&Hs[255+G-Y]<=H&&Hs[255+Y-Q]<=H&&Hs[255+Re-ge]<=H&&Hs[255+ge-ie]<=H&&Hs[255+ie-Z]<=H}function hs(m,b,E,C){var H=2*C+1;for(C=0;16>C;++C)Sa(m,b+C,E,H)&&As(m,b+C,E)}function Es(m,b,E,C){var H=2*C+1;for(C=0;16>C;++C)Sa(m,b+C*E,1,H)&&As(m,b+C*E,1)}function Ri(m,b,E,C){var H;for(H=3;0<H;--H)hs(m,b+=4*E,E,C)}function ko(m,b,E,C){var H;for(H=3;0<H;--H)Es(m,b+=4,E,C)}function qi(m,b,E,C,H,G,Y,Q){for(G=2*G+1;0<H--;){if(na(m,b,E,G,Y))if(Ea(m,b,E,Q))As(m,b,E);else{var Z=m,ie=b,ge=E,Re=Z[ie-2*ge],ne=Z[ie-ge],be=Z[ie+0],Ee=Z[ie+ge],Ue=Z[ie+2*ge],Ce=27*(Ve=Ku[1020+3*(be-ne)+Ku[1020+Re-Ee]])+63>>7,Fe=18*Ve+63>>7,Ve=9*Ve+63>>7;Z[ie-3*ge]=di[255+Z[ie-3*ge]+Ve],Z[ie-2*ge]=di[255+Re+Fe],Z[ie-ge]=di[255+ne+Ce],Z[ie+0]=di[255+be-Ce],Z[ie+ge]=di[255+Ee-Fe],Z[ie+2*ge]=di[255+Ue-Ve]}b+=C}}function Ii(m,b,E,C,H,G,Y,Q){for(G=2*G+1;0<H--;){if(na(m,b,E,G,Y))if(Ea(m,b,E,Q))As(m,b,E);else{var Z=m,ie=b,ge=E,Re=Z[ie-ge],ne=Z[ie+0],be=Z[ie+ge],Ee=gl[112+(4+(Ue=3*(ne-Re))>>3)],Ue=gl[112+(Ue+3>>3)],Ce=Ee+1>>1;Z[ie-2*ge]=di[255+Z[ie-2*ge]+Ce],Z[ie-ge]=di[255+Re+Ue],Z[ie+0]=di[255+ne-Ee],Z[ie+ge]=di[255+be-Ce]}b+=C}}function N(m,b,E,C,H,G){qi(m,b,E,1,16,C,H,G)}function z(m,b,E,C,H,G){qi(m,b,1,E,16,C,H,G)}function re(m,b,E,C,H,G){var Y;for(Y=3;0<Y;--Y)Ii(m,b+=4*E,E,1,16,C,H,G)}function fe(m,b,E,C,H,G){var Y;for(Y=3;0<Y;--Y)Ii(m,b+=4,1,E,16,C,H,G)}function we(m,b,E,C,H,G,Y,Q){qi(m,b,H,1,8,G,Y,Q),qi(E,C,H,1,8,G,Y,Q)}function Be(m,b,E,C,H,G,Y,Q){qi(m,b,1,H,8,G,Y,Q),qi(E,C,1,H,8,G,Y,Q)}function We(m,b,E,C,H,G,Y,Q){Ii(m,b+4*H,H,1,8,G,Y,Q),Ii(E,C+4*H,H,1,8,G,Y,Q)}function at(m,b,E,C,H,G,Y,Q){Ii(m,b+4,1,H,8,G,Y,Q),Ii(E,C+4,1,H,8,G,Y,Q)}function pt(){this.ba=new yn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new sn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function kt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function zt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function cn(){this.ua=0,this.Wa=new Tt,this.vb=new Tt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Se,this.yc=new O}function Zn(){this.xb=this.a=0,this.l=new ba,this.ca=new yn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new cn,this.ab=0,this.gc=c(4,zt),this.Oc=0}function ir(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ba,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Pn(m,b,E,C,H,G,Y){for(m=m==null?0:m[b+0],b=0;b<Y;++b)H[G+b]=m+E[C+b]&255,m=H[G+b]}function gr(m,b,E,C,H,G,Y){var Q;if(m==null)Pn(null,null,E,C,H,G,Y);else for(Q=0;Q<Y;++Q)H[G+Q]=m[b+Q]+E[C+Q]&255}function Fn(m,b,E,C,H,G,Y){if(m==null)Pn(null,null,E,C,H,G,Y);else{var Q,Z=m[b+0],ie=Z,ge=Z;for(Q=0;Q<Y;++Q)ie=ge+(Z=m[b+Q])-ie,ge=E[C+Q]+(-256&ie?0>ie?0:255:ie)&255,ie=Z,H[G+Q]=ge}}function zr(m,b,E,C){var H=b.width,G=b.o;if(e(m!=null&&b!=null),0>E||0>=C||E+C>G)return null;if(!m.Cc){if(m.ga==null){var Y;if(m.ga=new ir,(Y=m.ga==null)||(Y=b.width*b.o,e(m.Gb.length==0),m.Gb=o(Y),m.Uc=0,m.Gb==null?Y=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,Y=1),Y=!Y),!Y){Y=m.ga;var Q=m.Fa,Z=m.P,ie=m.qc,ge=m.mb,Re=m.nb,ne=Z+1,be=ie-1,Ee=Y.l;if(e(Q!=null&&ge!=null&&b!=null),Ma[0]=null,Ma[1]=Pn,Ma[2]=gr,Ma[3]=Fn,Y.ca=ge,Y.tb=Re,Y.c=b.width,Y.i=b.height,e(0<Y.c&&0<Y.i),1>=ie)b=0;else if(Y.$a=3&Q[Z+0],Y.Z=Q[Z+0]>>2&3,Y.Lc=Q[Z+0]>>4&3,Z=Q[Z+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||Z)b=0;else if(Ee.put=Rt,Ee.ac=yi,Ee.bc=Rn,Ee.ma=Y,Ee.width=b.width,Ee.height=b.height,Ee.Da=b.Da,Ee.v=b.v,Ee.va=b.va,Ee.j=b.j,Ee.o=b.o,Y.$a)e:{e(Y.$a==1),b=$n();t:for(;;){if(b==null){b=0;break e}if(e(Y!=null),Y.mc=b,b.c=Y.c,b.i=Y.i,b.l=Y.l,b.l.ma=Y,b.l.width=Y.c,b.l.height=Y.i,b.a=0,je(b.m,Q,ne,be),!ss(Y.c,Y.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&ci(b.s)?(Y.ic=1,Q=b.c*b.i,b.Ta=null,b.Ua=0,b.V=o(Q),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(Y.ic=0,b=Ds(b,Y.c)),!b))break t;b=1;break e}Y.mc=null,b=0}else b=be>=Y.c*Y.i;Y=!b}if(Y)return null;m.ga.Lc!=1?m.Ga=0:C=G-E}e(m.ga!=null),e(E+C<=G);e:{if(b=(Q=m.ga).c,G=Q.l.o,Q.$a==0){if(ne=m.rc,be=m.Vc,Ee=m.Fa,Z=m.P+1+E*b,ie=m.mb,ge=m.nb+E*b,e(Z<=m.P+m.qc),Q.Z!=0)for(e(Ma[Q.Z]!=null),Y=0;Y<C;++Y)Ma[Q.Z](ne,be,Ee,Z,ie,ge,b),ne=ie,be=ge,ge+=b,Z+=b;else for(Y=0;Y<C;++Y)r(ie,ge,Ee,Z,b),ne=ie,be=ge,ge+=b,Z+=b;m.rc=ne,m.Vc=be}else{if(e(Q.mc!=null),b=E+C,e((Y=Q.mc)!=null),e(b<=Y.i),Y.C>=b)b=1;else if(Q.ic||jr(),Q.ic){Q=Y.V,ne=Y.Ba,be=Y.c;var Ue=Y.i,Ce=(Ee=1,Z=Y.$/be,ie=Y.$%be,ge=Y.m,Re=Y.s,Y.$),Fe=be*Ue,Ve=be*b,Xe=Re.wc,$e=Ce<Ve?cr(Re,ie,Z):null;e(Ce<=Fe),e(b<=Ue),e(ci(Re));t:for(;;){for(;!ge.h&&Ce<Ve;){if(ie&Xe||($e=cr(Re,ie,Z)),e($e!=null),_e(ge),256>(Ue=Qn($e.G[0],$e.H[0],ge)))Q[ne+Ce]=Ue,++Ce,++ie>=be&&(ie=0,++Z<=b&&!(Z%16)&&Vr(Y,Z));else{if(!(280>Ue)){Ee=0;break t}Ue=Ln(Ue-256,ge);var vt,ot=Qn($e.G[4],$e.H[4],ge);if(_e(ge),!(Ce>=(ot=mr(be,ot=Ln(ot,ge)))&&Fe-Ce>=Ue)){Ee=0;break t}for(vt=0;vt<Ue;++vt)Q[ne+Ce+vt]=Q[ne+Ce+vt-ot];for(Ce+=Ue,ie+=Ue;ie>=be;)ie-=be,++Z<=b&&!(Z%16)&&Vr(Y,Z);Ce<Ve&&ie&Xe&&($e=cr(Re,ie,Z))}e(ge.h==ue(ge))}Vr(Y,Z>b?b:Z);break t}!Ee||ge.h&&Ce<Fe?(Ee=0,Y.a=ge.h?5:3):Y.$=Ce,b=Ee}else b=Fr(Y,Y.V,Y.Ba,Y.c,Y.i,b,Si);if(!b){C=0;break e}}E+C>=G&&(m.Cc=1),C=1}if(!C)return null;if(m.Cc&&((C=m.ga)!=null&&(C.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+E*H}function Fs(m,b,E,C,H,G){for(;0<H--;){var Y,Q=m,Z=b+(E?1:0),ie=m,ge=b+(E?0:3);for(Y=0;Y<C;++Y){var Re=ie[ge+4*Y];Re!=255&&(Re*=32897,Q[Z+4*Y+0]=Q[Z+4*Y+0]*Re>>23,Q[Z+4*Y+1]=Q[Z+4*Y+1]*Re>>23,Q[Z+4*Y+2]=Q[Z+4*Y+2]*Re>>23)}b+=G}}function ra(m,b,E,C,H){for(;0<C--;){var G;for(G=0;G<E;++G){var Y=m[b+2*G+0],Q=15&(ie=m[b+2*G+1]),Z=4369*Q,ie=(240&ie|ie>>4)*Z>>16;m[b+2*G+0]=(240&Y|Y>>4)*Z>>16&240|(15&Y|Y<<4)*Z>>16>>4&15,m[b+2*G+1]=240&ie|Q}b+=H}}function Ql(m,b,E,C,H,G,Y,Q){var Z,ie,ge=255;for(ie=0;ie<H;++ie){for(Z=0;Z<C;++Z){var Re=m[b+Z];G[Y+4*Z]=Re,ge&=Re}b+=E,Y+=Q}return ge!=255}function to(m,b,E,C,H){var G;for(G=0;G<H;++G)E[C+G]=m[b+G]>>8}function jr(){tc=Fs,Ts=ra,Cs=Ql,pl=to}function ds(m,b,E){P[m]=function(C,H,G,Y,Q,Z,ie,ge,Re,ne,be,Ee,Ue,Ce,Fe,Ve,Xe){var $e,vt=Xe-1>>1,ot=Q[Z+0]|ie[ge+0]<<16,$t=Re[ne+0]|be[Ee+0]<<16;e(C!=null);var ct=3*ot+$t+131074>>2;for(b(C[H+0],255&ct,ct>>16,Ue,Ce),G!=null&&(ct=3*$t+ot+131074>>2,b(G[Y+0],255&ct,ct>>16,Fe,Ve)),$e=1;$e<=vt;++$e){var pn=Q[Z+$e]|ie[ge+$e]<<16,Hr=Re[ne+$e]|be[Ee+$e]<<16,Ht=ot+pn+$t+Hr+524296,dt=Ht+2*(pn+$t)>>3;ct=dt+ot>>1,ot=(Ht=Ht+2*(ot+Hr)>>3)+pn>>1,b(C[H+2*$e-1],255&ct,ct>>16,Ue,Ce+(2*$e-1)*E),b(C[H+2*$e-0],255&ot,ot>>16,Ue,Ce+(2*$e-0)*E),G!=null&&(ct=Ht+$t>>1,ot=dt+Hr>>1,b(G[Y+2*$e-1],255&ct,ct>>16,Fe,Ve+(2*$e-1)*E),b(G[Y+2*$e+0],255&ot,ot>>16,Fe,Ve+(2*$e+0)*E)),ot=pn,$t=Hr}1&Xe||(ct=3*ot+$t+131074>>2,b(C[H+Xe-1],255&ct,ct>>16,Ue,Ce+(Xe-1)*E),G!=null&&(ct=3*$t+ot+131074>>2,b(G[Y+Xe-1],255&ct,ct>>16,Fe,Ve+(Xe-1)*E)))}}function Lo(){fi[ji]=lo,fi[nc]=Ua,fi[Da]=Fo,fi[iu]=Ju,fi[yl]=Zu,fi[ro]=sc,fi[Xu]=eh,fi[su]=Ua,fi[Uo]=Ju,fi[io]=Zu,fi[rc]=sc}function zi(m){return m&-16384?0>m?0:255:m>>Mg}function g(m,b){return zi((19077*m>>8)+(26149*b>>8)-14234)}function S(m,b,E){return zi((19077*m>>8)-(6419*b>>8)-(13320*E>>8)+8708)}function L(m,b){return zi((19077*m>>8)+(33050*b>>8)-17685)}function J(m,b,E,C,H){C[H+0]=g(m,E),C[H+1]=S(m,b,E),C[H+2]=L(m,b)}function Ae(m,b,E,C,H){C[H+0]=L(m,b),C[H+1]=S(m,b,E),C[H+2]=g(m,E)}function Oe(m,b,E,C,H){var G=S(m,b,E);b=G<<3&224|L(m,b)>>3,C[H+0]=248&g(m,E)|G>>5,C[H+1]=b}function Je(m,b,E,C,H){var G=240&L(m,b)|15;C[H+0]=240&g(m,E)|S(m,b,E)>>4,C[H+1]=G}function un(m,b,E,C,H){C[H+0]=255,J(m,b,E,C,H+1)}function ur(m,b,E,C,H){Ae(m,b,E,C,H),C[H+3]=255}function hn(m,b,E,C,H){J(m,b,E,C,H),C[H+3]=255}function fn(m,b){return 0>m?0:m>b?b:m}function Mn(m,b,E){P[m]=function(C,H,G,Y,Q,Z,ie,ge,Re){for(var ne=ge+(-2&Re)*E;ge!=ne;)b(C[H+0],G[Y+0],Q[Z+0],ie,ge),b(C[H+1],G[Y+0],Q[Z+0],ie,ge+E),H+=2,++Y,++Z,ge+=2*E;1&Re&&b(C[H+0],G[Y+0],Q[Z+0],ie,ge)}}function Ss(m,b,E){return E==0?m==0?b==0?6:5:b==0?4:0:E}function kr(m,b,E,C,H){switch(m>>>30){case 3:yr(b,E,C,H,0);break;case 2:Pa(b,E,C,H);break;case 1:$i(b,E,C,H)}}function xi(m,b){var E,C,H=b.M,G=b.Nb,Y=m.oc,Q=m.pc+40,Z=m.oc,ie=m.pc+584,ge=m.oc,Re=m.pc+600;for(E=0;16>E;++E)Y[Q+32*E-1]=129;for(E=0;8>E;++E)Z[ie+32*E-1]=129,ge[Re+32*E-1]=129;for(0<H?Y[Q-1-32]=Z[ie-1-32]=ge[Re-1-32]=129:(s(Y,Q-32-1,127,21),s(Z,ie-32-1,127,9),s(ge,Re-32-1,127,9)),C=0;C<m.za;++C){var ne=b.ya[b.aa+C];if(0<C){for(E=-1;16>E;++E)r(Y,Q+32*E-4,Y,Q+32*E+12,4);for(E=-1;8>E;++E)r(Z,ie+32*E-4,Z,ie+32*E+4,4),r(ge,Re+32*E-4,ge,Re+32*E+4,4)}var be=m.Gd,Ee=m.Hd+C,Ue=ne.ad,Ce=ne.Hc;if(0<H&&(r(Y,Q-32,be[Ee].y,0,16),r(Z,ie-32,be[Ee].f,0,8),r(ge,Re-32,be[Ee].ea,0,8)),ne.Za){var Fe=Y,Ve=Q-32+16;for(0<H&&(C>=m.za-1?s(Fe,Ve,be[Ee].y[15],4):r(Fe,Ve,be[Ee+1].y,0,4)),E=0;4>E;E++)Fe[Ve+128+E]=Fe[Ve+256+E]=Fe[Ve+384+E]=Fe[Ve+0+E];for(E=0;16>E;++E,Ce<<=2)Fe=Y,Ve=Q+wl[E],Yi[ne.Ob[E]](Fe,Ve),kr(Ce,Ue,16*+E,Fe,Ve)}else if(Fe=Ss(C,H,ne.Ob[0]),oo[Fe](Y,Q),Ce!=0)for(E=0;16>E;++E,Ce<<=2)kr(Ce,Ue,16*+E,Y,Q+wl[E]);for(E=ne.Gc,Fe=Ss(C,H,ne.Dd),Is[Fe](Z,ie),Is[Fe](ge,Re),Ce=Ue,Fe=Z,Ve=ie,255&(ne=0|E)&&(170&ne?qs(Ce,256,Fe,Ve):fl(Ce,256,Fe,Ve)),ne=ge,Ce=Re,255&(E>>=8)&&(170&E?qs(Ue,320,ne,Ce):fl(Ue,320,ne,Ce)),H<m.Ub-1&&(r(be[Ee].y,0,Y,Q+480,16),r(be[Ee].f,0,Z,ie+224,8),r(be[Ee].ea,0,ge,Re+224,8)),E=8*G*m.B,be=m.sa,Ee=m.ta+16*C+16*G*m.R,Ue=m.qa,ne=m.ra+8*C+E,Ce=m.Ha,Fe=m.Ia+8*C+E,E=0;16>E;++E)r(be,Ee+E*m.R,Y,Q+32*E,16);for(E=0;8>E;++E)r(Ue,ne+E*m.B,Z,ie+32*E,8),r(Ce,Fe+E*m.B,ge,Re+32*E,8)}}function Ta(m,b,E,C,H,G,Y,Q,Z){var ie=[0],ge=[0],Re=0,ne=Z!=null?Z.kd:0,be=Z??new kt;if(m==null||12>E)return 7;be.data=m,be.w=b,be.ha=E,b=[b],E=[E],be.gb=[be.gb];e:{var Ee=b,Ue=E,Ce=be.gb;if(e(m!=null),e(Ue!=null),e(Ce!=null),Ce[0]=0,12<=Ue[0]&&!t(m,Ee[0],"RIFF")){if(t(m,Ee[0]+8,"WEBP")){Ce=3;break e}var Fe=Me(m,Ee[0]+4);if(12>Fe||4294967286<Fe){Ce=3;break e}if(ne&&Fe>Ue[0]-8){Ce=7;break e}Ce[0]=Fe,Ee[0]+=12,Ue[0]-=12}Ce=0}if(Ce!=0)return Ce;for(Fe=0<be.gb[0],E=E[0];;){e:{var Ve=m;Ue=b,Ce=E;var Xe=ie,$e=ge,vt=Ee=[0];if((ct=Re=[Re])[0]=0,8>Ce[0])Ce=7;else{if(!t(Ve,Ue[0],"VP8X")){if(Me(Ve,Ue[0]+4)!=10){Ce=3;break e}if(18>Ce[0]){Ce=7;break e}var ot=Me(Ve,Ue[0]+8),$t=1+rt(Ve,Ue[0]+12);if(2147483648<=$t*(Ve=1+rt(Ve,Ue[0]+15))){Ce=3;break e}vt!=null&&(vt[0]=ot),Xe!=null&&(Xe[0]=$t),$e!=null&&($e[0]=Ve),Ue[0]+=18,Ce[0]-=18,ct[0]=1}Ce=0}}if(Re=Re[0],Ee=Ee[0],Ce!=0)return Ce;if(Ue=!!(2&Ee),!Fe&&Re)return 3;if(G!=null&&(G[0]=!!(16&Ee)),Y!=null&&(Y[0]=Ue),Q!=null&&(Q[0]=0),Y=ie[0],Ee=ge[0],Re&&Ue&&Z==null){Ce=0;break}if(4>E){Ce=7;break}if(Fe&&Re||!Fe&&!Re&&!t(m,b[0],"ALPH")){E=[E],be.na=[be.na],be.P=[be.P],be.Sa=[be.Sa];e:{ot=m,Ce=b,Fe=E;var ct=be.gb;Xe=be.na,$e=be.P,vt=be.Sa,$t=22,e(ot!=null),e(Fe!=null),Ve=Ce[0];var pn=Fe[0];for(e(Xe!=null),e(vt!=null),Xe[0]=null,$e[0]=null,vt[0]=0;;){if(Ce[0]=Ve,Fe[0]=pn,8>pn){Ce=7;break e}var Hr=Me(ot,Ve+4);if(4294967286<Hr){Ce=3;break e}var Ht=8+Hr+1&-2;if($t+=Ht,0<ct&&$t>ct){Ce=3;break e}if(!t(ot,Ve,"VP8 ")||!t(ot,Ve,"VP8L")){Ce=0;break e}if(pn[0]<Ht){Ce=7;break e}t(ot,Ve,"ALPH")||(Xe[0]=ot,$e[0]=Ve+8,vt[0]=Hr),Ve+=Ht,pn-=Ht}}if(E=E[0],be.na=be.na[0],be.P=be.P[0],be.Sa=be.Sa[0],Ce!=0)break}E=[E],be.Ja=[be.Ja],be.xa=[be.xa];e:if(ct=m,Ce=b,Fe=E,Xe=be.gb[0],$e=be.Ja,vt=be.xa,ot=Ce[0],Ve=!t(ct,ot,"VP8 "),$t=!t(ct,ot,"VP8L"),e(ct!=null),e(Fe!=null),e($e!=null),e(vt!=null),8>Fe[0])Ce=7;else{if(Ve||$t){if(ct=Me(ct,ot+4),12<=Xe&&ct>Xe-12){Ce=3;break e}if(ne&&ct>Fe[0]-8){Ce=7;break e}$e[0]=ct,Ce[0]+=8,Fe[0]-=8,vt[0]=$t}else vt[0]=5<=Fe[0]&&ct[ot+0]==47&&!(ct[ot+4]>>5),$e[0]=Fe[0];Ce=0}if(E=E[0],be.Ja=be.Ja[0],be.xa=be.xa[0],b=b[0],Ce!=0)break;if(4294967286<be.Ja)return 3;if(Q==null||Ue||(Q[0]=be.xa?2:1),Y=[Y],Ee=[Ee],be.xa){if(5>E){Ce=7;break}Q=Y,ne=Ee,Ue=G,m==null||5>E?m=0:5<=E&&m[b+0]==47&&!(m[b+4]>>5)?(Fe=[0],ct=[0],Xe=[0],je($e=new X,m,b,E),Gn($e,Fe,ct,Xe)?(Q!=null&&(Q[0]=Fe[0]),ne!=null&&(ne[0]=ct[0]),Ue!=null&&(Ue[0]=Xe[0]),m=1):m=0):m=0}else{if(10>E){Ce=7;break}Q=Ee,m==null||10>E||!Io(m,b+3,E-3)?m=0:(ne=m[b+0]|m[b+1]<<8|m[b+2]<<16,Ue=16383&(m[b+7]<<8|m[b+6]),m=16383&(m[b+9]<<8|m[b+8]),1&ne||3<(ne>>1&7)||!(ne>>4&1)||ne>>5>=be.Ja||!Ue||!m?m=0:(Y&&(Y[0]=Ue),Q&&(Q[0]=m),m=1))}if(!m||(Y=Y[0],Ee=Ee[0],Re&&(ie[0]!=Y||ge[0]!=Ee)))return 3;Z!=null&&(Z[0]=be,Z.offset=b-Z.w,e(4294967286>b-Z.w),e(Z.offset==Z.ha-E));break}return Ce==0||Ce==7&&Re&&Z==null?(G!=null&&(G[0]|=be.na!=null&&0<be.na.length),C!=null&&(C[0]=Y),H!=null&&(H[0]=Ee),0):Ce}function wi(m,b,E){var C=b.width,H=b.height,G=0,Y=0,Q=C,Z=H;if(b.Da=m!=null&&0<m.Da,b.Da&&(Q=m.cd,Z=m.bd,G=m.v,Y=m.j,11>E||(G&=-2,Y&=-2),0>G||0>Y||0>=Q||0>=Z||G+Q>C||Y+Z>H))return 0;if(b.v=G,b.j=Y,b.va=G+Q,b.o=Y+Z,b.U=Q,b.T=Z,b.da=m!=null&&0<m.da,b.da){if(!Et(Q,Z,E=[m.ib],G=[m.hb]))return 0;b.ib=E[0],b.hb=G[0]}return b.ob=m!=null&&m.ob,b.Kb=m==null||!m.Sd,b.da&&(b.ob=b.ib<3*C/4&&b.hb<3*H/4,b.Kb=0),1}function Hi(m){if(m==null)return 2;if(11>m.S){var b=m.f.RGBA;b.fb+=(m.height-1)*b.A,b.A=-b.A}else b=m.f.kb,m=m.height,b.O+=(m-1)*b.fa,b.fa=-b.fa,b.N+=(m-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(m-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(m-1)*b.lb,b.lb=-b.lb);return 0}function Po(m,b,E,C){if(C==null||0>=m||0>=b)return 2;if(E!=null){if(E.Da){var H=E.cd,G=E.bd,Y=-2&E.v,Q=-2&E.j;if(0>Y||0>Q||0>=H||0>=G||Y+H>m||Q+G>b)return 2;m=H,b=G}if(E.da){if(!Et(m,b,H=[E.ib],G=[E.hb]))return 2;m=H[0],b=G[0]}}C.width=m,C.height=b;e:{var Z=C.width,ie=C.height;if(m=C.S,0>=Z||0>=ie||!(m>=ji&&13>m))m=2;else{if(0>=C.Rd&&C.sd==null){Y=G=H=b=0;var ge=(Q=Z*ap[m])*ie;if(11>m||(G=(ie+1)/2*(b=(Z+1)/2),m==12&&(Y=(H=Z)*ie)),(ie=o(ge+2*G+Y))==null){m=1;break e}C.sd=ie,11>m?((Z=C.f.RGBA).eb=ie,Z.fb=0,Z.A=Q,Z.size=ge):((Z=C.f.kb).y=ie,Z.O=0,Z.fa=Q,Z.Fd=ge,Z.f=ie,Z.N=0+ge,Z.Ab=b,Z.Cd=G,Z.ea=ie,Z.W=0+ge+G,Z.Db=b,Z.Ed=G,m==12&&(Z.F=ie,Z.J=0+ge+2*G),Z.Tc=Y,Z.lb=H)}if(b=1,H=C.S,G=C.width,Y=C.height,H>=ji&&13>H)if(11>H)m=C.f.RGBA,b&=(Q=Math.abs(m.A))*(Y-1)+G<=m.size,b&=Q>=G*ap[H],b&=m.eb!=null;else{m=C.f.kb,Q=(G+1)/2,ge=(Y+1)/2,Z=Math.abs(m.fa),ie=Math.abs(m.Ab);var Re=Math.abs(m.Db),ne=Math.abs(m.lb),be=ne*(Y-1)+G;b&=Z*(Y-1)+G<=m.Fd,b&=ie*(ge-1)+Q<=m.Cd,b=(b&=Re*(ge-1)+Q<=m.Ed)&Z>=G&ie>=Q&Re>=Q,b&=m.y!=null,b&=m.f!=null,b&=m.ea!=null,H==12&&(b&=ne>=G,b&=be<=m.Tc,b&=m.F!=null)}else b=0;m=b?0:2}}return m!=0||E!=null&&E.fd&&(m=Hi(C)),m}var Bs=64,Ca=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Jl=24,no=32,wr=8,ad=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];tt("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(m){return m},P.Predictor2=function(m,b,E){return b[E+0]},P.Predictor3=function(m,b,E){return b[E+1]},P.Predictor4=function(m,b,E){return b[E-1]},P.Predictor5=function(m,b,E){return bt(bt(m,b[E+1]),b[E+0])},P.Predictor6=function(m,b,E){return bt(m,b[E-1])},P.Predictor7=function(m,b,E){return bt(m,b[E+0])},P.Predictor8=function(m,b,E){return bt(b[E-1],b[E+0])},P.Predictor9=function(m,b,E){return bt(b[E+0],b[E+1])},P.Predictor10=function(m,b,E){return bt(bt(m,b[E-1]),bt(b[E+0],b[E+1]))},P.Predictor11=function(m,b,E){var C=b[E+0];return 0>=ut(C>>24&255,m>>24&255,(b=b[E-1])>>24&255)+ut(C>>16&255,m>>16&255,b>>16&255)+ut(C>>8&255,m>>8&255,b>>8&255)+ut(255&C,255&m,255&b)?C:m},P.Predictor12=function(m,b,E){var C=b[E+0];return(gn((m>>24&255)+(C>>24&255)-((b=b[E-1])>>24&255))<<24|gn((m>>16&255)+(C>>16&255)-(b>>16&255))<<16|gn((m>>8&255)+(C>>8&255)-(b>>8&255))<<8|gn((255&m)+(255&C)-(255&b)))>>>0},P.Predictor13=function(m,b,E){var C=b[E-1];return(qt((m=bt(m,b[E+0]))>>24&255,C>>24&255)<<24|qt(m>>16&255,C>>16&255)<<16|qt(m>>8&255,C>>8&255)<<8|qt(255&m,255&C))>>>0};var Ra=P.PredictorAdd0;P.PredictorAdd1=wt,tt("Predictor2","PredictorAdd2"),tt("Predictor3","PredictorAdd3"),tt("Predictor4","PredictorAdd4"),tt("Predictor5","PredictorAdd5"),tt("Predictor6","PredictorAdd6"),tt("Predictor7","PredictorAdd7"),tt("Predictor8","PredictorAdd8"),tt("Predictor9","PredictorAdd9"),tt("Predictor10","PredictorAdd10"),tt("Predictor11","PredictorAdd11"),tt("Predictor12","PredictorAdd12"),tt("Predictor13","PredictorAdd13");var Ia=P.PredictorAdd2;xt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),xt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Zl,tu=P.ColorIndexInverseTransform,hi=P.MapARGB,ja=P.VP8LColorIndexInverseTransformAlpha,Do=P.MapAlpha,Oo=P.VP8LPredictorsAdd=[];Oo.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var ka,ec,Gi,La,Dn,Bn,sr,yr,Pa,qs,$i,fl,od,Mo,ld,cd,ud,Jf,Zf,ep,hd,dd,$u,zs,tc,Ts,Cs,pl,Yu=o(511),nu=o(2041),ru=o(225),Wu=o(767),ml=0,Ku=nu,gl=ru,di=Wu,Hs=Yu,ji=0,nc=1,Da=2,iu=3,yl=4,ro=5,Xu=6,su=7,Uo=8,io=9,rc=10,Qu=[2,3,7],Gs=[3,3,11],Rs=[280,256,256,256,40],vl=[0,1,1,1,0],so=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ao=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],bl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],tp=8,au=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ou=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Jr=null,_r=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],On=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Vo=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Oa=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],fd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],xl=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],np=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],oo=[],Yi=[],Is=[],rp=1,ic=2,Ma=[],fi=[];ds("UpsampleRgbLinePair",J,3),ds("UpsampleBgrLinePair",Ae,3),ds("UpsampleRgbaLinePair",hn,4),ds("UpsampleBgraLinePair",ur,4),ds("UpsampleArgbLinePair",un,4),ds("UpsampleRgba4444LinePair",Je,2),ds("UpsampleRgb565LinePair",Oe,2);var lo=P.UpsampleRgbLinePair,Fo=P.UpsampleBgrLinePair,Ua=P.UpsampleRgbaLinePair,Ju=P.UpsampleBgraLinePair,Zu=P.UpsampleArgbLinePair,sc=P.UpsampleRgba4444LinePair,eh=P.UpsampleRgb565LinePair,Va=16,Zr=1<<Va-1,Bo=-227,th=482,Mg=6,ip=0,Ug=o(256),ei=o(256),pd=o(256),lu=o(256),cu=o(th-Bo),md=o(th-Bo);Mn("YuvToRgbRow",J,3),Mn("YuvToBgrRow",Ae,3),Mn("YuvToRgbaRow",hn,4),Mn("YuvToBgraRow",ur,4),Mn("YuvToArgbRow",un,4),Mn("YuvToRgba4444Row",Je,2),Mn("YuvToRgb565Row",Oe,2);var wl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],co=[0,2,8],Vg=[8,7,6,4,4,2,2,2,1,1,1,1],sp=1;this.WebPDecodeRGBA=function(m,b,E,C,H){var G=nc,Y=new pt,Q=new yn;Y.ba=Q,Q.S=G,Q.width=[Q.width],Q.height=[Q.height];var Z=Q.width,ie=Q.height,ge=new Pt;if(ge==null||m==null)var Re=2;else e(ge!=null),Re=Ta(m,b,E,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Re!=0?Z=0:(Z!=null&&(Z[0]=ge.width[0]),ie!=null&&(ie[0]=ge.height[0]),Z=1),Z){Q.width=Q.width[0],Q.height=Q.height[0],C!=null&&(C[0]=Q.width),H!=null&&(H[0]=Q.height);e:{if(C=new ba,(H=new kt).data=m,H.w=b,H.ha=E,H.kd=1,b=[0],e(H!=null),((m=Ta(H.data,H.w,H.ha,null,null,null,b,null,H))==0||m==7)&&b[0]&&(m=4),(b=m)==0){if(e(Y!=null),C.data=H.data,C.w=H.w+H.offset,C.ha=H.ha-H.offset,C.put=Rt,C.ac=yi,C.bc=Rn,C.ma=Y,H.xa){if((m=$n())==null){Y=1;break e}if((function(ne,be){var Ee=[0],Ue=[0],Ce=[0];t:for(;;){if(ne==null)return 0;if(be==null)return ne.a=2,0;if(ne.l=be,ne.a=0,je(ne.m,be.data,be.w,be.ha),!Gn(ne.m,Ee,Ue,Ce)){ne.a=3;break t}if(ne.xb=ic,be.width=Ee[0],be.height=Ue[0],!ss(Ee[0],Ue[0],1,ne,null))break t;return 1}return e(ne.a!=0),0})(m,C)){if(C=(b=Po(C.width,C.height,Y.Oa,Y.ba))==0){t:{C=m;n:for(;;){if(C==null){C=0;break t}if(e(C.s.yc!=null),e(C.s.Ya!=null),e(0<C.s.Wb),e((E=C.l)!=null),e((H=E.ma)!=null),C.xb!=0){if(C.ca=H.ba,C.tb=H.tb,e(C.ca!=null),!wi(H.Oa,E,iu)){C.a=2;break n}if(!Ds(C,E.width)||E.da)break n;if((E.da||Vt(C.ca.S))&&jr(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&jr()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!se(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!Fr(C,C.V,C.Ba,C.c,C.i,E.o,is))break n;H.Dc=C.Ma,C=1;break t}e(C.a!=0),C=0}C=!C}C&&(b=m.a)}else b=m.a}else{if((m=new Ro)==null){Y=1;break e}if(m.Fa=H.na,m.P=H.P,m.qc=H.Sa,Kl(m,C)){if((b=Po(C.width,C.height,Y.Oa,Y.ba))==0){if(m.Aa=0,E=Y.Oa,e((H=m)!=null),E!=null){if(0<(Z=0>(Z=E.Md)?0:100<Z?255:255*Z/100)){for(ie=ge=0;4>ie;++ie)12>(Re=H.pb[ie]).lc&&(Re.ia=Z*Vg[0>Re.lc?0:Re.lc]>>3),ge|=Re.ia;ge&&(alert("todo:VP8InitRandom"),H.ia=1)}H.Ga=E.Id,100<H.Ga?H.Ga=100:0>H.Ga&&(H.Ga=0)}(function(ne,be){if(ne==null)return 0;if(be==null)return xn(ne,2,"NULL VP8Io parameter in VP8Decode().");if(!ne.cb&&!Kl(ne,be))return 0;if(e(ne.cb),be.ac==null||be.ac(be)){be.ob&&(ne.L=0);var Ee=co[ne.L];if(ne.L==2?(ne.yb=0,ne.zb=0):(ne.yb=be.v-Ee>>4,ne.zb=be.j-Ee>>4,0>ne.yb&&(ne.yb=0),0>ne.zb&&(ne.zb=0)),ne.Va=be.o+15+Ee>>4,ne.Hb=be.va+15+Ee>>4,ne.Hb>ne.za&&(ne.Hb=ne.za),ne.Va>ne.Ub&&(ne.Va=ne.Ub),0<ne.L){var Ue=ne.ed;for(Ee=0;4>Ee;++Ee){var Ce;if(ne.Qa.Cb){var Fe=ne.Qa.Lb[Ee];ne.Qa.Fb||(Fe+=Ue.Tb)}else Fe=Ue.Tb;for(Ce=0;1>=Ce;++Ce){var Ve=ne.gd[Ee][Ce],Xe=Fe;if(Ue.Pc&&(Xe+=Ue.vd[0],Ce&&(Xe+=Ue.od[0])),0<(Xe=0>Xe?0:63<Xe?63:Xe)){var $e=Xe;0<Ue.wb&&($e=4<Ue.wb?$e>>2:$e>>1)>9-Ue.wb&&($e=9-Ue.wb),1>$e&&($e=1),Ve.dd=$e,Ve.tc=2*Xe+$e,Ve.ld=40<=Xe?2:15<=Xe?1:0}else Ve.tc=0;Ve.La=Ce}}}Ee=0}else xn(ne,6,"Frame setup failed"),Ee=ne.a;if(Ee=Ee==0){if(Ee){ne.$c=0,0<ne.Aa||(ne.Ic=sp);t:{Ee=ne.Ic,Ue=4*($e=ne.za);var vt=32*$e,ot=$e+1,$t=0<ne.L?$e*(0<ne.Aa?2:1):0,ct=(ne.Aa==2?2:1)*$e;if((Ve=Ue+832+(Ce=3*(16*Ee+co[ne.L])/2*vt)+(Fe=ne.Fa!=null&&0<ne.Fa.length?ne.Kc.c*ne.Kc.i:0))!=Ve)Ee=0;else{if(Ve>ne.Vb){if(ne.Vb=0,ne.Ec=o(Ve),ne.Fc=0,ne.Ec==null){Ee=xn(ne,1,"no memory during frame initialization.");break t}ne.Vb=Ve}Ve=ne.Ec,Xe=ne.Fc,ne.Ac=Ve,ne.Bc=Xe,Xe+=Ue,ne.Gd=c(vt,Ka),ne.Hd=0,ne.rb=c(ot+1,Ir),ne.sb=1,ne.wa=$t?c($t,Rr):null,ne.Y=0,ne.D.Nb=0,ne.D.wa=ne.wa,ne.D.Y=ne.Y,0<ne.Aa&&(ne.D.Y+=$e),e(!0),ne.oc=Ve,ne.pc=Xe,Xe+=832,ne.ya=c(ct,Co),ne.aa=0,ne.D.ya=ne.ya,ne.D.aa=ne.aa,ne.Aa==2&&(ne.D.aa+=$e),ne.R=16*$e,ne.B=8*$e,$e=(vt=co[ne.L])*ne.R,vt=vt/2*ne.B,ne.sa=Ve,ne.ta=Xe+$e,ne.qa=ne.sa,ne.ra=ne.ta+16*Ee*ne.R+vt,ne.Ha=ne.qa,ne.Ia=ne.ra+8*Ee*ne.B+vt,ne.$c=0,Xe+=Ce,ne.mb=Fe?Ve:null,ne.nb=Fe?Xe:null,e(Xe+Fe<=ne.Fc+ne.Vb),ea(ne),s(ne.Ac,ne.Bc,0,Ue),Ee=1}}if(Ee){if(be.ka=0,be.y=ne.sa,be.O=ne.ta,be.f=ne.qa,be.N=ne.ra,be.ea=ne.Ha,be.Vd=ne.Ia,be.fa=ne.R,be.Rc=ne.B,be.F=null,be.J=0,!ml){for(Ee=-255;255>=Ee;++Ee)Yu[255+Ee]=0>Ee?-Ee:Ee;for(Ee=-1020;1020>=Ee;++Ee)nu[1020+Ee]=-128>Ee?-128:127<Ee?127:Ee;for(Ee=-112;112>=Ee;++Ee)ru[112+Ee]=-16>Ee?-16:15<Ee?15:Ee;for(Ee=-255;510>=Ee;++Ee)Wu[255+Ee]=0>Ee?0:255<Ee?255:Ee;ml=1}sr=Ui,yr=xa,qs=ta,$i=ln,fl=wa,Pa=Ja,od=N,Mo=z,ld=we,cd=Be,ud=re,Jf=fe,Zf=We,ep=at,hd=hs,dd=Es,$u=Ri,zs=ko,Yi[0]=Za,Yi[1]=jo,Yi[2]=Us,Yi[3]=Xl,Yi[4]=Ns,Yi[5]=Fi,Yi[6]=Br,Yi[7]=Vs,Yi[8]=us,Yi[9]=_a,oo[0]=Ti,oo[1]=hl,oo[2]=eu,oo[3]=dl,oo[4]=cs,oo[5]=Vi,oo[6]=_s,Is[0]=Na,Is[1]=ul,Is[2]=eo,Is[3]=Ci,Is[4]=wn,Is[5]=qr,Is[6]=Aa,Ee=1}else Ee=0}Ee&&(Ee=(function(pn,Hr){for(pn.M=0;pn.M<pn.Va;++pn.M){var Ht,dt=pn.Jc[pn.M&pn.Xb],et=pn.m,vr=pn;for(Ht=0;Ht<vr.za;++Ht){var Yt=et,en=vr,ft=en.Ac,Xt=en.Bc+4*Ht,_n=en.zc,ar=en.ya[en.aa+Ht];if(en.Qa.Bb?ar.$b=ze(Yt,en.Pa.jb[0])?2+ze(Yt,en.Pa.jb[2]):ze(Yt,en.Pa.jb[1]):ar.$b=0,en.kc&&(ar.Ad=ze(Yt,en.Bd)),ar.Za=!ze(Yt,145)+0,ar.Za){var Lr=ar.Ob,Pr=0;for(en=0;4>en;++en){var Nr,dn=_n[0+en];for(Nr=0;4>Nr;++Nr){dn=fd[ft[Xt+Nr]][dn];for(var Nn=Vo[ze(Yt,dn[0])];0<Nn;)Nn=Vo[2*Nn+ze(Yt,dn[Nn])];dn=-Nn,ft[Xt+Nr]=dn}r(Lr,Pr,ft,Xt,4),Pr+=4,_n[0+en]=dn}}else dn=ze(Yt,156)?ze(Yt,128)?1:3:ze(Yt,163)?2:0,ar.Ob[0]=dn,s(ft,Xt,dn,4),s(_n,0,dn,4);ar.Dd=ze(Yt,142)?ze(Yt,114)?ze(Yt,183)?1:3:2:0}if(vr.m.Ka)return xn(pn,7,"Premature end-of-partition0 encountered.");for(;pn.ja<pn.za;++pn.ja){if(vr=dt,Yt=(et=pn).rb[et.sb-1],ft=et.rb[et.sb+et.ja],Ht=et.ya[et.aa+et.ja],Xt=et.kc?Ht.Ad:0)Yt.la=ft.la=0,Ht.Za||(Yt.Na=ft.Na=0),Ht.Hc=0,Ht.Gc=0,Ht.ia=0;else{var Ar,Ot;if(Yt=ft,ft=vr,Xt=et.Pa.Xc,_n=et.ya[et.aa+et.ja],ar=et.pb[_n.$b],en=_n.ad,Lr=0,Pr=et.rb[et.sb-1],dn=Nr=0,s(en,Lr,0,384),_n.Za)var ti=0,js=Xt[3];else{Nn=o(16);var Er=Yt.Na+Pr.Na;if(Er=Jr(ft,Xt[1],Er,ar.Eb,0,Nn,0),Yt.Na=Pr.Na=(0<Er)+0,1<Er)sr(Nn,0,en,Lr);else{var Wi=Nn[0]+3>>3;for(Nn=0;256>Nn;Nn+=16)en[Lr+Nn]=Wi}ti=1,js=Xt[0]}var Yn=15&Yt.la,Dr=15&Pr.la;for(Nn=0;4>Nn;++Nn){var Ki=1&Dr;for(Wi=Ot=0;4>Wi;++Wi)Yn=Yn>>1|(Ki=(Er=Jr(ft,js,Er=Ki+(1&Yn),ar.Sc,ti,en,Lr))>ti)<<7,Ot=Ot<<2|(3<Er?3:1<Er?2:en[Lr+0]!=0),Lr+=16;Yn>>=4,Dr=Dr>>1|Ki<<7,Nr=(Nr<<8|Ot)>>>0}for(js=Yn,ti=Dr>>4,Ar=0;4>Ar;Ar+=2){for(Ot=0,Yn=Yt.la>>4+Ar,Dr=Pr.la>>4+Ar,Nn=0;2>Nn;++Nn){for(Ki=1&Dr,Wi=0;2>Wi;++Wi)Er=Ki+(1&Yn),Yn=Yn>>1|(Ki=0<(Er=Jr(ft,Xt[2],Er,ar.Qc,0,en,Lr)))<<3,Ot=Ot<<2|(3<Er?3:1<Er?2:en[Lr+0]!=0),Lr+=16;Yn>>=2,Dr=Dr>>1|Ki<<5}dn|=Ot<<4*Ar,js|=Yn<<4<<Ar,ti|=(240&Dr)<<Ar}Yt.la=js,Pr.la=ti,_n.Hc=Nr,_n.Gc=dn,_n.ia=43690&dn?0:ar.ia,Xt=!(Nr|dn)}if(0<et.L&&(et.wa[et.Y+et.ja]=et.gd[Ht.$b][Ht.Za],et.wa[et.Y+et.ja].La|=!Xt),vr.Ka)return xn(pn,7,"Premature end-of-file encountered.")}if(ea(pn),et=Hr,vr=1,Ht=(dt=pn).D,Yt=0<dt.L&&dt.M>=dt.zb&&dt.M<=dt.Va,dt.Aa==0)t:{if(Ht.M=dt.M,Ht.uc=Yt,xi(dt,Ht),vr=1,Ht=(Ot=dt.D).Nb,Yt=(dn=co[dt.L])*dt.R,ft=dn/2*dt.B,Nn=16*Ht*dt.R,Wi=8*Ht*dt.B,Xt=dt.sa,_n=dt.ta-Yt+Nn,ar=dt.qa,en=dt.ra-ft+Wi,Lr=dt.Ha,Pr=dt.Ia-ft+Wi,Dr=(Yn=Ot.M)==0,Nr=Yn>=dt.Va-1,dt.Aa==2&&xi(dt,Ot),Ot.uc)for(Ki=(Er=dt).D.M,e(Er.D.uc),Ot=Er.yb;Ot<Er.Hb;++Ot){ti=Ot,js=Ki;var _i=(er=(ri=Er).D).Nb;Ar=ri.R;var er=er.wa[er.Y+ti],In=ri.sa,ki=ri.ta+16*_i*Ar+16*ti,Ni=er.dd,Vn=er.tc;if(Vn!=0)if(e(3<=Vn),ri.L==1)0<ti&&dd(In,ki,Ar,Vn+4),er.La&&zs(In,ki,Ar,Vn),0<js&&hd(In,ki,Ar,Vn+4),er.La&&$u(In,ki,Ar,Vn);else{var Xi=ri.B,ni=ri.qa,Fa=ri.ra+8*_i*Xi+8*ti,ia=ri.Ha,ri=ri.Ia+8*_i*Xi+8*ti;_i=er.ld,0<ti&&(Mo(In,ki,Ar,Vn+4,Ni,_i),cd(ni,Fa,ia,ri,Xi,Vn+4,Ni,_i)),er.La&&(Jf(In,ki,Ar,Vn,Ni,_i),ep(ni,Fa,ia,ri,Xi,Vn,Ni,_i)),0<js&&(od(In,ki,Ar,Vn+4,Ni,_i),ld(ni,Fa,ia,ri,Xi,Vn+4,Ni,_i)),er.La&&(ud(In,ki,Ar,Vn,Ni,_i),Zf(ni,Fa,ia,ri,Xi,Vn,Ni,_i))}}if(dt.ia&&alert("todo:DitherRow"),et.put!=null){if(Ot=16*Yn,Yn=16*(Yn+1),Dr?(et.y=dt.sa,et.O=dt.ta+Nn,et.f=dt.qa,et.N=dt.ra+Wi,et.ea=dt.Ha,et.W=dt.Ia+Wi):(Ot-=dn,et.y=Xt,et.O=_n,et.f=ar,et.N=en,et.ea=Lr,et.W=Pr),Nr||(Yn-=dn),Yn>et.o&&(Yn=et.o),et.F=null,et.J=null,dt.Fa!=null&&0<dt.Fa.length&&Ot<Yn&&(et.J=zr(dt,et,Ot,Yn-Ot),et.F=dt.mb,et.F==null&&et.F.length==0)){vr=xn(dt,3,"Could not decode alpha data.");break t}Ot<et.j&&(dn=et.j-Ot,Ot=et.j,e(!(1&dn)),et.O+=dt.R*dn,et.N+=dt.B*(dn>>1),et.W+=dt.B*(dn>>1),et.F!=null&&(et.J+=et.width*dn)),Ot<Yn&&(et.O+=et.v,et.N+=et.v>>1,et.W+=et.v>>1,et.F!=null&&(et.J+=et.v),et.ka=Ot-et.j,et.U=et.va-et.v,et.T=Yn-Ot,vr=et.put(et))}Ht+1!=dt.Ic||Nr||(r(dt.sa,dt.ta-Yt,Xt,_n+16*dt.R,Yt),r(dt.qa,dt.ra-ft,ar,en+8*dt.B,ft),r(dt.Ha,dt.Ia-ft,Lr,Pr+8*dt.B,ft))}if(!vr)return xn(pn,6,"Output aborted.")}return 1})(ne,be)),be.bc!=null&&be.bc(be),Ee&=1}return Ee?(ne.cb=0,Ee):0})(m,C)||(b=m.a)}}else b=m.a}b==0&&Y.Oa!=null&&Y.Oa.fd&&(b=Hi(Y.ba))}Y=b}G=Y!=0?null:11>G?Q.f.RGBA.eb:Q.f.kb.y}else G=null;return G};var ap=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(P,V){for(var T="",D=0;D<4;D++)T+=String.fromCharCode(P[V++]);return T}function y(P,V){return P[V+0]|P[V+1]<<8}function _(P,V){return(P[V+0]|P[V+1]<<8|P[V+2]<<16)>>>0}function A(P,V){return(P[V+0]|P[V+1]<<8|P[V+2]<<16|P[V+3]<<24)>>>0}new d;var x=[0],k=[0],j=[],M=new d,R=n,F=(function(P,V){var T={},D=0,O=!1,le=0,Se=0;if(T.frames=[],!(function(B,X){for(var te=0;te<4;te++)if(B[X+te]!="RIFF".charCodeAt(te))return!0;return!1})(P,V)){for(A(P,V+=4),V+=8;V<P.length;){var ae=p(P,V),ye=A(P,V+=4);V+=4;var pe=ye+(1&ye);switch(ae){case"VP8 ":case"VP8L":T.frames[D]===void 0&&(T.frames[D]={}),(me=T.frames[D]).src_off=O?Se:V-8,me.src_size=le+ye+8,D++,O&&(O=!1,le=0,Se=0);break;case"VP8X":(me=T.header={}).feature_flags=P[V];var je=V+4;me.canvas_width=1+_(P,je),je+=3,me.canvas_height=1+_(P,je),je+=3;break;case"ALPH":O=!0,le=pe+8,Se=V-8;break;case"ANIM":(me=T.header).bgcolor=A(P,V),je=V+4,me.loop_count=y(P,je),je+=2;break;case"ANMF":var ee,me;(me=T.frames[D]={}).offset_x=2*_(P,V),V+=3,me.offset_y=2*_(P,V),V+=3,me.width=1+_(P,V),V+=3,me.height=1+_(P,V),V+=3,me.duration=_(P,V),V+=3,ee=P[V++],me.dispose=1&ee,me.blend=ee>>1&1}ae!="ANMF"&&(V+=pe)}return T}})(R,0);F.response=R,F.rgbaoutput=!0,F.dataurl=!1;var q=F.header?F.header:null,W=F.frames?F.frames:null;if(q){q.loop_counter=q.loop_count,x=[q.canvas_height],k=[q.canvas_width];for(var ce=0;ce<W.length&&W[ce].blend!=0;ce++);}var xe=W[0],$=M.WebPDecodeRGBA(R,xe.src_off,xe.src_size,k,x);xe.rgba=$,xe.imgwidth=k[0],xe.imgheight=x[0];for(var I=0;I<k[0]*x[0]*4;I++)j[I]=$[I];return this.width=k,this.height=x,this.data=j,this}(function(n){var e,t,r,s,o,c,u,d,p,y=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new d,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new c,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new c,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new _(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,u=this.internal.Rectangle,d=this.internal.Matrix,p=new y}]);var _=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=B;Object.defineProperty(this,"pdf",{get:function(){return X}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(Me){te=!!Me}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(Me){ue=!!Me}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(Me){isNaN(Me)||(de=Me)}});var _e=0;Object.defineProperty(this,"posY",{get:function(){return _e},set:function(Me){isNaN(Me)||(_e=Me)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(Me){var se;typeof Me=="number"?se=[Me,Me,Me,Me]:((se=new Array(4))[0]=Me[0],se[1]=Me.length>=2?Me[1]:se[0],se[2]=Me.length>=3?Me[2]:se[0],se[3]=Me.length>=4?Me[3]:se[1]),p.margin=se}});var ke=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ke},set:function(Me){ke=Me}});var Pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return Pe},set:function(Me){Pe=Me}});var ze=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ze},set:function(Me){ze=Me}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(Me){Me instanceof y&&(p=Me)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(Me){p.path=Me}});var Qe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Qe},set:function(Me){Qe=Me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Me){var se;se=A(Me),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Me){var se=A(Me);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Me){["butt","round","square"].indexOf(Me)!==-1&&(this.ctx.lineCap=Me,this.pdf.setLineCap(Me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Me){isNaN(Me)||(this.ctx.lineWidth=Me,this.pdf.setLineWidth(Me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Me){["bevel","round","miter"].indexOf(Me)!==-1&&(this.ctx.lineJoin=Me,this.pdf.setLineJoin(Me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Me){isNaN(Me)||(this.ctx.miterLimit=Me,this.pdf.setMiterLimit(Me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Me){this.ctx.textBaseline=Me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Me){["right","end","center","left","start"].indexOf(Me)!==-1&&(this.ctx.textAlign=Me)}});var nt=null,rt=null;Object.defineProperty(this,"fontFaces",{get:function(){return rt},set:function(Me){nt=null,rt=Me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Me){var se;if(this.ctx.font=Me,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Me))!==null){var nn=se[1];se[2];var Tt=se[3],Et=se[4];se[5];var Ze=se[6],yt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Et)[2];Et=Math.floor(yt==="px"?parseFloat(Et)*this.pdf.internal.scaleFactor:yt==="em"?parseFloat(Et)*this.pdf.getFontSize():parseFloat(Et)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Et);var tt=(function(jt){var xt,Tn,on=[],ht=jt.trim();if(ht==="")return k1;if(ht in Bw)return[Bw[ht]];for(;ht!=="";){switch(Tn=null,xt=(ht=zw(ht)).charAt(0)){case'"':case"'":Tn=T9(ht.substring(1),xt);break;default:Tn=C9(ht)}if(Tn===null||(on.push(Tn[0]),(ht=zw(Tn[1]))!==""&&ht.charAt(0)!==","))return k1;ht=ht.replace(/^,/,"")}return on})(Ze);if(this.fontFaces){var Kt=(function(jt,xt){if(nt===null){var Tn=(function(on){var ht=[];return Object.keys(on).forEach(function(Ct){on[Ct].forEach(function(Cn){var _t=null;switch(Cn){case"bold":_t={family:Ct,weight:"bold"};break;case"italic":_t={family:Ct,style:"italic"};break;case"bolditalic":_t={family:Ct,weight:"bold",style:"italic"};break;case"":case"normal":_t={family:Ct}}_t!==null&&(_t.ref={name:Ct,style:Cn},ht.push(_t))})}),ht})(jt.getFontList());nt=(function(on){for(var ht={},Ct=0;Ct<on.length;++Ct){var Cn=j1(on[Ct]),_t=Cn.family,rn=Cn.stretch,Vt=Cn.style,rr=Cn.weight;ht[_t]=ht[_t]||{},ht[_t][rn]=ht[_t][rn]||{},ht[_t][rn][Vt]=ht[_t][rn][Vt]||{},ht[_t][rn][Vt][rr]=Cn}return ht})(Tn.concat(xt))}return nt})(this.pdf,this.fontFaces),bt=tt.map(function(jt){return{family:jt,stretch:"normal",weight:Tt,style:nn}}),gn=(function(jt,xt,Tn){for(var on=(Tn=Tn||{}).defaultFontFamily||"times",ht=Object.assign({},S9,Tn.genericFontFamilies||{}),Ct=null,Cn=null,_t=0;_t<xt.length;++_t)if(ht[(Ct=j1(xt[_t])).family]&&(Ct.family=ht[Ct.family]),jt.hasOwnProperty(Ct.family)){Cn=jt[Ct.family];break}if(!(Cn=Cn||jt[on]))throw new Error("Could not find a font-family for the rule '"+qw(Ct)+"' and default family '"+on+"'.");if(Cn=(function(rn,Vt){if(Vt[rn])return Vt[rn];var rr=A2[rn],Hn=rr<=A2.normal?-1:1,yn=Fw(Vt,lA,rr,Hn);if(!yn)throw new Error("Could not find a matching font-stretch value for "+rn);return yn})(Ct.stretch,Cn),Cn=(function(rn,Vt){if(Vt[rn])return Vt[rn];for(var rr=oA[rn],Hn=0;Hn<rr.length;++Hn)if(Vt[rr[Hn]])return Vt[rr[Hn]];throw new Error("Could not find a matching font-style for "+rn)})(Ct.style,Cn),!(Cn=(function(rn,Vt){if(Vt[rn])return Vt[rn];if(rn===400&&Vt[500])return Vt[500];if(rn===500&&Vt[400])return Vt[400];var rr=E9[rn],Hn=Fw(Vt,cA,rr,rn<400?-1:1);if(!Hn)throw new Error("Could not find a matching font-weight for value "+rn);return Hn})(Ct.weight,Cn)))throw new Error("Failed to resolve a font for the rule '"+qw(Ct)+"'.");return Cn})(Kt,bt);this.pdf.setFont(gn.ref.name,gn.ref.style)}else{var qt="";(Tt==="bold"||parseInt(Tt,10)>=700||nn==="bold")&&(qt="bold"),nn==="italic"&&(qt+="italic"),qt.length===0&&(qt="normal");for(var ut="",wt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},St=0;St<tt.length;St++){if(this.pdf.internal.getFont(tt[St],qt,{noFallback:!0,disableWarning:!0})!==void 0){ut=tt[St];break}if(qt==="bolditalic"&&this.pdf.internal.getFont(tt[St],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ut=tt[St],qt="bold";else if(this.pdf.internal.getFont(tt[St],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ut=tt[St],qt="normal";break}}if(ut===""){for(var st=0;st<tt.length;st++)if(wt[tt[st]]){ut=wt[tt[st]];break}}ut=ut===""?"Times":ut,this.pdf.setFont(ut,qt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Me){this.ctx.globalCompositeOperation=Me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Me){this.ctx.globalAlpha=Me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Me){this.ctx.lineDashOffset=Me,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Me){this.ctx.lineDash=Me,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Me){this.ctx.ignoreClearRect=!!Me}})};_.prototype.setLineDash=function(B){this.lineDash=B},_.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},_.prototype.fill=function(){W.call(this,"fill",!1)},_.prototype.stroke=function(){W.call(this,"stroke",!1)},_.prototype.beginPath=function(){this.path=[{type:"begin"}]},_.prototype.moveTo=function(B,X){if(isNaN(B)||isNaN(X))throw lr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new c(B,X));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new c(B,X)},_.prototype.closePath=function(){var B=new c(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&Xn(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){B=new c(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(B.x,B.y)},_.prototype.lineTo=function(B,X){if(isNaN(B)||isNaN(X))throw lr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new c(B,X));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new c(te.x,te.y)},_.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),W.call(this,null,!0)},_.prototype.quadraticCurveTo=function(B,X,te,ue){if(isNaN(te)||isNaN(ue)||isNaN(B)||isNaN(X))throw lr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new c(te,ue)),_e=this.ctx.transform.applyToPoint(new c(B,X));this.path.push({type:"qct",x1:_e.x,y1:_e.y,x:de.x,y:de.y}),this.ctx.lastPoint=new c(de.x,de.y)},_.prototype.bezierCurveTo=function(B,X,te,ue,de,_e){if(isNaN(de)||isNaN(_e)||isNaN(B)||isNaN(X)||isNaN(te)||isNaN(ue))throw lr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ke=this.ctx.transform.applyToPoint(new c(de,_e)),Pe=this.ctx.transform.applyToPoint(new c(B,X)),ze=this.ctx.transform.applyToPoint(new c(te,ue));this.path.push({type:"bct",x1:Pe.x,y1:Pe.y,x2:ze.x,y2:ze.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new c(ke.x,ke.y)},_.prototype.arc=function(B,X,te,ue,de,_e){if(isNaN(B)||isNaN(X)||isNaN(te)||isNaN(ue)||isNaN(de))throw lr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(_e=!!_e,!this.ctx.transform.isIdentity){var ke=this.ctx.transform.applyToPoint(new c(B,X));B=ke.x,X=ke.y;var Pe=this.ctx.transform.applyToPoint(new c(0,te)),ze=this.ctx.transform.applyToPoint(new c(0,0));te=Math.sqrt(Math.pow(Pe.x-ze.x,2)+Math.pow(Pe.y-ze.y,2))}Math.abs(de-ue)>=2*Math.PI&&(ue=0,de=2*Math.PI),this.path.push({type:"arc",x:B,y:X,radius:te,startAngle:ue,endAngle:de,counterclockwise:_e})},_.prototype.arcTo=function(B,X,te,ue,de){throw new Error("arcTo not implemented.")},_.prototype.rect=function(B,X,te,ue){if(isNaN(B)||isNaN(X)||isNaN(te)||isNaN(ue))throw lr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,X),this.lineTo(B+te,X),this.lineTo(B+te,X+ue),this.lineTo(B,X+ue),this.lineTo(B,X),this.lineTo(B+te,X),this.lineTo(B,X)},_.prototype.fillRect=function(B,X,te,ue){if(isNaN(B)||isNaN(X)||isNaN(te)||isNaN(ue))throw lr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,X,te,ue),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},_.prototype.strokeRect=function(B,X,te,ue){if(isNaN(B)||isNaN(X)||isNaN(te)||isNaN(ue))throw lr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");k.call(this)||(this.beginPath(),this.rect(B,X,te,ue),this.stroke())},_.prototype.clearRect=function(B,X,te,ue){if(isNaN(B)||isNaN(X)||isNaN(te)||isNaN(ue))throw lr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,X,te,ue))},_.prototype.save=function(B){B=typeof B!="boolean"||B;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},_.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(X),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},_.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(B){var X,te,ue,de;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))X=0,te=0,ue=0,de=0;else{var _e=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(_e!==null)X=parseInt(_e[1]),te=parseInt(_e[2]),ue=parseInt(_e[3]),de=1;else if((_e=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)X=parseInt(_e[1]),te=parseInt(_e[2]),ue=parseInt(_e[3]),de=parseFloat(_e[4]);else{if(de=1,typeof B=="string"&&B.charAt(0)!=="#"){var ke=new eA(B);B=ke.ok?ke.toHex():"#000000"}B.length===4?(X=B.substring(1,2),X+=X,te=B.substring(2,3),te+=te,ue=B.substring(3,4),ue+=ue):(X=B.substring(1,3),te=B.substring(3,5),ue=B.substring(5,7)),X=parseInt(X,16),te=parseInt(te,16),ue=parseInt(ue,16)}}return{r:X,g:te,b:ue,a:de,style:B}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},k=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};_.prototype.fillText=function(B,X,te,ue){if(isNaN(X)||isNaN(te)||typeof B!="string")throw lr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!x.call(this)){var de=pe(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;D.call(this,{text:B,x:X,y:te,scale:_e,angle:de,align:this.textAlign,maxWidth:ue})}},_.prototype.strokeText=function(B,X,te,ue){if(isNaN(X)||isNaN(te)||typeof B!="string")throw lr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!k.call(this)){ue=isNaN(ue)?void 0:ue;var de=pe(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;D.call(this,{text:B,x:X,y:te,scale:_e,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:ue})}},_.prototype.measureText=function(B){if(typeof B!="string")throw lr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,te=this.pdf.internal.scaleFactor,ue=X.internal.getFontSize(),de=X.getStringUnitWidth(B)*ue/X.internal.scaleFactor;return new function(_e){var ke=(_e=_e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ke}}),this}({width:de*=Math.round(96*te/72*1e4)/1e4})},_.prototype.scale=function(B,X){if(isNaN(B)||isNaN(X))throw lr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new d(B,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},_.prototype.rotate=function(B){if(isNaN(B))throw lr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new d(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},_.prototype.translate=function(B,X){if(isNaN(B)||isNaN(X))throw lr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new d(1,0,0,1,B,X);this.ctx.transform=this.ctx.transform.multiply(te)},_.prototype.transform=function(B,X,te,ue,de,_e){if(isNaN(B)||isNaN(X)||isNaN(te)||isNaN(ue)||isNaN(de)||isNaN(_e))throw lr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ke=new d(B,X,te,ue,de,_e);this.ctx.transform=this.ctx.transform.multiply(ke)},_.prototype.setTransform=function(B,X,te,ue,de,_e){B=isNaN(B)?1:B,X=isNaN(X)?0:X,te=isNaN(te)?0:te,ue=isNaN(ue)?1:ue,de=isNaN(de)?0:de,_e=isNaN(_e)?0:_e,this.ctx.transform=new d(B,X,te,ue,de,_e)};var j=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};_.prototype.drawImage=function(B,X,te,ue,de,_e,ke,Pe,ze){var Qe=this.pdf.getImageProperties(B),nt=1,rt=1,Me=1,se=1;ue!==void 0&&Pe!==void 0&&(Me=Pe/ue,se=ze/de,nt=Qe.width/ue*Pe/ue,rt=Qe.height/de*ze/de),_e===void 0&&(_e=X,ke=te,X=0,te=0),ue!==void 0&&Pe===void 0&&(Pe=ue,ze=de),ue===void 0&&Pe===void 0&&(Pe=Qe.width,ze=Qe.height);for(var nn,Tt=this.ctx.transform.decompose(),Et=pe(Tt.rotate.shx),Ze=new d,yt=(Ze=(Ze=(Ze=Ze.multiply(Tt.translate)).multiply(Tt.skew)).multiply(Tt.scale)).applyToRectangle(new u(_e-X*Me,ke-te*se,ue*nt,de*rt)),tt=M.call(this,yt),Kt=[],bt=0;bt<tt.length;bt+=1)Kt.indexOf(tt[bt])===-1&&Kt.push(tt[bt]);if(q(Kt),this.autoPaging)for(var gn=Kt[0],qt=Kt[Kt.length-1],ut=gn;ut<qt+1;ut++){this.pdf.setPage(ut);var wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=ut===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],xt=ut===1?0:st+(ut-2)*jt;if(this.ctx.clip_path.length!==0){var Tn=this.path;nn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(nn,this.posX+this.margin[3],-xt+St+this.ctx.prevPageLastElemOffset),ce.call(this,"fill",!0),this.path=Tn}var on=JSON.parse(JSON.stringify(yt));on=F([on],this.posX+this.margin[3],-xt+St+this.ctx.prevPageLastElemOffset)[0];var ht=(ut>gn||ut<qt)&&j.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,jt,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",on.x,on.y,on.w,on.h,null,null,Et),ht&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(B,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,Et)};var M=function(B,X,te){var ue=[];X=X||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":ue.push(Math.floor((B.y+de)/te)+1);break;case"arc":ue.push(Math.floor((B.y+de-B.radius)/te)+1),ue.push(Math.floor((B.y+de+B.radius)/te)+1);break;case"qct":var _e=je(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);ue.push(Math.floor((_e.y+de)/te)+1),ue.push(Math.floor((_e.y+_e.h+de)/te)+1);break;case"bct":var ke=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);ue.push(Math.floor((ke.y+de)/te)+1),ue.push(Math.floor((ke.y+ke.h+de)/te)+1);break;case"rect":ue.push(Math.floor((B.y+de)/te)+1),ue.push(Math.floor((B.y+B.h+de)/te)+1)}for(var Pe=0;Pe<ue.length;Pe+=1)for(;this.pdf.internal.getNumberOfPages()<ue[Pe];)R.call(this);return ue},R=function(){var B=this.fillStyle,X=this.strokeStyle,te=this.font,ue=this.lineCap,de=this.lineWidth,_e=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=X,this.font=te,this.lineCap=ue,this.lineWidth=de,this.lineJoin=_e},F=function(B,X,te){for(var ue=0;ue<B.length;ue++)switch(B[ue].type){case"bct":B[ue].x2+=X,B[ue].y2+=te;case"qct":B[ue].x1+=X,B[ue].y1+=te;default:B[ue].x+=X,B[ue].y+=te}return B},q=function(B){return B.sort(function(X,te){return X-te})},W=function(B,X){for(var te,ue,de=this.fillStyle,_e=this.strokeStyle,ke=this.lineCap,Pe=this.lineWidth,ze=Math.abs(Pe*this.ctx.transform.scaleX),Qe=this.lineJoin,nt=JSON.parse(JSON.stringify(this.path)),rt=JSON.parse(JSON.stringify(this.path)),Me=[],se=0;se<rt.length;se++)if(rt[se].x!==void 0)for(var nn=M.call(this,rt[se]),Tt=0;Tt<nn.length;Tt+=1)Me.indexOf(nn[Tt])===-1&&Me.push(nn[Tt]);for(var Et=0;Et<Me.length;Et++)for(;this.pdf.internal.getNumberOfPages()<Me[Et];)R.call(this);if(q(Me),this.autoPaging)for(var Ze=Me[0],yt=Me[Me.length-1],tt=Ze;tt<yt+1;tt++){this.pdf.setPage(tt),this.fillStyle=de,this.strokeStyle=_e,this.lineCap=ke,this.lineWidth=ze,this.lineJoin=Qe;var Kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bt=tt===1?this.posY+this.margin[0]:this.margin[0],gn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=tt===1?0:gn+(tt-2)*qt;if(this.ctx.clip_path.length!==0){var wt=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(te,this.posX+this.margin[3],-ut+bt+this.ctx.prevPageLastElemOffset),ce.call(this,B,!0),this.path=wt}if(ue=JSON.parse(JSON.stringify(nt)),this.path=F(ue,this.posX+this.margin[3],-ut+bt+this.ctx.prevPageLastElemOffset),X===!1||tt===0){var St=(tt>Ze||tt<yt)&&j.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Kt,qt,null).clip().discardPath()),ce.call(this,B,X),St&&this.pdf.restoreGraphicsState()}this.lineWidth=Pe}else this.lineWidth=ze,ce.call(this,B,X),this.lineWidth=Pe;this.path=nt},ce=function(B,X){if((B!=="stroke"||X||!k.call(this))&&(B==="stroke"||X||!x.call(this))){for(var te,ue,de=[],_e=this.path,ke=0;ke<_e.length;ke++){var Pe=_e[ke];switch(Pe.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:Pe,deltas:[],abs:[]});break;case"lt":var ze=de.length;if(_e[ke-1]&&!isNaN(_e[ke-1].x)&&(te=[Pe.x-_e[ke-1].x,Pe.y-_e[ke-1].y],ze>0)){for(;ze>=0;ze--)if(de[ze-1].close!==!0&&de[ze-1].begin!==!0){de[ze-1].deltas.push(te),de[ze-1].abs.push(Pe);break}}break;case"bct":te=[Pe.x1-_e[ke-1].x,Pe.y1-_e[ke-1].y,Pe.x2-_e[ke-1].x,Pe.y2-_e[ke-1].y,Pe.x-_e[ke-1].x,Pe.y-_e[ke-1].y],de[de.length-1].deltas.push(te);break;case"qct":var Qe=_e[ke-1].x+2/3*(Pe.x1-_e[ke-1].x),nt=_e[ke-1].y+2/3*(Pe.y1-_e[ke-1].y),rt=Pe.x+2/3*(Pe.x1-Pe.x),Me=Pe.y+2/3*(Pe.y1-Pe.y),se=Pe.x,nn=Pe.y;te=[Qe-_e[ke-1].x,nt-_e[ke-1].y,rt-_e[ke-1].x,Me-_e[ke-1].y,se-_e[ke-1].x,nn-_e[ke-1].y],de[de.length-1].deltas.push(te);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(Pe)}}ue=X?null:B==="stroke"?"stroke":"fill";for(var Tt=!1,Et=0;Et<de.length;Et++)if(de[Et].arc)for(var Ze=de[Et].abs,yt=0;yt<Ze.length;yt++){var tt=Ze[yt];tt.type==="arc"?I.call(this,tt.x,tt.y,tt.radius,tt.startAngle,tt.endAngle,tt.counterclockwise,void 0,X,!Tt):O.call(this,tt.x,tt.y),Tt=!0}else if(de[Et].close===!0)this.pdf.internal.out("h"),Tt=!1;else if(de[Et].begin!==!0){var Kt=de[Et].start.x,bt=de[Et].start.y;le.call(this,de[Et].deltas,Kt,bt),Tt=!0}ue&&P.call(this,ue),X&&V.call(this)}},xe=function(B){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-te;case"top":return B+X-te;case"hanging":return B+X-2*te;case"middle":return B+X/2-te;default:return B}},$=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};_.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(X,te){this.colorStops.push([X,te])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},_.prototype.createPattern=function(){return this.createLinearGradient()},_.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(B,X,te,ue,de,_e,ke,Pe,ze){for(var Qe=ae.call(this,te,ue,de,_e),nt=0;nt<Qe.length;nt++){var rt=Qe[nt];nt===0&&(ze?T.call(this,rt.x1+B,rt.y1+X):O.call(this,rt.x1+B,rt.y1+X)),Se.call(this,B,X,rt.x2,rt.y2,rt.x3,rt.y3,rt.x4,rt.y4)}Pe?V.call(this):P.call(this,ke)},P=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(B,X){this.pdf.internal.out(t(B)+" "+r(X)+" m")},D=function(B){var X;switch(B.align){case"right":case"end":X="right";break;case"center":X="center";break;default:X="left"}var te=this.pdf.getTextDimensions(B.text),ue=xe.call(this,B.y),de=$.call(this,ue)-te.h,_e=this.ctx.transform.applyToPoint(new c(B.x,ue)),ke=this.ctx.transform.decompose(),Pe=new d;Pe=(Pe=(Pe=Pe.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale);for(var ze,Qe,nt,rt=this.ctx.transform.applyToRectangle(new u(B.x,ue,te.w,te.h)),Me=Pe.applyToRectangle(new u(B.x,de,te.w,te.h)),se=M.call(this,Me),nn=[],Tt=0;Tt<se.length;Tt+=1)nn.indexOf(se[Tt])===-1&&nn.push(se[Tt]);if(q(nn),this.autoPaging)for(var Et=nn[0],Ze=nn[nn.length-1],yt=Et;yt<Ze+1;yt++){this.pdf.setPage(yt);var tt=yt===1?this.posY+this.margin[0]:this.margin[0],Kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[2],gn=bt-this.margin[0],qt=this.pdf.internal.pageSize.width-this.margin[1],ut=qt-this.margin[3],wt=yt===1?0:Kt+(yt-2)*gn;if(this.ctx.clip_path.length!==0){var St=this.path;ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(ze,this.posX+this.margin[3],-1*wt+tt),ce.call(this,"fill",!0),this.path=St}var st=F([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-wt+tt+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(Qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qe*B.scale),nt=this.lineWidth,this.lineWidth=nt*B.scale);var jt=this.autoPaging!=="text";if(jt||st.y+st.h<=bt){if(jt||st.y>=tt&&st.x<=qt){var xt=jt?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||qt-st.x)[0],Tn=F([JSON.parse(JSON.stringify(rt))],this.posX+this.margin[3],-wt+tt+this.ctx.prevPageLastElemOffset)[0],on=jt&&(yt>Et||yt<Ze)&&j.call(this);on&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,gn,null).clip().discardPath()),this.pdf.text(xt,Tn.x,Tn.y,{angle:B.angle,align:X,renderingMode:B.renderingMode}),on&&this.pdf.restoreGraphicsState()}}else st.y<bt&&(this.ctx.prevPageLastElemOffset+=bt-st.y);B.scale>=.01&&(this.pdf.setFontSize(Qe),this.lineWidth=nt)}else B.scale>=.01&&(Qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qe*B.scale),nt=this.lineWidth,this.lineWidth=nt*B.scale),this.pdf.text(B.text,_e.x+this.posX,_e.y+this.posY,{angle:B.angle,align:X,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(Qe),this.lineWidth=nt)},O=function(B,X,te,ue){te=te||0,ue=ue||0,this.pdf.internal.out(t(B+te)+" "+r(X+ue)+" l")},le=function(B,X,te){return this.pdf.lines(B,X,te,null,null)},Se=function(B,X,te,ue,de,_e,ke,Pe){this.pdf.internal.out([e(s(te+B)),e(o(ue+X)),e(s(de+B)),e(o(_e+X)),e(s(ke+B)),e(o(Pe+X)),"c"].join(" "))},ae=function(B,X,te,ue){for(var de=2*Math.PI,_e=Math.PI/2;X>te;)X-=de;var ke=Math.abs(te-X);ke<de&&ue&&(ke=de-ke);for(var Pe=[],ze=ue?-1:1,Qe=X;ke>1e-5;){var nt=Qe+ze*Math.min(ke,_e);Pe.push(ye.call(this,B,Qe,nt)),ke-=Math.abs(nt-Qe),Qe=nt}return Pe},ye=function(B,X,te){var ue=(te-X)/2,de=B*Math.cos(ue),_e=B*Math.sin(ue),ke=de,Pe=-_e,ze=ke*ke+Pe*Pe,Qe=ze+ke*de+Pe*_e,nt=4/3*(Math.sqrt(2*ze*Qe)-Qe)/(ke*_e-Pe*de),rt=ke-nt*Pe,Me=Pe+nt*ke,se=rt,nn=-Me,Tt=ue+X,Et=Math.cos(Tt),Ze=Math.sin(Tt);return{x1:B*Math.cos(X),y1:B*Math.sin(X),x2:rt*Et-Me*Ze,y2:rt*Ze+Me*Et,x3:se*Et-nn*Ze,y3:se*Ze+nn*Et,x4:B*Math.cos(te),y4:B*Math.sin(te)}},pe=function(B){return 180*B/Math.PI},je=function(B,X,te,ue,de,_e){var ke=B+.5*(te-B),Pe=X+.5*(ue-X),ze=de+.5*(te-de),Qe=_e+.5*(ue-_e),nt=Math.min(B,de,ke,ze),rt=Math.max(B,de,ke,ze),Me=Math.min(X,_e,Pe,Qe),se=Math.max(X,_e,Pe,Qe);return new u(nt,Me,rt-nt,se-Me)},ee=function(B,X,te,ue,de,_e,ke,Pe){var ze,Qe,nt,rt,Me,se,nn,Tt,Et,Ze,yt,tt,Kt,bt,gn=te-B,qt=ue-X,ut=de-te,wt=_e-ue,St=ke-de,st=Pe-_e;for(Qe=0;Qe<41;Qe++)Et=(nn=(nt=B+(ze=Qe/40)*gn)+ze*((Me=te+ze*ut)-nt))+ze*(Me+ze*(de+ze*St-Me)-nn),Ze=(Tt=(rt=X+ze*qt)+ze*((se=ue+ze*wt)-rt))+ze*(se+ze*(_e+ze*st-se)-Tt),Qe==0?(yt=Et,tt=Ze,Kt=Et,bt=Ze):(yt=Math.min(yt,Et),tt=Math.min(tt,Ze),Kt=Math.max(Kt,Et),bt=Math.max(bt,Ze));return new u(Math.round(yt),Math.round(tt),Math.round(Kt-yt),Math.round(bt-tt))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,X,te=(B=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:X}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(Nt.API),(function(n){var e=function(c){var u,d,p,y,_,A,x,k,j,M;for(d=[],p=0,y=(c+=u="\0\0\0\0".slice(c.length%4||4)).length;y>p;p+=4)(_=(c.charCodeAt(p)<<24)+(c.charCodeAt(p+1)<<16)+(c.charCodeAt(p+2)<<8)+c.charCodeAt(p+3))!==0?(A=(_=((_=((_=((_=(_-(M=_%85))/85)-(j=_%85))/85)-(k=_%85))/85)-(x=_%85))/85)%85,d.push(A+33,x+33,k+33,j+33,M+33)):d.push(122);return(function(R,F){for(var q=F;q>0;q--)R.pop()})(d,u.length),String.fromCharCode.apply(String,d)+"~>"},t=function(c){var u,d,p,y,_,A=String,x="length",k=255,j="charCodeAt",M="slice",R="replace";for(c[M](-2),c=c[M](0,-2)[R](/\s/g,"")[R]("z","!!!!!"),p=[],y=0,_=(c+=u="uuuuu"[M](c[x]%5||5))[x];_>y;y+=5)d=52200625*(c[j](y)-33)+614125*(c[j](y+1)-33)+7225*(c[j](y+2)-33)+85*(c[j](y+3)-33)+(c[j](y+4)-33),p.push(k&d>>24,k&d>>16,k&d>>8,k&d);return(function(F,q){for(var W=q;W>0;W--)F.pop()})(p,u[x]),A.fromCharCode.apply(A,p)},r=function(c){return c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(c){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),u.test(c)===!1)return"";for(var d="",p=0;p<c.length;p+=2)d+=String.fromCharCode("0x"+(c[p]+c[p+1]));return d},o=function(c){for(var u=new Uint8Array(c.length),d=c.length;d--;)u[d]=c.charCodeAt(d);return(u=y2(u)).reduce(function(p,y){return p+String.fromCharCode(y)},"")};n.processDataByFilters=function(c,u){var d=0,p=c||"",y=[];for(typeof(u=u||[])=="string"&&(u=[u]),d=0;d<u.length;d+=1)switch(u[d]){case"ASCII85Decode":case"/ASCII85Decode":p=t(p),y.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=e(p),y.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=s(p),y.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=r(p),y.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=o(p),y.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[d]+'" is not implemented')}return{data:p,reverseChain:y.reverse().join(" ")}}})(Nt.API),(function(n){n.loadFile=function(e,t,r){return(function(s,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var u=void 0;try{u=(function(d,p,y){var _=new XMLHttpRequest,A=0,x=function(k){var j=k.length,M=[],R=String.fromCharCode;for(A=0;A<j;A+=1)M.push(R(255&k.charCodeAt(A)));return M.join("")};if(_.open("GET",d,!p),_.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(_.onload=function(){_.status===200?y(x(this.responseText)):y(void 0)}),_.send(null),p&&_.status===200)return x(_.responseText)})(s,o,c)}catch{}return u})(e,t,r)},n.loadImageFile=n.loadFile})(Nt.API),(function(n){function e(){return(Wt.html2canvas?Promise.resolve(Wt.html2canvas):f1(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function t(){return(Wt.DOMPurify?Promise.resolve(Wt.DOMPurify):f1(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var r=function(u){var d=Xn(u);return d==="undefined"?"undefined":d==="string"||u instanceof String?"string":d==="number"||u instanceof Number?"number":d==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":d==="object"?"object":"unknown"},s=function(u,d){var p=document.createElement(u);for(var y in d.className&&(p.className=d.className),d.innerHTML&&d.dompurify&&(p.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)p.style[y]=d.style[y];return p},o=function u(d,p){for(var y=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),_=d.firstChild;_;_=_.nextSibling)p!==!0&&_.nodeType===1&&_.nodeName==="SCRIPT"||y.appendChild(u(_,p));return d.nodeType===1&&(d.nodeName==="CANVAS"?(y.width=d.width,y.height=d.height,y.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(y.value=d.value),y.addEventListener("load",function(){y.scrollTop=d.scrollTop,y.scrollLeft=d.scrollLeft},!0)),y},c=function u(d){var p=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),y=u.convert(Promise.resolve(),p);return(y=y.setProgress(1,u,1,[u])).set(d)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(u,d){return u.__proto__=d||c.prototype,u},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(u,d){return this.then(function(){switch(d=d||(function(p){switch(r(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),d){case"string":return this.then(t).then(function(p){return this.set({src:s("div",{innerHTML:u,dompurify:p})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},c.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(d){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,d(this.prop.container,p)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(d){var p=this.opt.jsPDF,y=this.opt.fontFaces,_=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:_,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=y,y)for(var x=0;x<y.length;++x){var k=y[x],j=k.src.find(function(M){return M.format==="truetype"});j&&p.addFont(j.url,k.ref.name,k.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,p.context2d.save(!0),d(this.prop.container,A)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(u,d,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(u,d):this.outputPdf(u,d)},c.prototype.outputPdf=function(u,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,d)})},c.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},c.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(u){if(r(u)!=="object")return this;var d=Object.keys(u||{}).map(function(p){if(p in c.template.prop)return function(){this.prop[p]=u[p]};switch(p){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[p]=u[p]}}},this);return this.then(function(){return this.thenList(d)})},c.prototype.get=function(u,d){return this.then(function(){var p=u in c.template.prop?this.prop[u]:this.opt[u];return d?d(p):p})},c.prototype.setMargin=function(u){return this.then(function(){switch(r(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},c.prototype.setPageSize=function(u){function d(p,y){return Math.floor(p*y/72*96)}return this.then(function(){(u=u||Nt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:d(u.inner.width,u.k),height:d(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},c.prototype.setProgress=function(u,d,p,y){return u!=null&&(this.progress.val=u),d!=null&&(this.progress.state=d),p!=null&&(this.progress.n=p),y!=null&&(this.progress.stack=y),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(u,d,p,y){return this.setProgress(u?this.progress.val+u:null,d||null,p?this.progress.n+p:null,y?this.progress.stack.concat(y):null)},c.prototype.then=function(u,d){var p=this;return this.thenCore(u,d,function(y,_){return p.updateProgress(null,null,1,[y]),Promise.prototype.then.call(this,function(A){return p.updateProgress(null,y),A}).then(y,_).then(function(A){return p.updateProgress(1),A})})},c.prototype.thenCore=function(u,d,p){p=p||Promise.prototype.then;var y=this;u&&(u=u.bind(y)),d&&(d=d.bind(y));var _=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?y:c.convert(Object.assign({},y),Promise.prototype),A=p.call(_,u,d);return c.convert(A,y.__proto__)},c.prototype.thenExternal=function(u,d){return Promise.prototype.then.call(this,u,d)},c.prototype.thenList=function(u){var d=this;return u.forEach(function(p){d=d.thenCore(p)}),d},c.prototype.catch=function(u){u&&(u=u.bind(this));var d=Promise.prototype.catch.call(this,u);return c.convert(d,this)},c.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},c.prototype.error=function(u){return this.then(function(){throw new Error(u)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Nt.getPageSize=function(u,d,p){if(Xn(u)==="object"){var y=u;u=y.orientation,d=y.unit||d,p=y.format||p}d=d||"mm",p=p||"a4",u=(""+(u||"P")).toLowerCase();var _,A=(""+p).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":_=1;break;case"mm":_=72/25.4;break;case"cm":_=72/2.54;break;case"in":_=72;break;case"px":_=.75;break;case"pc":case"em":_=12;break;case"ex":_=6;break;default:throw"Invalid unit: "+d}var k,j=0,M=0;if(x.hasOwnProperty(A))j=x[A][1]/_,M=x[A][0]/_;else try{j=p[1],M=p[0]}catch{throw new Error("Invalid format: "+p)}if(u==="p"||u==="portrait")u="p",M>j&&(k=M,M=j,j=k);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",j>M&&(k=M,M=j,j=k)}return{width:M,height:j,unit:d,k:_,orientation:u}},n.html=function(u,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(j1):null;var p=new c(d);return d.worker?p:p.from(u).doCallback()}})(Nt.API),Nt.API.addJS=function(n){return Gw=n,this.internal.events.subscribe("postPutResources",function(){gm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(gm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Hw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Gw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){gm!==void 0&&Hw!==void 0&&this.internal.out("/Names <</JavaScript "+gm+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),o=0;o<s.length;o++){var c=s[o],u=r.exec(c);if(u!=null){var d=u[1];t.internal.newObjectDeferredBegin(d,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,y=[];for(o=0;o<p;o++){var _=t.internal.newObject();y.push(_);var A=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var x=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<y.length;o++)t.internal.write("(page_"+(o+1)+")"+y[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+x+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,s,o){var c={title:s,options:o,children:[]};return r==null&&(r=this.root),r.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var c=r.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var u=this.count=this.count_r({count:0},c);if(u>0&&this.line("/Count "+u),c.options&&c.options.pageNumber){var d=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var p=0;p<r.children.length;p++)this.renderItems(r.children[p])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,s){for(var o=0;o<s.children.length;o++)r.count++,this.count_r(r,s.children[o]);return r.count}}])})(Nt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,s,o,c,u){var d,p=this.decode.DCT_DECODE,y=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,d=(function(_){for(var A,x=256*_.charCodeAt(4)+_.charCodeAt(5),k=_.length,j={width:0,height:0,numcomponents:1},M=4;M<k;M+=2){if(M+=x,e.indexOf(_.charCodeAt(M+1))!==-1){A=256*_.charCodeAt(M+5)+_.charCodeAt(M+6),j={width:256*_.charCodeAt(M+7)+_.charCodeAt(M+8),height:A,numcomponents:_.charCodeAt(M+9)};break}x=256*_.charCodeAt(M+2)+_.charCodeAt(M+3)}return j})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),d.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}y={data:t,width:d.width,height:d.height,colorSpace:u,bitsPerComponent:8,filter:p,index:r,alias:s}}return y}})(Nt.API),Nt.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var s,o=h9(n,{checkCrc:!0}),c=o.width,u=o.height,d=o.channels,p=o.palette,y=o.depth;s=p&&d===1?(function($){for(var I=$.width,P=$.height,V=$.data,T=$.palette,D=$.depth,O=!1,le=[],Se=[],ae=void 0,ye=!1,pe=0,je=0;je<T.length;je++){var ee=Kx(T[je],4),me=ee[0],B=ee[1],X=ee[2],te=ee[3];le.push(me,B,X),te!=null&&(te===0?(pe++,Se.length<1&&Se.push(je)):te<255&&(ye=!0))}if(ye||pe>1){O=!0,Se=void 0;var ue=I*P;ae=new Uint8Array(ue);for(var de=new DataView(V.buffer),_e=0;_e<ue;_e++){var ke=L1(de,_e,D),Pe=Kx(T[ke],4)[3];ae[_e]=Pe}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:V,alphaBytes:ae,needSMask:O,palette:le,mask:Se}})(o):d===2||d===4?(function($){for(var I=$.data,P=$.width,V=$.height,T=$.channels,D=$.depth,O=T===2?"DeviceGray":"DeviceRGB",le=T-1,Se=P*V,ae=le,ye=Se*ae,pe=1*Se,je=Math.ceil(ye*D/8),ee=Math.ceil(pe*D/8),me=new Uint8Array(je),B=new Uint8Array(ee),X=new DataView(I.buffer),te=new DataView(me.buffer),ue=new DataView(B.buffer),de=!1,_e=0;_e<Se;_e++){for(var ke=_e*T,Pe=0;Pe<ae;Pe++)e_(te,L1(X,ke+Pe,D),_e*ae+Pe,D);var ze=L1(X,ke+ae,D);ze<(1<<D)-1&&(de=!0),e_(ue,ze,1*_e,D)}return{colorSpace:O,colorsPerPixel:le,colorBytes:me,alphaBytes:B,needSMask:de}})(o):(function($){var I=$.data,P=$.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:P,colorsPerPixel:P==="DeviceGray"?1:3,colorBytes:I instanceof Uint8Array?I:new Uint8Array(I.buffer),needSMask:!1}})(o);var _,A,x,k=s,j=k.colorSpace,M=k.colorsPerPixel,R=k.colorBytes,F=k.alphaBytes,q=k.needSMask,W=k.palette,ce=k.mask,xe=null;return r!==Nt.API.image_compression.NONE&&typeof y2=="function"?(xe=(function($){var I;switch($){case Nt.API.image_compression.FAST:I=11;break;case Nt.API.image_compression.MEDIUM:I=13;break;case Nt.API.image_compression.SLOW:I=14;break;default:I=12}return I})(r),_=this.decode.FLATE_DECODE,A="/Predictor ".concat(xe," "),n=Kw(R,c*M,M,r),q&&(x=Kw(F,c,1,r))):(_=void 0,A="",n=R,q&&(x=F)),A+="/Colors ".concat(M," /BitsPerComponent ").concat(y," /Columns ").concat(c),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(x&&this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),{alias:t,data:n,index:e,filter:_,decodeParameters:A,transparency:ce,palette:W,sMask:x,predictor:xe,width:c,height:u,bitsPerComponent:y,colorSpace:j}}},(function(n){n.processGIF89A=function(e,t,r,s){var o=new k9(e),c=o.width,u=o.height,d=[];o.decodeAndBlitFrameRGBA(0,d);var p={data:d,width:c,height:u},y=new P1(100).encode(p,100);return n.processJPEG.call(this,y,t,r,s)},n.processGIF87A=n.processGIF89A})(Nt.API),yo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},yo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){lr.log("bit decode error:"+t)}},yo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+8*s*4,u=0;u<8&&8*s+u<this.width;u++){var d=this.palette[o>>7-u&1];this.data[c+4*u]=d.blue,this.data[c+4*u+1]=d.green,this.data[c+4*u+2]=d.red,this.data[c+4*u+3]=255}t!==0&&(this.pos+=4-t)}},yo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+2*s*4,u=o>>4,d=15&o,p=this.palette[u];if(this.data[c]=p.blue,this.data[c+1]=p.green,this.data[c+2]=p.red,this.data[c+3]=255,2*s+1>=this.width)break;p=this.palette[d],this.data[c+4]=p.blue,this.data[c+4+1]=p.green,this.data[c+4+2]=p.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},yo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(s<this.palette.length){var c=this.palette[s];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},yo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,u=(o>>5&e)/e*255|0,d=(o>>10&e)/e*255|0,p=o>>15?255:0,y=r*this.width*4+4*s;this.data[y]=d,this.data[y+1]=u,this.data[y+2]=c,this.data[y+3]=p}this.pos+=n}},yo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(c&e)/e*255|0,d=(c>>5&t)/t*255|0,p=(c>>11)/e*255|0,y=s*this.width*4+4*o;this.data[y]=p,this.data[y+1]=d,this.data[y+2]=u,this.data[y+3]=255}this.pos+=n}},yo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=r,this.data[c+3]=255}this.pos+=this.width%4}},yo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=r,this.data[u+3]=c}},yo.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,s){var o=new yo(e,!1),c=o.width,u=o.height,d={data:o.getData(),width:c,height:u},p=new P1(100).encode(d,100);return n.processJPEG.call(this,p,t,r,s)}})(Nt.API),n_.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,s){var o=new n_(e),c=o.width,u=o.height,d={data:o.getData(),width:c,height:u},p=new P1(100).encode(d,100);return n.processJPEG.call(this,p,t,r,s)}})(Nt.API),Nt.API.processRGBA=function(n,e,t){for(var r=n.data,s=r.length,o=new Uint8Array(s/4*3),c=new Uint8Array(s/4),u=0,d=0,p=0;p<s;p+=4){var y=r[p],_=r[p+1],A=r[p+2],x=r[p+3];o[u++]=y,o[u++]=_,o[u++]=A,c[d++]=x}var k=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:k,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Nt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ah=Nt.API,ym=Ah.getCharWidthsArray=function(n,e){var t,r,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:s.metadata.Unicode.widths,d=u.fof?u.fof:1,p=e.kerning?e.kerning:s.metadata.Unicode.kerning,y=p.fof?p.fof:1,_=e.doKerning!==!1,A=0,x=n.length,k=0,j=u[0]||d,M=[];for(t=0;t<x;t++)r=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?M.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+c*(1e3/o)||0)/1e3):(A=_&&Xn(p[r])==="object"&&!isNaN(parseInt(p[r][k],10))?p[r][k]/y:0,M.push((u[r]||j)/d+A)),k=r;return M},$w=Ah.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Ah.processArabic&&(n=Ah.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,s)/t:ym.apply(this,arguments).reduce(function(o,c){return o+c},0)},Yw=function(n,e,t,r){for(var s=[],o=0,c=n.length,u=0;o!==c&&u+e[o]<t;)u+=e[o],o++;s.push(n.slice(0,o));var d=o;for(u=0;o!==c;)u+e[o]>r&&(s.push(n.slice(d,o)),u=0,d=o),u+=e[o],o++;return d!==o&&s.push(n.slice(d,o)),s},Ww=function(n,e,t){t||(t={});var r,s,o,c,u,d,p,y=[],_=[y],A=t.textIndent||0,x=0,k=0,j=n.split(" "),M=ym.apply(this,[" ",t])[0];if(d=t.lineIndent===-1?j[0].length+2:t.lineIndent||0){var R=Array(d).join(" "),F=[];j.map(function(W){(W=W.split(/\s*\n/)).length>1?F=F.concat(W.map(function(ce,xe){return(xe&&ce.length?`
`:"")+ce})):F.push(W[0])}),j=F,d=$w.apply(this,[R,t])}for(o=0,c=j.length;o<c;o++){var q=0;if(r=j[o],d&&r[0]==`
`&&(r=r.substr(1),q=1),A+x+(k=(s=ym.apply(this,[r,t])).reduce(function(W,ce){return W+ce},0))>e||q){if(k>e){for(u=Yw.apply(this,[r,s,e-(A+x),e]),y.push(u.shift()),y=[u.pop()];u.length;)_.push([u.shift()]);k=s.slice(r.length-(y[0]?y[0].length:0)).reduce(function(W,ce){return W+ce},0)}else y=[r];_.push(y),A=k+d,x=M}else y.push(r),A+=x+k,x=M}return p=d?function(W,ce){return(ce?R:"")+W.join(" ")}:function(W){return W.join(" ")},_.map(p)},Ah.splitTextToSize=function(n,e,t){var r,s=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var _=this.internal.getFont(y.fontName,y.fontStyle),A="Unicode";return _.metadata[A]?{widths:_.metadata[A].widths||{0:1},kerning:_.metadata[A].kerning||{}}:{font:_.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/s;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=t.lineIndent;var u,d,p=[];for(u=0,d=r.length;u<d;u++)p=p.concat(Ww.apply(this,[r[u],c,o]));return p},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},s={},o=0;o<16;o++)r[t[o]]=e[o],s[e[o]]=t[o];var c=function(A){return"0x"+parseInt(A,10).toString(16)},u=n.__fontmetrics__.compress=function(A){var x,k,j,M,R=["{"];for(var F in A){if(x=A[F],isNaN(parseInt(F,10))?k="'"+F+"'":(F=parseInt(F,10),k=(k=c(F).slice(2)).slice(0,-1)+s[k.slice(-1)]),typeof x=="number")x<0?(j=c(x).slice(3),M="-"):(j=c(x).slice(2),M=""),j=M+j.slice(0,-1)+s[j.slice(-1)];else{if(Xn(x)!=="object")throw new Error("Don't know what to do with value type "+Xn(x)+".");j=u(x)}R.push(k+j)}return R.push("}"),R.join("")},d=n.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,k,j,M,R={},F=1,q=R,W=[],ce="",xe="",$=A.length-1,I=1;I<$;I+=1)(M=A[I])=="'"?x?(j=x.join(""),x=void 0):x=[]:x?x.push(M):M=="{"?(W.push([q,j]),q={},j=void 0):M=="}"?((k=W.pop())[0][k[1]]=q,j=void 0,q=k[0]):M=="-"?F=-1:j===void 0?r.hasOwnProperty(M)?(ce+=r[M],j=parseInt(ce,16)*F,F=1,ce=""):ce+=M:r.hasOwnProperty(M)?(xe+=r[M],q[j]=parseInt(xe,16)*F,F=1,j=void 0,xe=""):xe+=M;return R},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},y={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},_={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(A){var x=A.font,k=_.Unicode[x.postScriptName];k&&(x.metadata.Unicode={},x.metadata.Unicode.widths=k.widths,x.metadata.Unicode.kerning=k.kerning);var j=y.Unicode[x.postScriptName];j&&(x.metadata.Unicode.encoding=j,x.encoding=j.codePages[0])}])})(Nt.API),(function(n){var e=function(t){for(var r=t.length,s=new Uint8Array(r),o=0;o<r;o++)s[o]=t.charCodeAt(o);return s};n.API.events.push(["addFont",function(t){var r=void 0,s=t.font,o=t.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(c,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(jm(u)),c.metadata=n.API.TTFFont.open(u),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(s,r)}}])})(Nt),Nt.API.addSvgAsImage=function(n,e,t,r,s,o,c,u){if(isNaN(e)||isNaN(t))throw lr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw lr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=r,d.height=s;var p=d.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,d.width,d.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},_=this;return(Wt.canvg?Promise.resolve(Wt.canvg):f1(()=>import("./index.es-CFUPW12m.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load canvg: "+A))}).then(function(A){return A.default?A.default:A}).then(function(A){return A.fromString(p,n,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(y)}).then(function(){_.addImage(d.toDataURL("image/jpeg",1),e,t,r,s,c,u)})},Nt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,t);return this},Nt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,s,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(c),d=[],p=0,y=0,_=0;function A(k,j){var M,R=!1;for(M=0;M<k.length;M+=1)k[M]===j&&(R=!0);return R}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var x=u.length;for(_=0;_<x;_+=1)t[u[_]].value=t[u[_]].defaultValue,t[u[_]].explicitSet=!1}if(Xn(n)==="object"){for(s in n)if(o=n[s],A(u,s)&&o!==void 0){if(t[s].type==="boolean"&&typeof o=="boolean")t[s].value=o;else if(t[s].type==="name"&&A(t[s].valueSet,o))t[s].value=o;else if(t[s].type==="integer"&&Number.isInteger(o))t[s].value=o;else if(t[s].type==="array"){for(p=0;p<o.length;p+=1)if(r=!0,o[p].length===1&&typeof o[p][0]=="number")d.push(String(o[p]-1));else if(o[p].length>1){for(y=0;y<o[p].length;y+=1)typeof o[p][y]!="number"&&(r=!1);r===!0&&d.push([o[p][0]-1,o[p][1]-1].join(" "))}t[s].value="["+d.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var k,j=[];for(k in t)t[k].explicitSet===!0&&(t[k].type==="name"?j.push("/"+k+" /"+t[k].value):j.push("/"+k+" "+t[k].value));j.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+j.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),p=o.length+c.length+u.length+s.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(s+o+c+u+d),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Nt.API),(function(n){var e=n.API,t=e.pdfEscape16=function(o,c){for(var u,d=c.metadata.Unicode.widths,p=["","0","00","000","0000"],y=[""],_=0,A=o.length;_<A;++_){if(u=c.metadata.characterToGlyph(o.charCodeAt(_)),c.metadata.glyIdsUsed.push(u),c.metadata.toUnicode[u]=o.charCodeAt(_),d.indexOf(u)==-1&&(d.push(u),d.push([parseInt(c.metadata.widthOfGlyph(u),10)])),u=="0")return y.join("");u=u.toString(16),y.push(p[4-u.length],u)}return y.join("")},r=function(o){var c,u,d,p,y,_,A;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],_=0,A=(u=Object.keys(o).sort(function(x,k){return x-k})).length;_<A;_++)c=u[_],d.length>=100&&(y+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(p=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),d.push("<"+c+"><"+p+">"));return d.length&&(y+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),y+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var u=c.font,d=c.out,p=c.newObject,y=c.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var _=u.metadata.Unicode.widths,A=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),x="",k=0;k<A.length;k++)x+=String.fromCharCode(A[k]);var j=p();y({data:x,addLength1:!0,objectId:j}),d("endobj");var M=p();y({data:r(u.metadata.toUnicode),addLength1:!0,objectId:M}),d("endobj");var R=p();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Ih(u.fontName)),d("/FontFile2 "+j+" 0 R"),d("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),d("/Flags "+u.metadata.flags),d("/StemV "+u.metadata.stemV),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d(">>"),d("endobj");var F=p();d("<<"),d("/Type /Font"),d("/BaseFont /"+Ih(u.fontName)),d("/FontDescriptor "+R+" 0 R"),d("/W "+n.API.PDFObject.convert(_)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+u.encoding+")"),d(">>"),d(">>"),d("endobj"),u.objectNumber=p(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+M+" 0 R"),d("/BaseFont /"+Ih(u.fontName)),d("/Encoding /"+u.encoding),d("/DescendantFonts ["+F+" 0 R]"),d(">>"),d("endobj"),u.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var u=c.font,d=c.out,p=c.newObject,y=c.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var _=u.metadata.rawData,A="",x=0;x<_.length;x++)A+=String.fromCharCode(_[x]);var k=p();y({data:A,addLength1:!0,objectId:k}),d("endobj");var j=p();y({data:r(u.metadata.toUnicode),addLength1:!0,objectId:j}),d("endobj");var M=p();d("<<"),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d("/StemV "+u.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+k+" 0 R"),d("/Flags 96"),d("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),d("/FontName /"+Ih(u.fontName)),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d(">>"),d("endobj"),u.objectNumber=p();for(var R=0;R<u.metadata.hmtx.widths.length;R++)u.metadata.hmtx.widths[R]=parseInt(u.metadata.hmtx.widths[R]*(1e3/u.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+j+" 0 R/BaseFont/"+Ih(u.fontName)+"/FontDescriptor "+M+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),d("endobj"),u.isAlreadyPutted=!0}})(o)}]);var s=function(o){var c,u=o.text||"",d=o.x,p=o.y,y=o.options||{},_=o.mutex||{},A=_.pdfEscape,x=_.activeFontKey,k=_.fonts,j=x,M="",R=0,F="",q=k[j].encoding;if(k[j].encoding!=="Identity-H")return{text:u,x:d,y:p,options:y,mutex:_};for(F=u,j=x,Array.isArray(u)&&(F=u[0]),R=0;R<F.length;R+=1)k[j].metadata.hasOwnProperty("cmap")&&(c=k[j].metadata.cmap.unicode.codeMap[F[R].charCodeAt(0)]),c||F[R].charCodeAt(0)<256&&k[j].metadata.hasOwnProperty("Unicode")?M+=F[R]:M+="";var W="";return parseInt(j.slice(1))<14||q==="WinAnsiEncoding"?W=A(M,j).split("").map(function(ce){return ce.charCodeAt(0).toString(16)}).join(""):q==="Identity-H"&&(W=t(M,k[j])),_.isHex=!0,{text:W,x:d,y:p,options:y,mutex:_}};e.events.push(["postProcessText",function(o){var c=o.text||"",u=[],d={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var p=0;for(p=0;p<c.length;p+=1)Array.isArray(c[p])&&c[p].length===3?u.push([s(Object.assign({},d,{text:c[p][0]})).text,c[p][1],c[p][2]]):u.push(s(Object.assign({},d,{text:c[p]})).text);o.text=u}else o.text=s(Object.assign({},d,{text:c})).text}])})(Nt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Nt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var s,o,c,u,d,p,y,_=e,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],k={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},j={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},M=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],R=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),F=!1,q=0;this.__bidiEngine__={};var W=function(T){var D=T.charCodeAt(),O=D>>8,le=j[O];return le!==void 0?_[256*le+(255&D)]:O===252||O===253?"AL":R.test(O)?"L":O===8?"R":"N"},ce=function(T){for(var D,O=0;O<T.length;O++){if((D=W(T.charAt(O)))==="L")return!1;if(D==="R")return!0}return!1},xe=function(T,D,O,le){var Se,ae,ye,pe,je=D[le];switch(je){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":F=!1;break;case"N":case"AN":break;case"EN":F&&(je="AN");break;case"AL":F=!0,je="R";break;case"WS":case"BN":je="N";break;case"CS":le<1||le+1>=D.length||(Se=O[le-1])!=="EN"&&Se!=="AN"||(ae=D[le+1])!=="EN"&&ae!=="AN"?je="N":F&&(ae="AN"),je=ae===Se?ae:"N";break;case"ES":je=(Se=le>0?O[le-1]:"B")==="EN"&&le+1<D.length&&D[le+1]==="EN"?"EN":"N";break;case"ET":if(le>0&&O[le-1]==="EN"){je="EN";break}if(F){je="N";break}for(ye=le+1,pe=D.length;ye<pe&&D[ye]==="ET";)ye++;je=ye<pe&&D[ye]==="EN"?"EN":"N";break;case"NSM":if(c&&!u){for(pe=D.length,ye=le+1;ye<pe&&D[ye]==="NSM";)ye++;if(ye<pe){var ee=T[le],me=ee>=1425&&ee<=2303||ee===64286;if(Se=D[ye],me&&(Se==="R"||Se==="AL")){je="R";break}}}je=le<1||(Se=D[le-1])==="B"?"N":O[le-1];break;case"B":F=!1,s=!0,je=q;break;case"S":o=!0,je="N"}return je},$=function(T,D,O){var le=T.split("");return O&&I(le,O,{hiLevel:q}),le.reverse(),D&&D.reverse(),le.join("")},I=function(T,D,O){var le,Se,ae,ye,pe,je=-1,ee=T.length,me=0,B=[],X=q?x:A,te=[];for(F=!1,s=!1,o=!1,Se=0;Se<ee;Se++)te[Se]=W(T[Se]);for(ae=0;ae<ee;ae++){if(pe=me,B[ae]=xe(T,te,B,ae),le=240&(me=X[pe][k[B[ae]]]),me&=15,D[ae]=ye=X[me][5],le>0)if(le===16){for(Se=je;Se<ae;Se++)D[Se]=1;je=-1}else je=-1;if(X[me][6])je===-1&&(je=ae);else if(je>-1){for(Se=je;Se<ae;Se++)D[Se]=ye;je=-1}te[ae]==="B"&&(D[ae]=0),O.hiLevel|=ye}o&&(function(ue,de,_e){for(var ke=0;ke<_e;ke++)if(ue[ke]==="S"){de[ke]=q;for(var Pe=ke-1;Pe>=0&&ue[Pe]==="WS";Pe--)de[Pe]=q}})(te,D,ee)},P=function(T,D,O,le,Se){if(!(Se.hiLevel<T)){if(T===1&&q===1&&!s)return D.reverse(),void(O&&O.reverse());for(var ae,ye,pe,je,ee=D.length,me=0;me<ee;){if(le[me]>=T){for(pe=me+1;pe<ee&&le[pe]>=T;)pe++;for(je=me,ye=pe-1;je<ye;je++,ye--)ae=D[je],D[je]=D[ye],D[ye]=ae,O&&(ae=O[je],O[je]=O[ye],O[ye]=ae);me=pe}me++}}},V=function(T,D,O){var le=T.split(""),Se={hiLevel:q};return O||(O=[]),I(le,O,Se),(function(ae,ye,pe){if(pe.hiLevel!==0&&y)for(var je,ee=0;ee<ae.length;ee++)ye[ee]===1&&(je=M.indexOf(ae[ee]))>=0&&(ae[ee]=M[je+1])})(le,O,Se),P(2,le,D,O,Se),P(1,le,D,O,Se),le.join("")};return this.__bidiEngine__.doBidiReorder=function(T,D,O){if((function(Se,ae){if(ae)for(var ye=0;ye<Se.length;ye++)ae[ye]=ye;u===void 0&&(u=ce(Se)),p===void 0&&(p=ce(Se))})(T,D),c||!d||p)if(c&&d&&u^p)q=u?1:0,T=$(T,D,O);else if(!c&&d&&p)q=u?1:0,T=V(T,D,O),T=$(T,D);else if(!c||u||d||p){if(c&&!d&&u^p)T=$(T,D),u?(q=0,T=V(T,D,O)):(q=1,T=V(T,D,O),T=$(T,D));else if(c&&u&&!d&&p)q=1,T=V(T,D,O),T=$(T,D);else if(!c&&!d&&u^p){var le=y;u?(q=1,T=V(T,D,O),q=0,y=!1,T=V(T,D,O),y=le):(q=0,T=V(T,D,O),T=$(T,D),q=1,y=!1,T=V(T,D,O),y=le,T=$(T,D))}}else q=0,T=V(T,D,O);else q=u?1:0,T=V(T,D,O);return T},this.__bidiEngine__.setOptions=function(T){T&&(c=T.isInputVisual,d=T.isOutputVisual,u=T.isInputRtl,p=T.isOutputRtl,y=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var u=0;for(c=[],u=0;u<s.length;u+=1)Object.prototype.toString.call(s[u])==="[object Array]"?c.push([t.doBidiReorder(s[u][0]),s[u][1],s[u][2]]):c.push([t.doBidiReorder(s[u])]);r.text=c}else r.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(Nt),Nt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Wc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Y9(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new L9(this.contents),this.head=new D9(this),this.name=new F9(this),this.cmap=new hA(this),this.toUnicode={},this.hhea=new O9(this),this.maxp=new B9(this),this.hmtx=new q9(this),this.post=new U9(this),this.os2=new M9(this),this.loca=new $9(this),this.glyf=new z9(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,u,d,p;for(p=[],c=0,u=(d=this.bbox).length;c<u;c++)e=d[c],p.push(Math.round(e*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var s,o,c,u;for(c=0,o=0,u=(e=""+e).length;0<=u?o<u:o>u;o=0<=u?++o:--o)s=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/t)||0;return c*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var To,Wc=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,s;for(s=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,s,o,c,u,d;return e=this.readByte(),t=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),u=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^o)+65536*(255^c)+256*(255^u)+(255^d)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*s+16777216*o+65536*c+256*u+d},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,s,o;for(o=[],r=0,s=e.length;r<s;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),L9=(function(){var n;function e(t){var r,s,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,s,o,c,u,d,p,y,_,A,x,k,j;for(j in x=Object.keys(t).length,d=Math.log(2),_=16*Math.floor(Math.log(x)/d),c=Math.floor(_/d),y=16*x-_,(s=new Wc).writeInt(this.scalarType),s.writeShort(x),s.writeShort(_),s.writeShort(c),s.writeShort(y),o=16*x,p=s.pos+o,u=null,k=[],t)for(A=t[j],s.writeString(j),s.writeInt(n(A)),s.writeInt(p),s.writeInt(A.length),k=k.concat(A),j==="head"&&(u=p),p+=A.length;p%4;)k.push(0),p++;return s.write(k),r=2981146554-n(s.data),s.pos=u+8,s.writeUInt32(r),s.data},n=function(t){var r,s,o,c;for(t=dA.call(t);t.length%4;)t.push(0);for(o=new Wc(t),s=0,r=0,c=t.length;r<c;r=r+=4)s+=o.readUInt32();return 4294967295&s},e})(),P9={}.hasOwnProperty,ll=function(n,e){for(var t in e)P9.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};To=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var D9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Wc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),r_=(function(){function n(e,t){var r,s,o,c,u,d,p,y,_,A,x,k,j,M,R,F,q;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),_=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(x=e.readUInt16(),A=x/2,e.pos+=6,o=(function(){var W,ce;for(ce=[],d=W=0;0<=A?W<A:W>A;d=0<=A?++W:--W)ce.push(e.readUInt16());return ce})(),e.pos+=2,j=(function(){var W,ce;for(ce=[],d=W=0;0<=A?W<A:W>A;d=0<=A?++W:--W)ce.push(e.readUInt16());return ce})(),p=(function(){var W,ce;for(ce=[],d=W=0;0<=A?W<A:W>A;d=0<=A?++W:--W)ce.push(e.readUInt16());return ce})(),y=(function(){var W,ce;for(ce=[],d=W=0;0<=A?W<A:W>A;d=0<=A?++W:--W)ce.push(e.readUInt16());return ce})(),s=(this.length-e.pos+this.offset)/2,u=(function(){var W,ce;for(ce=[],d=W=0;0<=s?W<s:W>s;d=0<=s?++W:--W)ce.push(e.readUInt16());return ce})(),d=R=0,q=o.length;R<q;d=++R)for(M=o[d],r=F=k=j[d];k<=M?F<=M:F>=M;r=k<=M?++F:--F)y[d]===0?c=r+p[d]:(c=u[y[d]/2+(r-k)-(A-d)]||0)!==0&&(c+=p[d]),this.codeMap[r]=65535&c}e.pos=_}return n.encode=function(e,t){var r,s,o,c,u,d,p,y,_,A,x,k,j,M,R,F,q,W,ce,xe,$,I,P,V,T,D,O,le,Se,ae,ye,pe,je,ee,me,B,X,te,ue,de,_e,ke,Pe,ze,Qe,nt;switch(le=new Wc,c=Object.keys(e).sort(function(rt,Me){return rt-Me}),t){case"macroman":for(j=0,M=(function(){var rt=[];for(k=0;k<256;++k)rt.push(0);return rt})(),F={0:0},o={},Se=0,je=c.length;Se<je;Se++)F[Pe=e[s=c[Se]]]==null&&(F[Pe]=++j),o[s]={old:e[s],new:F[e[s]]},M[s]=F[e[s]];return le.writeUInt16(1),le.writeUInt16(0),le.writeUInt32(12),le.writeUInt16(0),le.writeUInt16(262),le.writeUInt16(0),le.write(M),{charMap:o,subtable:le.data,maxGlyphID:j+1};case"unicode":for(D=[],_=[],q=0,F={},r={},R=p=null,ae=0,ee=c.length;ae<ee;ae++)F[ce=e[s=c[ae]]]==null&&(F[ce]=++q),r[s]={old:ce,new:F[ce]},u=F[ce]-s,R!=null&&u===p||(R&&_.push(R),D.push(s),p=u),R=s;for(R&&_.push(R),_.push(65535),D.push(65535),V=2*(P=D.length),I=2*Math.pow(Math.log(P)/Math.LN2,2),A=Math.log(I/2)/Math.LN2,$=2*P-I,d=[],xe=[],x=[],k=ye=0,me=D.length;ye<me;k=++ye){if(T=D[k],y=_[k],T===65535){d.push(0),xe.push(0);break}if(T-(O=r[T].new)>=32768)for(d.push(0),xe.push(2*(x.length+P-k)),s=pe=T;T<=y?pe<=y:pe>=y;s=T<=y?++pe:--pe)x.push(r[s].new);else d.push(O-T),xe.push(0)}for(le.writeUInt16(3),le.writeUInt16(1),le.writeUInt32(12),le.writeUInt16(4),le.writeUInt16(16+8*P+2*x.length),le.writeUInt16(0),le.writeUInt16(V),le.writeUInt16(I),le.writeUInt16(A),le.writeUInt16($),_e=0,B=_.length;_e<B;_e++)s=_[_e],le.writeUInt16(s);for(le.writeUInt16(0),ke=0,X=D.length;ke<X;ke++)s=D[ke],le.writeUInt16(s);for(ze=0,te=d.length;ze<te;ze++)u=d[ze],le.writeUInt16(u);for(Qe=0,ue=xe.length;Qe<ue;Qe++)W=xe[Qe],le.writeUInt16(W);for(nt=0,de=x.length;nt<de;nt++)j=x[nt],le.writeUInt16(j);return{charMap:r,subtable:le.data,maxGlyphID:q+1}}},n})(),hA=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)t=new r_(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,s;return t==null&&(t="macroman"),r=r_.encode(e,t),(s=new Wc).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},n})(),O9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),M9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),U9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var c,u,d;for(d=[],o=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;o=0<=u?++c:--c)d.push(e.readUInt32());return d}).call(this)}},n})(),V9=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},F9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,s,o,c,u,d,p,y,_,A;for(e.pos=this.offset,e.readShort(),t=e.readShort(),u=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(d={},o=y=0,_=r.length;y<_;o=++y)s=r[o],e.pos=s.offset,p=e.readString(s.length),c=new V9(p,s),d[A=s.nameID]==null&&(d[A]=[]),d[s.nameID].push(c);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},n})(),B9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),q9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,s,o,c,u,d;for(e.pos=this.offset,this.metrics=[],t=0,u=this.file.hhea.numberOfMetrics;0<=u?t<u:t>u;t=0<=u?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var p,y;for(y=[],t=p=0;0<=s?p<s:p>s;t=0<=s?++p:--p)y.push(e.readInt16());return y})(),this.widths=(function(){var p,y,_,A;for(A=[],p=0,y=(_=this.metrics).length;p<y;p++)o=_[p],A.push(o.advance);return A}).call(this),r=this.widths[this.widths.length-1],d=[],t=c=0;0<=s?c<s:c>s;t=0<=s?++c:--c)d.push(this.widths.push(r));return d},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),dA=[].slice,z9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,s,o,c,u,d,p,y,_;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,c=(u=new Wc(t.read(s))).readShort(),p=u.readShort(),_=u.readShort(),d=u.readShort(),y=u.readShort(),this.cache[e]=c===-1?new G9(u,p,_,d,y):new H9(u,c,p,_,d,y),this.cache[e]))},n.prototype.encode=function(e,t,r){var s,o,c,u,d;for(c=[],o=[],u=0,d=t.length;u<d;u++)s=e[t[u]],o.push(c.length),s&&(c=c.concat(s.encode(r)));return o.push(c.length),{table:c,offsets:o}},n})(),H9=(function(){function n(e,t,r,s,o,c){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=s,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),G9=(function(){function n(e,t,r,s,o){var c,u;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;u=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&u;)c.pos+=1&u?4:2,128&u?c.pos+=8:64&u?c.pos+=4:8&u&&(c.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Wc(dA.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),$9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,c=0;c<r.length;++c)if(r[c]=s,o<t.length&&t[o]==c){++o,r[c]=s;var u=this.offsets[c],d=this.offsets[c+1]-u;d>0&&(s+=d)}for(var p=new Array(4*r.length),y=0;y<r.length;++y)p[4*y+3]=255&r[y],p[4*y+2]=(65280&r[y])>>8,p[4*y+1]=(16711680&r[y])>>16,p[4*y]=(4278190080&r[y])>>24;return p},n})(),Y9=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,s,o;for(t in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=s[r];return e},n.prototype.glyphsFor=function(e){var t,r,s,o,c,u,d;for(s={},c=0,u=e.length;c<u;c++)s[o=e[c]]=this.font.glyf.glyphFor(o);for(o in t=[],s)(r=s[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in d=this.glyphsFor(t))r=d[o],s[o]=r;return s},n.prototype.encode=function(e,t){var r,s,o,c,u,d,p,y,_,A,x,k,j,M,R;for(s in r=hA.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),x={0:0},R=r.charMap)x[(d=R[s]).old]=d.new;for(k in A=r.maxGlyphID,c)k in x||(x[k]=A++);return y=(function(F){var q,W;for(q in W={},F)W[F[q]]=q;return W})(x),_=Object.keys(y).sort(function(F,q){return F-q}),j=(function(){var F,q,W;for(W=[],F=0,q=_.length;F<q;F++)u=_[F],W.push(y[u]);return W})(),o=this.font.glyf.encode(c,j,x),p=this.font.loca.encode(o.offsets,j),M={cmap:this.font.cmap.raw(),glyf:o.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(M["OS/2"]=this.font.os2.raw()),this.font.directory.encode(M)},n})();Nt.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,s,o,c;if(Array.isArray(t))return"["+(function(){var u,d,p;for(p=[],u=0,d=t.length;u<d;u++)r=t[u],p.push(e.convert(r));return p})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in o=["<<"],t)c=t[s],o.push("/"+s+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+t},e})();const W9=()=>{const{currentUser:n,userProfile:e}=ga(),[t,r]=oe.useState(!1),[s,o]=oe.useState(""),[c,u]=oe.useState(""),d=async()=>{if(!n||!e){o("Debes estar autenticado para generar un catálogo.");return}r(!0),o(""),u("");try{const p=rd(Wr(Lt,"products"),Pg("supplierId","==",n.uid)),y=await Fc(p),_=[];if(y.forEach(j=>{_.push({id:j.id,...j.data()})}),_.length===0){o("No tienes productos para incluir en el catálogo."),r(!1);return}const A=new Nt;A.setFontSize(22),A.text("Catálogo de Productos",105,20,{align:"center"}),A.setFontSize(16),A.text(e.displayName||"Tienda de Socio",105,30,{align:"center"}),A.setFontSize(12),A.text(`Fecha: ${new Date().toLocaleDateString("es-CO")}`,105,37,{align:"center"});let x=50;_.forEach((j,M)=>{A.setFontSize(14),A.setFont(void 0,"bold"),A.text(j.name,20,x),A.setFontSize(12),A.setFont(void 0,"normal"),x+=7,A.text(`Categoría: ${j.category}`,20,x),x+=7,A.text(`Precio al Público: $${j.price.toLocaleString("es-CO")}`,20,x),x+=7,A.text(`Precio al Por Mayor: $${j.wholesalePrice.toLocaleString("es-CO")}`,20,x),x+=7,A.text(`Stock Disponible: ${j.stock}`,20,x),x+=7;const R=A.splitTextToSize(j.summary,170);A.text(R,20,x),x+=R.length*7+10,x>270&&(A.addPage(),x=20)});const k=A.getNumberOfPages();for(let j=1;j<=k;j++)A.setPage(j),A.setFontSize(10),A.text(`Página ${j} de ${k}`,105,285,{align:"center"});A.save(`catalogo_${e.displayName||"socio"}_${new Date().toISOString().split("T")[0]}.pdf`),u("¡Catálogo generado exitosamente! La descarga debería comenzar automáticamente.")}catch(p){console.error("Error generating catalog:",p),o("Error al generar el catálogo. Por favor, inténtalo de nuevo.")}finally{r(!1)}};return f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Generar Catálogo PDF"}),f.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-orange-50 rounded-xl p-6 mb-6",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"¿Cómo funciona?"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"Genera un catálogo profesional en formato PDF con todos tus productos. El catálogo incluirá el nombre, categoría, precios, stock y descripción de cada producto."}),f.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[f.jsx("li",{children:"• Catálogo personalizado con el nombre de tu tienda"}),f.jsx("li",{children:"• Incluye todos tus productos activos"}),f.jsx("li",{children:"• Precios al público y al por mayor"}),f.jsx("li",{children:"• Información actualizada de stock"})]})]}),s&&f.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm mb-4",children:s}),c&&f.jsx("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-xl text-sm mb-4",children:c}),f.jsx("button",{onClick:d,disabled:t,className:"w-full bg-gradient-to-r from-purple-600 to-orange-500 text-white font-bold py-3 px-6 rounded-xl hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:t?f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Generando catálogo..."]}):"Generar Catálogo PDF"}),f.jsx("div",{className:"mt-4 text-center text-xs text-gray-500",children:f.jsx("p",{children:"El catálogo se descargará automáticamente en formato PDF"})})]})},K9=()=>{const{currentUser:n}=ga(),[e,t]=oe.useState([]),[r,s]=oe.useState(!0);oe.useEffect(()=>{if(!n)return;const u=rd(Wr(Lt,"notifications"),Pg("recipientId","==",n.uid),Ly("createdAt","desc")),d=Gl(u,p=>{const y=[];p.forEach(_=>{y.push({id:_.id,..._.data(),createdAt:_.data().createdAt?.toDate()||new Date})}),t(y),s(!1)});return()=>d()},[n]);const o=u=>{switch(u){case"success":return"✅";case"warning":return"⚠️";case"error":return"❌";default:return"ℹ️"}},c=u=>{switch(u){case"success":return"bg-green-50 border-green-200 text-green-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"error":return"bg-red-50 border-red-200 text-red-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}};return r?f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Notificaciones"}),f.jsx("div",{className:"space-y-3",children:[1,2,3].map(u=>f.jsxs("div",{className:"animate-pulse flex space-x-4",children:[f.jsx("div",{className:"rounded-full bg-gray-200 h-10 w-10"}),f.jsxs("div",{className:"flex-1 space-y-2",children:[f.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),f.jsx("div",{className:"h-4 bg-gray-200 rounded"})]})]},u))})]}):f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Notificaciones"}),e.length===0?f.jsxs("div",{className:"text-center py-8",children:[f.jsx("div",{className:"text-4xl mb-3",children:"🔔"}),f.jsx("p",{className:"text-gray-500",children:"No tienes notificaciones nuevas"})]}):f.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.map(u=>f.jsx("div",{className:`p-4 rounded-xl border ${c(u.type)} ${u.read?"":"ring-2 ring-blue-500"}`,children:f.jsxs("div",{className:"flex items-start",children:[f.jsx("span",{className:"text-xl mr-3",children:o(u.type)}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-bold",children:u.title}),f.jsx("p",{className:"text-sm mt-1",children:u.message}),f.jsxs("p",{className:"text-xs mt-2 opacity-70",children:[u.createdAt.toLocaleDateString("es-CO")," "," ",u.createdAt.toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"})]})]})]})},u.id))})]})},X9=()=>{const{currentUser:n}=ga(),[e,t]=oe.useState([]),[r,s]=oe.useState(!0),[o,c]=oe.useState("month"),[u,d]=oe.useState({totalSales:0,totalRevenue:0,totalOrders:0,pendingOrders:0});return oe.useEffect(()=>{if(!n)return;(async()=>{try{const y=new Date;let _=new Date(0);o==="week"?_=new Date(y.getTime()-10080*60*1e3):o==="month"&&(_=new Date(y.getTime()-720*60*60*1e3));const A=[{id:"1",productId:"p1",productName:"Smartphone XYZ",quantity:2,unitPrice:12e5,totalPrice:24e5,customerName:"Juan Pérez",status:"pending",createdAt:new Date(y.getTime()-2880*60*1e3)},{id:"2",productId:"p2",productName:"Tablet ABC",quantity:1,unitPrice:8e5,totalPrice:8e5,customerName:"María García",status:"shipped",createdAt:new Date(y.getTime()-7200*60*1e3)},{id:"3",productId:"p3",productName:"Auriculares Bluetooth",quantity:3,unitPrice:15e4,totalPrice:45e4,customerName:"Carlos López",status:"delivered",createdAt:new Date(y.getTime()-14400*60*1e3)}];t(A);const x=A.length,k=A.reduce((R,F)=>R+F.totalPrice,0),j=A.reduce((R,F)=>R+F.quantity,0),M=A.filter(R=>R.status==="pending").length;d({totalSales:x,totalRevenue:k,totalOrders:j,pendingOrders:M}),s(!1)}catch(y){console.error("Error fetching sales data:",y),s(!1)}})()},[n,o]),r?f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Estadísticas de Ventas"}),f.jsx("div",{className:"animate-pulse h-8 w-32 bg-gray-200 rounded"})]}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[1,2,3,4].map(p=>f.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[f.jsx("div",{className:"animate-pulse h-4 bg-gray-200 rounded w-3/4 mb-2"}),f.jsx("div",{className:"animate-pulse h-6 bg-gray-200 rounded w-1/2"})]},p))}),f.jsx("div",{className:"animate-pulse h-64 bg-gray-100 rounded-xl"})]}):f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Estadísticas de Ventas"}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:()=>c("week"),className:`px-3 py-1 text-sm rounded-lg ${o==="week"?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Semana"}),f.jsx("button",{onClick:()=>c("month"),className:`px-3 py-1 text-sm rounded-lg ${o==="month"?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Mes"}),f.jsx("button",{onClick:()=>c("all"),className:`px-3 py-1 text-sm rounded-lg ${o==="all"?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Todo"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[f.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4 border border-blue-100",children:[f.jsx("p",{className:"text-sm text-blue-800 mb-1",children:"Ventas Totales"}),f.jsx("p",{className:"text-2xl font-bold text-blue-900",children:u.totalSales})]}),f.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4 border border-green-100",children:[f.jsx("p",{className:"text-sm text-green-800 mb-1",children:"Ingresos"}),f.jsxs("p",{className:"text-2xl font-bold text-green-900",children:["$",u.totalRevenue.toLocaleString("es-CO")]})]}),f.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-4 border border-orange-100",children:[f.jsx("p",{className:"text-sm text-orange-800 mb-1",children:"Pedidos"}),f.jsx("p",{className:"text-2xl font-bold text-orange-900",children:u.totalOrders})]}),f.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-xl p-4 border border-red-100",children:[f.jsx("p",{className:"text-sm text-red-800 mb-1",children:"Pendientes"}),f.jsx("p",{className:"text-2xl font-bold text-red-900",children:u.pendingOrders})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Pedidos Recientes"}),e.length===0?f.jsxs("div",{className:"text-center py-8",children:[f.jsx("div",{className:"text-4xl mb-3",children:"📦"}),f.jsx("p",{className:"text-gray-500",children:"No hay pedidos en este período"})]}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cantidad"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(p=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:p.productName}),f.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:p.customerName}),f.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:p.quantity}),f.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:["$",p.totalPrice.toLocaleString("es-CO")]}),f.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:f.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${p.status==="pending"?"bg-yellow-100 text-yellow-800":p.status==="shipped"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:p.status==="pending"?"Pendiente":p.status==="shipped"?"Enviado":"Entregado"})})]},p.id))})]})})]}),f.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-orange-50 rounded-xl p-4 border border-purple-100",children:[f.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"💡 Consejo para aumentar ventas"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Actualiza regularmente tu catálogo con productos nuevos y ofrece promociones exclusivas a tus clientes para aumentar tus ventas."})]})]})},Q9=()=>{const{currentUser:n,userProfile:e}=ga(),[t,r]=oe.useState("none"),[s,o]=oe.useState(null),[c,u]=oe.useState(!0),[d,p]=oe.useState("dashboard"),y=al(),_=Bu();oe.useEffect(()=>{if(!n){y("/login");return}(async()=>{try{const M=await If(Kr(Lt,"users",n.uid));if(M.exists()){const R=M.data();if(R.partnerApplicationStatus&&(r(R.partnerApplicationStatus),R.partnerApplicationStatus!=="none")){const F=Wr(Lt,"partnerApplications"),q=rd(F,Pg("userId","==",n.uid)),W=Gl(q,ce=>{if(!ce.empty){const xe=ce.docs[0];o({id:xe.id,...xe.data()})}u(!1)});return()=>W()}}u(!1)}catch(M){console.error("Error checking application status:",M),u(!1)}})()},[n,y]);const A=async()=>{try{await W2(_),y("/login")}catch(j){console.error("Error al cerrar sesión:",j)}},x=()=>{r("pending")},k=()=>{switch(d){case"dashboard":return f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 rounded-xl p-6 border border-purple-100",children:[f.jsx("div",{className:"text-3xl mb-3",children:"📦"}),f.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Gestión de Productos"}),f.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Sube, edita y gestiona tu catálogo de productos"}),f.jsx("button",{onClick:()=>p("products"),className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white py-2 rounded-lg text-sm font-medium hover:shadow-lg transition-all",children:"Ir a productos"})]}),f.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 rounded-xl p-6 border border-orange-100",children:[f.jsx("div",{className:"text-3xl mb-3",children:"📊"}),f.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Estadísticas"}),f.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Revisa tus ventas y estadísticas de rendimiento"}),f.jsx("button",{className:"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 rounded-lg text-sm font-medium hover:shadow-lg transition-all",children:"Ver estadísticas"})]}),f.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-teal-50 rounded-xl p-6 border border-green-100",children:[f.jsx("div",{className:"text-3xl mb-3",children:"📄"}),f.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Catálogo PDF"}),f.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Descarga tu catálogo personalizado en formato PDF"}),f.jsx("button",{onClick:()=>p("catalog"),className:"w-full bg-gradient-to-r from-green-500 to-teal-500 text-white py-2 rounded-lg text-sm font-medium hover:shadow-lg transition-all",children:"Generar catálogo"})]}),f.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-amber-50 rounded-xl p-6 border border-yellow-100",children:[f.jsx("div",{className:"text-3xl mb-3",children:"💰"}),f.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Ventas Recientes"}),f.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Productos vendidos y pendientes de envío"}),f.jsx("button",{onClick:()=>p("sales"),className:"w-full bg-gradient-to-r from-yellow-500 to-amber-500 text-white py-2 rounded-lg text-sm font-medium hover:shadow-lg transition-all",children:"Ver ventas"})]})]}),f.jsx("div",{className:"lg:col-span-1",children:f.jsx(K9,{})})]});case"products":return f.jsx(rL,{});case"catalog":return f.jsx(W9,{});case"sales":return f.jsx(X9,{});default:return null}};return c?f.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-purple-600 via-red-500 to-orange-500",children:f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-white"})}):f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-red-500 to-orange-500",children:[f.jsx("header",{className:"bg-white/10 backdrop-blur-sm border-b border-white/20",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-16",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("h1",{className:"text-2xl font-bold text-white",children:"Panel de Socio"}),f.jsx("span",{className:"text-sm text-white/80",children:"Lilutecno"})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"text-sm text-white",children:["Bienvenido, ",f.jsx("span",{className:"font-medium",children:e?.displayName||n?.email})]}),f.jsx("button",{onClick:A,className:"bg-white/20 text-white px-4 py-2 rounded-lg hover:bg-white/30 transition-colors text-sm backdrop-blur-sm",children:"Cerrar Sesión"})]})]})})}),t==="approved"&&f.jsx("nav",{className:"bg-white/10 backdrop-blur-sm border-b border-white/20",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex space-x-8 overflow-x-auto py-4",children:[f.jsx("button",{onClick:()=>p("dashboard"),className:`whitespace-nowrap py-2 px-1 font-medium text-sm transition-colors ${d==="dashboard"?"text-white border-b-2 border-white":"text-white/80 hover:text-white"}`,children:"Dashboard"}),f.jsx("button",{onClick:()=>p("products"),className:`whitespace-nowrap py-2 px-1 font-medium text-sm transition-colors ${d==="products"?"text-white border-b-2 border-white":"text-white/80 hover:text-white"}`,children:"Productos"}),f.jsx("button",{onClick:()=>p("catalog"),className:`whitespace-nowrap py-2 px-1 font-medium text-sm transition-colors ${d==="catalog"?"text-white border-b-2 border-white":"text-white/80 hover:text-white"}`,children:"Catálogo"}),f.jsx("button",{onClick:()=>p("sales"),className:`whitespace-nowrap py-2 px-1 font-medium text-sm transition-colors ${d==="sales"?"text-white border-b-2 border-white":"text-white/80 hover:text-white"}`,children:"Ventas"})]})})}),f.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t==="none"&&f.jsx("div",{className:"max-w-2xl mx-auto",children:f.jsx(wN,{onApplicationSubmitted:x})}),t==="pending"&&f.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-8 backdrop-blur-sm border border-white/25 max-w-2xl mx-auto",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx("span",{className:"text-2xl",children:"⏳"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Solicitud Enviada"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Tu solicitud para unirte a nuestra red de socios ha sido enviada y está pendiente de revisión."}),f.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 text-left",children:[f.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Detalles de la solicitud:"}),f.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[f.jsxs("li",{children:[f.jsx("span",{className:"font-medium",children:"Nombre:"})," ",s?.fullName||"N/A"]}),f.jsxs("li",{children:[f.jsx("span",{className:"font-medium",children:"Email:"})," ",s?.email||"N/A"]}),f.jsxs("li",{children:[f.jsx("span",{className:"font-medium",children:"Tipo de socio:"})," ",s?.partnerType==="importer"?"Importador":"Dropshipper"]}),f.jsxs("li",{children:[f.jsx("span",{className:"font-medium",children:"Estado:"})," Pendiente de revisión"]})]})]}),f.jsx("div",{className:"mt-6 text-sm text-gray-500",children:f.jsx("p",{children:"Recibirás una notificación por correo cuando tu solicitud sea revisada."})})]})}),t==="approved"&&f.jsx("div",{children:k()}),t==="rejected"&&f.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-8 backdrop-blur-sm border border-white/25 max-w-2xl mx-auto",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx("span",{className:"text-2xl",children:"❌"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Solicitud Rechazada"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Lamentablemente, tu solicitud para unirte a nuestra red de socios ha sido rechazada."}),s?.rejectionReason&&f.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-left mb-6",children:[f.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:"Motivo del rechazo:"}),f.jsx("p",{className:"text-red-700",children:s.rejectionReason})]}),f.jsx("button",{onClick:()=>r("none"),className:"bg-gradient-to-r from-purple-600 to-orange-500 text-white font-medium py-2 px-6 rounded-lg hover:shadow-lg transition-all",children:"Volver a aplicar"})]})})]}),f.jsx("footer",{className:"bg-white/10 backdrop-blur-sm border-t border-white/20 mt-12",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:f.jsxs("div",{className:"flex justify-between items-center text-sm text-white/80",children:[f.jsx("div",{children:"© 2024 Lilutecno. Todos los derechos reservados."}),f.jsx("div",{children:"Panel de Socios v1.0"})]})})})]})},J9=()=>{const n=()=>{};return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-red-500 to-orange-500 py-12 px-4",children:f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"bg-white rounded-full p-6 shadow-2xl inline-block mb-6",children:f.jsx("span",{className:"text-4xl font-black bg-gradient-to-r from-purple-600 to-orange-500 bg-clip-text text-transparent",children:"LiluTecno"})}),f.jsx("h1",{className:"text-3xl md:text-4xl font-black text-white mb-4",children:"Únete a Nuestra Red de Socios"}),f.jsx("p",{className:"text-white/90 text-lg max-w-2xl mx-auto",children:"Trabaja con nosotros como importador o dropshipper y accede a herramientas exclusivas para hacer crecer tu negocio"})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[f.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20",children:[f.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Beneficios de ser Socio"}),f.jsxs("ul",{className:"space-y-4",children:[f.jsxs("li",{className:"flex items-start",children:[f.jsx("div",{className:"bg-white/20 rounded-full p-2 mr-4",children:f.jsx("span",{className:"text-white",children:"💰"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-white",children:"Precios Especiales"}),f.jsx("p",{className:"text-white/80 text-sm",children:"Accede a precios mayoristas con descuentos exclusivos"})]})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("div",{className:"bg-white/20 rounded-full p-2 mr-4",children:f.jsx("span",{className:"text-white",children:"📦"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-white",children:"Gestión de Inventario"}),f.jsx("p",{className:"text-white/80 text-sm",children:"Sube y gestiona tus propios productos en nuestra plataforma"})]})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("div",{className:"bg-white/20 rounded-full p-2 mr-4",children:f.jsx("span",{className:"text-white",children:"📊"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-white",children:"Estadísticas en Tiempo Real"}),f.jsx("p",{className:"text-white/80 text-sm",children:"Monitorea tus ventas y el rendimiento de tus productos"})]})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("div",{className:"bg-white/20 rounded-full p-2 mr-4",children:f.jsx("span",{className:"text-white",children:"📄"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-white",children:"Catálogo Personalizado"}),f.jsx("p",{className:"text-white/80 text-sm",children:"Genera catálogos PDF con tus productos y branding"})]})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("div",{className:"bg-white/20 rounded-full p-2 mr-4",children:f.jsx("span",{className:"text-white",children:"🚚"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-white",children:"Fulfillment Simplificado"}),f.jsx("p",{className:"text-white/80 text-sm",children:"Procesamiento de pedidos con entrega directa al cliente"})]})]})]})]}),f.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20",children:[f.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"¿Cómo Funciona?"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-orange-500 rounded-full w-8 h-8 flex items-center justify-center text-white font-bold mr-4 flex-shrink-0",children:"1"}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-white",children:"Regístrate"}),f.jsx("p",{className:"text-white/80 text-sm",children:"Completa el formulario con tu información"})]})]}),f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-orange-500 rounded-full w-8 h-8 flex items-center justify-center text-white font-bold mr-4 flex-shrink-0",children:"2"}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-white",children:"Revisión"}),f.jsx("p",{className:"text-white/80 text-sm",children:"Nuestro equipo revisará tu solicitud"})]})]}),f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-orange-500 rounded-full w-8 h-8 flex items-center justify-center text-white font-bold mr-4 flex-shrink-0",children:"3"}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-white",children:"Aprobación"}),f.jsx("p",{className:"text-white/80 text-sm",children:"Recibirás acceso a tu panel de socio"})]})]}),f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-orange-500 rounded-full w-8 h-8 flex items-center justify-center text-white font-bold mr-4 flex-shrink-0",children:"4"}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-white",children:"Comienza a Vender"}),f.jsx("p",{className:"text-white/80 text-sm",children:"Sube productos y empieza a generar ingresos"})]})]})]})]})]}),f.jsx("div",{className:"mb-8",children:f.jsx(wN,{onApplicationSubmitted:n})}),f.jsxs("div",{className:"text-center",children:[f.jsxs("p",{className:"text-white/80 mb-4",children:["¿Ya tienes una cuenta? ",f.jsx(qn,{to:"/login",className:"text-white font-bold hover:underline",children:"Inicia sesión"})," para acceder a tu panel"]}),f.jsx(qn,{to:"/",className:"inline-flex items-center text-white/80 hover:text-white transition-colors",children:"← Volver al inicio"})]})]})})},Z9=()=>{const{currentUser:n}=ga(),e=[{icon:"📦",title:"Gestión de Productos",description:"Sube y administra tu catálogo de productos con precios mayoristas y al público"},{icon:"📊",title:"Estadísticas en Tiempo Real",description:"Monitorea tus ventas, ingresos y el rendimiento de tus productos"},{icon:"📄",title:"Catálogos Personalizados",description:"Genera catálogos PDF profesionales con tu branding para clientes"},{icon:"💰",title:"Precios Competitivos",description:"Obtén precios especiales con margen de ganancia garantizado"},{icon:"🚚",title:"Fulfillment Simplificado",description:"Procesamiento de pedidos con entrega directa a tus clientes"},{icon:"👥",title:"Red de Socios",description:"Conecta con otros emprendedores y amplía tu red de negocios"}],t=[{title:"Ganancias Garantizadas",description:"5% de margen automático en todos los productos",icon:"📈"},{title:"Sin Inversión Inicial",description:"No necesitas stock propio, trabajamos bajo demanda",icon:"💸"},{title:"Soporte Continuo",description:"Equipo dedicado para resolver tus dudas y problemas",icon:"🎧"},{title:"Herramientas Profesionales",description:"Panel intuitivo con todas las herramientas que necesitas",icon:"🛠️"}],r=[{number:"1",title:"Regístrate",description:"Completa el formulario con tus datos"},{number:"2",title:"Revisión",description:"Nuestro equipo evalúa tu solicitud"},{number:"3",title:"Aprobación",description:"Recibes acceso al panel de socios"},{number:"4",title:"Comienza a Vender",description:"Sube productos y genera ingresos"}];return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-red-500 to-orange-500",children:[f.jsx("header",{className:"bg-white/10 backdrop-blur-sm border-b border-white/20",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-16",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"bg-white rounded-full p-2",children:f.jsx("span",{className:"text-xl font-black bg-gradient-to-r from-purple-600 to-orange-500 bg-clip-text text-transparent",children:"LT"})}),f.jsx("span",{className:"text-xl font-bold text-white",children:"LiluTecno"})]}),f.jsx("div",{children:n?f.jsx(qn,{to:"/partner",className:"bg-white text-purple-600 font-bold py-2 px-6 rounded-xl hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300",children:"Ir al Panel"}):f.jsxs("div",{className:"flex space-x-3",children:[f.jsx(qn,{to:"/login",className:"text-white font-medium hover:text-yellow-300 transition-colors",children:"Iniciar Sesión"}),f.jsx(qn,{to:"/register",className:"bg-white text-purple-600 font-bold py-2 px-6 rounded-xl hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300",children:"Registrarse"})]})})]})})}),f.jsx("section",{className:"py-16 md:py-24",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"text-center",children:[f.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-white mb-6",children:["Únete a Nuestra ",f.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-yellow-300 to-orange-300",children:"Red de Socios"})]}),f.jsx("p",{className:"text-xl text-white/90 max-w-3xl mx-auto mb-10",children:"Trabaja con LiluTecno como importador o dropshipper y accede a herramientas profesionales para hacer crecer tu negocio de e-commerce"}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[f.jsx(qn,{to:"/partner-apply",className:"bg-white text-purple-600 font-bold py-4 px-8 rounded-xl text-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 text-center",children:"Comenzar Ahora"}),f.jsx("a",{href:"#como-funciona",className:"bg-white/20 text-white font-bold py-4 px-8 rounded-xl text-lg hover:bg-white/30 transition-all duration-300 text-center backdrop-blur-sm border border-white/25",children:"Ver Cómo Funciona"})]})]})})}),f.jsx("section",{className:"py-16 bg-white/10 backdrop-blur-sm",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-black text-white mb-4",children:"Todo lo que Necesitas en un Solo Lugar"}),f.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Herramientas profesionales diseñadas para hacer crecer tu negocio de e-commerce"})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((s,o)=>f.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 hover:bg-white/20 transition-all duration-300",children:[f.jsx("div",{className:"text-4xl mb-4",children:s.icon}),f.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:s.title}),f.jsx("p",{className:"text-white/80",children:s.description})]},o))})]})}),f.jsx("section",{className:"py-16",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-black text-white mb-4",children:"Beneficios Exclusivos para Nuestros Socios"}),f.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Ventajas que te ayudarán a tener éxito en tu negocio"})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((s,o)=>f.jsxs("div",{className:"bg-gradient-to-br from-white/20 to-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 text-center",children:[f.jsx("div",{className:"text-3xl mb-4",children:s.icon}),f.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:s.title}),f.jsx("p",{className:"text-white/80 text-sm",children:s.description})]},o))})]})}),f.jsx("section",{id:"como-funciona",className:"py-16 bg-white/10 backdrop-blur-sm",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-black text-white mb-4",children:"¿Cómo Funciona?"}),f.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"En solo 4 pasos simples comienza a generar ingresos"})]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"hidden md:block absolute top-16 left-1/2 transform -translate-x-1/2 h-1 bg-white/30 w-3/4"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:r.map((s,o)=>f.jsxs("div",{className:"text-center relative",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-orange-500 rounded-full flex items-center justify-center text-white font-black text-xl mx-auto mb-4 relative z-10",children:s.number}),f.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:s.title}),f.jsx("p",{className:"text-white/80",children:s.description})]},o))})]})]})}),f.jsx("section",{className:"py-16",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-black text-white mb-4",children:"Lo que Dicen Nuestros Socios"}),f.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Historias de éxito de emprendedores que han crecido con nosotros"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20",children:[f.jsxs("div",{className:"flex items-center mb-4",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-white font-bold mr-4",children:"M"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-white",children:"María González"}),f.jsx("p",{className:"text-white/70 text-sm",children:"Dropshipper"})]})]}),f.jsx("p",{className:"text-white/90 italic",children:'"En solo 3 meses he duplicado mis ingresos. El panel es muy intuitivo y el soporte siempre está disponible para ayudarme."'}),f.jsx("div",{className:"flex text-yellow-400 mt-3",children:"★".repeat(5)})]}),f.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20",children:[f.jsxs("div",{className:"flex items-center mb-4",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex items-center justify-center text-white font-bold mr-4",children:"C"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-white",children:"Carlos Rodríguez"}),f.jsx("p",{className:"text-white/70 text-sm",children:"Importador"})]})]}),f.jsx("p",{className:"text-white/90 italic",children:'"La gestión de productos es increíblemente fácil. Puedo actualizar precios y stock en tiempo real. ¡Altamente recomendado!"'}),f.jsx("div",{className:"flex text-yellow-400 mt-3",children:"★".repeat(5)})]}),f.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20",children:[f.jsxs("div",{className:"flex items-center mb-4",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-teal-500 rounded-full flex items-center justify-center text-white font-bold mr-4",children:"A"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-white",children:"Ana Martínez"}),f.jsx("p",{className:"text-white/70 text-sm",children:"Emprendedora"})]})]}),f.jsx("p",{className:"text-white/90 italic",children:'"Los catálogos PDF que genero me han ayudado a cerrar más ventas. El margen de ganancia es justo y los productos son de alta calidad."'}),f.jsx("div",{className:"flex text-yellow-400 mt-3",children:"★".repeat(5)})]})]})]})}),f.jsx("section",{className:"py-16",children:f.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:f.jsxs("div",{className:"bg-gradient-to-r from-purple-600/30 to-orange-500/30 backdrop-blur-sm rounded-3xl p-12 border border-white/20",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-black text-white mb-6",children:"¿Listo para Comenzar?"}),f.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Únete a nuestra comunidad de emprendedores y comienza a generar ingresos hoy mismo"}),f.jsx(qn,{to:"/partner-apply",className:"bg-white text-purple-600 font-bold py-4 px-10 rounded-xl text-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 inline-block",children:"Aplicar Ahora"}),f.jsx("p",{className:"text-white/70 text-sm mt-4",children:"¡Es completamente gratis y toma menos de 5 minutos!"})]})})}),f.jsx("section",{className:"py-16 bg-white/10 backdrop-blur-sm",children:f.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-black text-white mb-4",children:"Preguntas Frecuentes"}),f.jsx("p",{className:"text-xl text-white/80",children:"Todo lo que necesitas saber sobre nuestro programa de socios"})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white/10 rounded-2xl p-6 border border-white/20",children:[f.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"¿Necesito inversión inicial para comenzar?"}),f.jsx("p",{className:"text-white/80",children:"No, nuestro modelo de dropshipping no requiere inversión inicial. No necesitas comprar productos por adelantado ni mantener stock propio."})]}),f.jsxs("div",{className:"bg-white/10 rounded-2xl p-6 border border-white/20",children:[f.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"¿Cuánto tiempo tardan en aprobar mi solicitud?"}),f.jsx("p",{className:"text-white/80",children:"Normalmente tomamos 1-2 días hábiles para revisar y aprobar las solicitudes. Te notificaremos por correo una vez que tu cuenta esté activa."})]}),f.jsxs("div",{className:"bg-white/10 rounded-2xl p-6 border border-white/20",children:[f.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"¿Qué tipo de productos puedo vender?"}),f.jsx("p",{className:"text-white/80",children:"Tenemos una amplia gama de productos tecnológicos, electrónica, hogar, moda y más. Puedes elegir los que mejor se adapten a tu nicho de mercado."})]}),f.jsxs("div",{className:"bg-white/10 rounded-2xl p-6 border border-white/20",children:[f.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"¿Cómo se manejan los envíos a los clientes?"}),f.jsx("p",{className:"text-white/80",children:"Nosotros nos encargamos del fulfillment. Una vez que haces una venta, nosotros enviamos el producto directamente a tu cliente con tu branding."})]})]})]})}),f.jsx("footer",{className:"bg-black/20 backdrop-blur-sm border-t border-white/20",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[f.jsx("div",{className:"bg-white rounded-full p-2",children:f.jsx("span",{className:"text-xl font-black bg-gradient-to-r from-purple-600 to-orange-500 bg-clip-text text-transparent",children:"LT"})}),f.jsx("span",{className:"text-xl font-bold text-white",children:"LiluTecno"})]}),f.jsx("p",{className:"text-white/70 text-sm",children:"Tecnología Mundial a Tu Alcance"})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-white font-bold mb-4",children:"Enlaces Rápidos"}),f.jsxs("ul",{className:"space-y-2",children:[f.jsx("li",{children:f.jsx(qn,{to:"/",className:"text-white/70 hover:text-white transition-colors",children:"Inicio"})}),f.jsx("li",{children:f.jsx(qn,{to:"/about",className:"text-white/70 hover:text-white transition-colors",children:"Sobre Nosotros"})}),f.jsx("li",{children:f.jsx(qn,{to:"/partner-apply",className:"text-white/70 hover:text-white transition-colors",children:"Ser Socio"})})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-white font-bold mb-4",children:"Legal"}),f.jsxs("ul",{className:"space-y-2",children:[f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition-colors",children:"Términos y Condiciones"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition-colors",children:"Política de Privacidad"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition-colors",children:"Cookies"})})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-white font-bold mb-4",children:"Contacto"}),f.jsxs("ul",{className:"space-y-2 text-white/70",children:[f.jsx("li",{children:"soporte@lilutecno.com"}),f.jsx("li",{children:"+57 300 123 4567"}),f.jsx("li",{children:"Bogotá, Colombia"})]})]})]}),f.jsx("div",{className:"border-t border-white/10 mt-8 pt-8 text-center",children:f.jsxs("p",{className:"text-white/70 text-sm",children:["© ",new Date().getFullYear()," LiluTecno. Todos los derechos reservados."]})})]})})]})};E6.createRoot(document.getElementById("root")).render(f.jsx(S2.StrictMode,{children:f.jsx(VE,{children:f.jsx(Rk,{children:f.jsx(qk,{children:f.jsxs(gE,{children:[f.jsx(Ga,{path:"/",element:f.jsx(Bk,{})}),f.jsx(Ga,{path:"/product/:productId",element:f.jsx(Hk,{})}),f.jsx(Ga,{path:"/about",element:f.jsx(Yk,{})}),f.jsx(Ga,{path:"/login",element:f.jsx(Gk,{})}),f.jsx(Ga,{path:"/register",element:f.jsx($k,{})}),f.jsx(Ga,{path:"/partner-landing",element:f.jsx(Z9,{})}),f.jsx(Ga,{path:"/partner-apply",element:f.jsx(J9,{})}),f.jsx(Ga,{path:"/admin",element:f.jsx(lm,{roles:["admin"],children:f.jsx(eL,{})})}),f.jsx(Ga,{path:"/admin/add-product",element:f.jsx(lm,{roles:["admin"],children:f.jsx(tL,{})})}),f.jsx(Ga,{path:"/admin/edit-product/:id",element:f.jsx(lm,{roles:["admin"],children:f.jsx(nL,{})})}),f.jsx(Ga,{path:"/partner",element:f.jsx(lm,{roles:["partner","admin"],children:f.jsx(Q9,{})})})]})})})})}));export{Xn as _,eD as c,i_ as g};
